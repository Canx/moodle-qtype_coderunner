function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a,b){if("function"==typeof define&&define.amd){define ("qtype_coderunner/blockly/python_compressed",["./blockly_compressed.js"],b)}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=b(require("./blockly_compressed.js"))}else{a.Blockly.Python=b(a.Blockly)}})(this,function(i){'use strict';i.Python=new i.Generator("Python");i.Python.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip");i.Python.ORDER_ATOMIC=0;i.Python.ORDER_COLLECTION=1;i.Python.ORDER_STRING_CONVERSION=1;i.Python.ORDER_MEMBER=2.1;i.Python.ORDER_FUNCTION_CALL=2.2;i.Python.ORDER_EXPONENTIATION=3;i.Python.ORDER_UNARY_SIGN=4;i.Python.ORDER_BITWISE_NOT=4;i.Python.ORDER_MULTIPLICATIVE=5;i.Python.ORDER_ADDITIVE=6;i.Python.ORDER_BITWISE_SHIFT=7;i.Python.ORDER_BITWISE_AND=8;i.Python.ORDER_BITWISE_XOR=9;i.Python.ORDER_BITWISE_OR=10;i.Python.ORDER_RELATIONAL=11;i.Python.ORDER_LOGICAL_NOT=12;i.Python.ORDER_LOGICAL_AND=13;i.Python.ORDER_LOGICAL_OR=14;i.Python.ORDER_CONDITIONAL=15;i.Python.ORDER_LAMBDA=16;i.Python.ORDER_NONE=99;i.Python.ORDER_OVERRIDES=[[i.Python.ORDER_FUNCTION_CALL,i.Python.ORDER_MEMBER],[i.Python.ORDER_FUNCTION_CALL,i.Python.ORDER_FUNCTION_CALL],[i.Python.ORDER_MEMBER,i.Python.ORDER_MEMBER],[i.Python.ORDER_MEMBER,i.Python.ORDER_FUNCTION_CALL],[i.Python.ORDER_LOGICAL_NOT,i.Python.ORDER_LOGICAL_NOT],[i.Python.ORDER_LOGICAL_AND,i.Python.ORDER_LOGICAL_AND],[i.Python.ORDER_LOGICAL_OR,i.Python.ORDER_LOGICAL_OR]];i.Python.init=function(e){i.Python.PASS=this.INDENT+"pass\n";i.Python.definitions_=Object.create(null);i.Python.functionNames_=Object.create(null);i.Python.variableDB_?i.Python.variableDB_.reset():i.Python.variableDB_=new i.Names(i.Python.RESERVED_WORDS_);i.Python.variableDB_.setVariableMap(e.getVariableMap());for(var f=[],b=i.Variables.allDeveloperVariables(e),c=0;c<b.length;c++){f.push(i.Python.variableDB_.getName(b[c],i.Names.DEVELOPER_VARIABLE_TYPE)+" = None")}e=i.Variables.allUsedVarModels(e);for(c=0;c<e.length;c++){f.push(i.Python.variableDB_.getName(e[c].getId(),i.VARIABLE_CATEGORY_NAME)+" = None")}i.Python.definitions_.variables=f.join("\n")};i.Python.finish=function(f){var a=[],b=[],c;for(c in i.Python.definitions_){var g=i.Python.definitions_[c];g.match(/^(from\s+\S+\s+)?import\s+\S+/)?a.push(g):b.push(g)}delete i.Python.definitions_;delete i.Python.functionNames_;i.Python.variableDB_.reset();return(a.join("\n")+"\n\n"+b.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+f};i.Python.scrubNakedValue=function(b){return b+"\n"};i.Python.quote_=function(c){c=c.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n");var d="'";-1!==c.indexOf("'")&&(-1===c.indexOf("\"")?d="\"":c=c.replace(/'/g,"\\'"));return d+c+d};i.Python.multiline_quote_=function(b){b=b.replace(/'''/g,"\\'\\'\\'");return"'''"+b+"'''"};i.Python.scrub_=function(g,h,b){var j="";if(!g.outputConnection||!g.outputConnection.targetConnection){var k=g.getCommentText();k&&(k=i.utils.string.wrap(k,i.Python.COMMENT_WRAP-3),j+=i.Python.prefixLines(k+"\n","# "));for(var l=0;l<g.inputList.length;l++){g.inputList[l].type==i.INPUT_VALUE&&(k=g.inputList[l].connection.targetBlock())&&(k=i.Python.allNestedComments(k))&&(j+=i.Python.prefixLines(k,"# "))}}g=g.nextConnection&&g.nextConnection.targetBlock();b=b?"":i.Python.blockToCode(g);return j+h+b};i.Python.getAdjustedInt=function(f,g,b,h){b=b||0;f.workspace.options.oneBasedIndex&&b--;var d=f.workspace.options.oneBasedIndex?"1":"0";f=i.Python.valueToCode(f,g,b?i.Python.ORDER_ADDITIVE:i.Python.ORDER_NONE)||d;i.isNumber(f)?(f=parseInt(f,10)+b,h&&(f=-f)):(f=0<b?"int("+f+" + "+b+")":0>b?"int("+f+" - "+-b+")":"int("+f+")",h&&(f="-"+f));return f};i.Python.colour={};i.Python.colour_picker=function(b){return[i.Python.quote_(b.getFieldValue("COLOUR")),i.Python.ORDER_ATOMIC]};i.Python.colour_random=function(){i.Python.definitions_.import_random="import random";return["'#%06x' % random.randint(0, 2**24 - 1)",i.Python.ORDER_FUNCTION_CALL]};i.Python.colour_rgb=function(e){var f=i.Python.provideFunction_("colour_rgb",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b):","  r = round(min(100, max(0, r)) * 2.55)","  g = round(min(100, max(0, g)) * 2.55)","  b = round(min(100, max(0, b)) * 2.55)","  return '#%02x%02x%02x' % (r, g, b)"]),b=i.Python.valueToCode(e,"RED",i.Python.ORDER_NONE)||0,c=i.Python.valueToCode(e,"GREEN",i.Python.ORDER_NONE)||0;e=i.Python.valueToCode(e,"BLUE",i.Python.ORDER_NONE)||0;return[f+"("+b+", "+c+", "+e+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.colour_blend=function(e){var f=i.Python.provideFunction_("colour_blend",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(colour1, colour2, ratio):","  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)","  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)","  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)","  ratio = min(1, max(0, ratio))","  r = round(r1 * (1 - ratio) + r2 * ratio)","  g = round(g1 * (1 - ratio) + g2 * ratio)","  b = round(b1 * (1 - ratio) + b2 * ratio)","  return '#%02x%02x%02x' % (r, g, b)"]),b=i.Python.valueToCode(e,"COLOUR1",i.Python.ORDER_NONE)||"'#000000'",c=i.Python.valueToCode(e,"COLOUR2",i.Python.ORDER_NONE)||"'#000000'";e=i.Python.valueToCode(e,"RATIO",i.Python.ORDER_NONE)||0;return[f+"("+b+", "+c+", "+e+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.lists={};i.Python.lists_create_empty=function(){return["[]",i.Python.ORDER_ATOMIC]};i.Python.lists_create_with=function(d){for(var a=Array(d.itemCount_),b=0;b<d.itemCount_;b++){a[b]=i.Python.valueToCode(d,"ADD"+b,i.Python.ORDER_NONE)||"None"}return["["+a.join(", ")+"]",i.Python.ORDER_ATOMIC]};i.Python.lists_repeat=function(c){var d=i.Python.valueToCode(c,"ITEM",i.Python.ORDER_NONE)||"None";c=i.Python.valueToCode(c,"NUM",i.Python.ORDER_MULTIPLICATIVE)||"0";return["["+d+"] * "+c,i.Python.ORDER_MULTIPLICATIVE]};i.Python.lists_length=function(b){return["len("+(i.Python.valueToCode(b,"VALUE",i.Python.ORDER_NONE)||"[]")+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.lists_isEmpty=function(b){return["not len("+(i.Python.valueToCode(b,"VALUE",i.Python.ORDER_NONE)||"[]")+")",i.Python.ORDER_LOGICAL_NOT]};i.Python.lists_indexOf=function(g){var h=i.Python.valueToCode(g,"FIND",i.Python.ORDER_NONE)||"[]",b=i.Python.valueToCode(g,"VALUE",i.Python.ORDER_NONE)||"''";if(g.workspace.options.oneBasedIndex)var c=" 0",j=" + 1",k="";else c=" -1",j="",k=" - 1";if("FIRST"==g.getFieldValue("END"))return g=i.Python.provideFunction_("first_index",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = my_list.index(elem)"+j,"  except: index ="+c,"  return index"]),[g+"("+b+", "+h+")",i.Python.ORDER_FUNCTION_CALL];g=i.Python.provideFunction_("last_index",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = len(my_list) - my_list[::-1].index(elem)"+k,"  except: index ="+c,"  return index"]);return[g+"("+b+", "+h+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.lists_getIndex=function(e){var f=e.getFieldValue("MODE")||"GET",b=e.getFieldValue("WHERE")||"FROM_START",c=i.Python.valueToCode(e,"VALUE","RANDOM"==b?i.Python.ORDER_NONE:i.Python.ORDER_MEMBER)||"[]";switch(b){case"FIRST":if("GET"==f)return[c+"[0]",i.Python.ORDER_MEMBER];if("GET_REMOVE"==f)return[c+".pop(0)",i.Python.ORDER_FUNCTION_CALL];if("REMOVE"==f)return c+".pop(0)\n";break;case"LAST":if("GET"==f)return[c+"[-1]",i.Python.ORDER_MEMBER];if("GET_REMOVE"==f)return[c+".pop()",i.Python.ORDER_FUNCTION_CALL];if("REMOVE"==f)return c+".pop()\n";break;case"FROM_START":e=i.Python.getAdjustedInt(e,"AT");if("GET"==f)return[c+"["+e+"]",i.Python.ORDER_MEMBER];if("GET_REMOVE"==f)return[c+".pop("+e+")",i.Python.ORDER_FUNCTION_CALL];if("REMOVE"==f)return c+".pop("+e+")\n";break;case"FROM_END":e=i.Python.getAdjustedInt(e,"AT",1,!0);if("GET"==f)return[c+"["+e+"]",i.Python.ORDER_MEMBER];if("GET_REMOVE"==f)return[c+".pop("+e+")",i.Python.ORDER_FUNCTION_CALL];if("REMOVE"==f)return c+".pop("+e+")\n";break;case"RANDOM":i.Python.definitions_.import_random="import random";if("GET"==f)return["random.choice("+c+")",i.Python.ORDER_FUNCTION_CALL];c=i.Python.provideFunction_("lists_remove_random_item",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"])+"("+c+")";if("GET_REMOVE"==f)return[c,i.Python.ORDER_FUNCTION_CALL];if("REMOVE"==f)return c+"\n";}throw Error("Unhandled combination (lists_getIndex).")};i.Python.lists_setIndex=function(f){var g=i.Python.valueToCode(f,"LIST",i.Python.ORDER_MEMBER)||"[]",h=f.getFieldValue("MODE")||"GET",c=f.getFieldValue("WHERE")||"FROM_START",j=i.Python.valueToCode(f,"TO",i.Python.ORDER_NONE)||"None";switch(c){case"FIRST":if("SET"==h)return g+"[0] = "+j+"\n";if("INSERT"==h)return g+".insert(0, "+j+")\n";break;case"LAST":if("SET"==h)return g+"[-1] = "+j+"\n";if("INSERT"==h)return g+".append("+j+")\n";break;case"FROM_START":f=i.Python.getAdjustedInt(f,"AT");if("SET"==h)return g+"["+f+"] = "+j+"\n";if("INSERT"==h)return g+".insert("+f+", "+j+")\n";break;case"FROM_END":f=i.Python.getAdjustedInt(f,"AT",1,!0);if("SET"==h)return g+"["+f+"] = "+j+"\n";if("INSERT"==h)return g+".insert("+f+", "+j+")\n";break;case"RANDOM":i.Python.definitions_.import_random="import random";g.match(/^\w+$/)?f="":(f=i.Python.variableDB_.getDistinctName("tmp_list",i.VARIABLE_CATEGORY_NAME),c=f+" = "+g+"\n",g=f,f=c);c=i.Python.variableDB_.getDistinctName("tmp_x",i.VARIABLE_CATEGORY_NAME);f+=c+" = int(random.random() * len("+g+"))\n";if("SET"==h)return f+(g+"["+c+"] = "+j+"\n");if("INSERT"==h)return f+(g+".insert("+c+", "+j+")\n");}throw Error("Unhandled combination (lists_setIndex).")};i.Python.lists_getSublist=function(e){var f=i.Python.valueToCode(e,"LIST",i.Python.ORDER_MEMBER)||"[]",b=e.getFieldValue("WHERE1"),g=e.getFieldValue("WHERE2");switch(b){case"FROM_START":b=i.Python.getAdjustedInt(e,"AT1");"0"==b&&(b="");break;case"FROM_END":b=i.Python.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":b="";break;default:throw Error("Unhandled option (lists_getSublist)");}switch(g){case"FROM_START":e=i.Python.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=i.Python.getAdjustedInt(e,"AT2",0,!0);i.isNumber(e+"")?"0"==e&&(e=""):(i.Python.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (lists_getSublist)");}return[f+"["+b+" : "+e+"]",i.Python.ORDER_MEMBER]};i.Python.lists_sort=function(d){var e=i.Python.valueToCode(d,"LIST",i.Python.ORDER_NONE)||"[]",b=d.getFieldValue("TYPE");d="1"===d.getFieldValue("DIRECTION")?"False":"True";return[i.Python.provideFunction_("lists_sort",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, type, reverse):","  def try_float(s):","    try:","      return float(s)","    except:","      return 0","  key_funcs = {","    \"NUMERIC\": try_float,","    \"TEXT\": str,","    \"IGNORE_CASE\": lambda s: str(s).lower()","  }","  key_func = key_funcs[type]","  list_cpy = list(my_list)","  return sorted(list_cpy, key=key_func, reverse=reverse)"])+"("+e+", \""+b+"\", "+d+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.lists_split=function(c){var d=c.getFieldValue("MODE");if("SPLIT"==d)d=i.Python.valueToCode(c,"INPUT",i.Python.ORDER_MEMBER)||"''",c=i.Python.valueToCode(c,"DELIM",i.Python.ORDER_NONE),c=d+".split("+c+")";else if("JOIN"==d)d=i.Python.valueToCode(c,"INPUT",i.Python.ORDER_NONE)||"[]",c=i.Python.valueToCode(c,"DELIM",i.Python.ORDER_MEMBER)||"''",c=c+".join("+d+")";else throw Error("Unknown mode: "+d);return[c,i.Python.ORDER_FUNCTION_CALL]};i.Python.lists_reverse=function(b){return["list(reversed("+(i.Python.valueToCode(b,"LIST",i.Python.ORDER_NONE)||"[]")+"))",i.Python.ORDER_FUNCTION_CALL]};i.Python.logic={};i.Python.controls_if=function(f){var a=0,g="";i.Python.STATEMENT_PREFIX&&(g+=i.Python.injectId(i.Python.STATEMENT_PREFIX,f));do{var h=i.Python.valueToCode(f,"IF"+a,i.Python.ORDER_NONE)||"False",d=i.Python.statementToCode(f,"DO"+a)||i.Python.PASS;i.Python.STATEMENT_SUFFIX&&(d=i.Python.prefixLines(i.Python.injectId(i.Python.STATEMENT_SUFFIX,f),i.Python.INDENT)+d);g+=(0==a?"if ":"elif ")+h+":\n"+d;++a}while(f.getInput("IF"+a));if(f.getInput("ELSE")||i.Python.STATEMENT_SUFFIX)d=i.Python.statementToCode(f,"ELSE")||i.Python.PASS,i.Python.STATEMENT_SUFFIX&&(d=i.Python.prefixLines(i.Python.injectId(i.Python.STATEMENT_SUFFIX,f),i.Python.INDENT)+d),g+="else:\n"+d;return g};i.Python.controls_ifelse=i.Python.controls_if;i.Python.logic_compare=function(e){var f={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],b=i.Python.ORDER_RELATIONAL,c=i.Python.valueToCode(e,"A",b)||"0";e=i.Python.valueToCode(e,"B",b)||"0";return[c+" "+f+" "+e,b]};i.Python.logic_operation=function(f){var g="AND"==f.getFieldValue("OP")?"and":"or",b="and"==g?i.Python.ORDER_LOGICAL_AND:i.Python.ORDER_LOGICAL_OR,c=i.Python.valueToCode(f,"A",b);f=i.Python.valueToCode(f,"B",b);if(c||f){var h="and"==g?"True":"False";c||(c=h);f||(f=h)}else f=c="False";return[c+" "+g+" "+f,b]};i.Python.logic_negate=function(b){return["not "+(i.Python.valueToCode(b,"BOOL",i.Python.ORDER_LOGICAL_NOT)||"True"),i.Python.ORDER_LOGICAL_NOT]};i.Python.logic_boolean=function(b){return["TRUE"==b.getFieldValue("BOOL")?"True":"False",i.Python.ORDER_ATOMIC]};i.Python.logic_null=function(){return["None",i.Python.ORDER_ATOMIC]};i.Python.logic_ternary=function(d){var e=i.Python.valueToCode(d,"IF",i.Python.ORDER_CONDITIONAL)||"False",b=i.Python.valueToCode(d,"THEN",i.Python.ORDER_CONDITIONAL)||"None";d=i.Python.valueToCode(d,"ELSE",i.Python.ORDER_CONDITIONAL)||"None";return[b+" if "+e+" else "+d,i.Python.ORDER_CONDITIONAL]};i.Python.loops={};i.Python.controls_repeat_ext=function(d){var a=d.getField("TIMES")?parseInt(d.getFieldValue("TIMES"),10)+"":i.Python.valueToCode(d,"TIMES",i.Python.ORDER_NONE)||"0";a=i.isNumber(a)?parseInt(a,10):"int("+a+")";var e=i.Python.statementToCode(d,"DO");e=i.Python.addLoopTrap(e,d)||i.Python.PASS;return"for "+i.Python.variableDB_.getDistinctName("count",i.VARIABLE_CATEGORY_NAME)+" in range("+a+"):\n"+e};i.Python.controls_repeat=i.Python.controls_repeat_ext;i.Python.controls_whileUntil=function(e){var a="UNTIL"==e.getFieldValue("MODE"),b=i.Python.valueToCode(e,"BOOL",a?i.Python.ORDER_LOGICAL_NOT:i.Python.ORDER_NONE)||"False",f=i.Python.statementToCode(e,"DO");f=i.Python.addLoopTrap(f,e)||i.Python.PASS;a&&(b="not "+b);return"while "+b+":\n"+f};i.Python.controls_for=function(j){var m=i.Python.variableDB_.getName(j.getFieldValue("VAR"),i.VARIABLE_CATEGORY_NAME),b=i.Python.valueToCode(j,"FROM",i.Python.ORDER_NONE)||"0",n=i.Python.valueToCode(j,"TO",i.Python.ORDER_NONE)||"0",o=i.Python.valueToCode(j,"BY",i.Python.ORDER_NONE)||"1",p=i.Python.statementToCode(j,"DO");p=i.Python.addLoopTrap(p,j)||i.Python.PASS;var q="",r=function(){return i.Python.provideFunction_("upRange",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start <= stop:","    yield start","    start += abs(step)"])},h=function(){return i.Python.provideFunction_("downRange",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(start, stop, step):","  while start >= stop:","    yield start","    start -= abs(step)"])};j=function(a,d,b){return"("+a+" <= "+d+") and "+r()+"("+a+", "+d+", "+b+") or "+h()+"("+a+", "+d+", "+b+")"};if(i.isNumber(b)&&i.isNumber(n)&&i.isNumber(o))b=+b,n=+n,o=Math.abs(+o),0==b%1&&0==n%1&&0==o%1?(b<=n?(n++,j=0==b&&1==o?n:b+", "+n,1!=o&&(j+=", "+o)):(n--,j=b+", "+n+", -"+o),j="range("+j+")"):(j=b<n?r():h(),j+="("+b+", "+n+", "+o+")");else{var g=function(b,d){i.isNumber(b)?b=+b:b.match(/^\w+$/)?b="float("+b+")":(d=i.Python.variableDB_.getDistinctName(m+d,i.VARIABLE_CATEGORY_NAME),q+=d+" = float("+b+")\n",b=d);return b};b=g(b,"_start");n=g(n,"_end");g(o,"_inc");j="number"==typeof b&&"number"==typeof n?b<n?r(b,n,o):h(b,n,o):j(b,n,o)}return q+="for "+m+" in "+j+":\n"+p};i.Python.controls_forEach=function(e){var a=i.Python.variableDB_.getName(e.getFieldValue("VAR"),i.VARIABLE_CATEGORY_NAME),b=i.Python.valueToCode(e,"LIST",i.Python.ORDER_RELATIONAL)||"[]",c=i.Python.statementToCode(e,"DO");c=i.Python.addLoopTrap(c,e)||i.Python.PASS;return"for "+a+" in "+b+":\n"+c};i.Python.controls_flow_statements=function(d){var a="";i.Python.STATEMENT_PREFIX&&(a+=i.Python.injectId(i.Python.STATEMENT_PREFIX,d));i.Python.STATEMENT_SUFFIX&&(a+=i.Python.injectId(i.Python.STATEMENT_SUFFIX,d));if(i.Python.STATEMENT_PREFIX){var e=i.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(d);e&&!e.suppressPrefixSuffix&&(a+=i.Python.injectId(i.Python.STATEMENT_PREFIX,e))}switch(d.getFieldValue("FLOW")){case"BREAK":return a+"break\n";case"CONTINUE":return a+"continue\n";}throw Error("Unknown flow statement.")};i.Python.math={};i.Python.addReservedWords("math,random,Number");i.Python.math_number=function(c){c=+c.getFieldValue("NUM");if(1/0==c){c="float(\"inf\")";var d=i.Python.ORDER_FUNCTION_CALL}else-Infinity==c?(c="-float(\"inf\")",d=i.Python.ORDER_UNARY_SIGN):d=0>c?i.Python.ORDER_UNARY_SIGN:i.Python.ORDER_ATOMIC;return[c,d]};i.Python.math_arithmetic=function(e){var f={ADD:[" + ",i.Python.ORDER_ADDITIVE],MINUS:[" - ",i.Python.ORDER_ADDITIVE],MULTIPLY:[" * ",i.Python.ORDER_MULTIPLICATIVE],DIVIDE:[" / ",i.Python.ORDER_MULTIPLICATIVE],POWER:[" ** ",i.Python.ORDER_EXPONENTIATION]}[e.getFieldValue("OP")],g=f[0];f=f[1];var c=i.Python.valueToCode(e,"A",f)||"0";e=i.Python.valueToCode(e,"B",f)||"0";return[c+g+e,f]};i.Python.math_single=function(d){var e=d.getFieldValue("OP");if("NEG"==e){var b=i.Python.valueToCode(d,"NUM",i.Python.ORDER_UNARY_SIGN)||"0";return["-"+b,i.Python.ORDER_UNARY_SIGN]}i.Python.definitions_.import_math="import math";d="SIN"==e||"COS"==e||"TAN"==e?i.Python.valueToCode(d,"NUM",i.Python.ORDER_MULTIPLICATIVE)||"0":i.Python.valueToCode(d,"NUM",i.Python.ORDER_NONE)||"0";switch(e){case"ABS":b="math.fabs("+d+")";break;case"ROOT":b="math.sqrt("+d+")";break;case"LN":b="math.log("+d+")";break;case"LOG10":b="math.log10("+d+")";break;case"EXP":b="math.exp("+d+")";break;case"POW10":b="math.pow(10,"+d+")";break;case"ROUND":b="round("+d+")";break;case"ROUNDUP":b="math.ceil("+d+")";break;case"ROUNDDOWN":b="math.floor("+d+")";break;case"SIN":b="math.sin("+d+" / 180.0 * math.pi)";break;case"COS":b="math.cos("+d+" / 180.0 * math.pi)";break;case"TAN":b="math.tan("+d+" / 180.0 * math.pi)";}if(b)return[b,i.Python.ORDER_FUNCTION_CALL];switch(e){case"ASIN":b="math.asin("+d+") / math.pi * 180";break;case"ACOS":b="math.acos("+d+") / math.pi * 180";break;case"ATAN":b="math.atan("+d+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+e);}return[b,i.Python.ORDER_MULTIPLICATIVE]};i.Python.math_constant=function(c){var d={PI:["math.pi",i.Python.ORDER_MEMBER],E:["math.e",i.Python.ORDER_MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",i.Python.ORDER_MULTIPLICATIVE],SQRT2:["math.sqrt(2)",i.Python.ORDER_MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",i.Python.ORDER_MEMBER],INFINITY:["float('inf')",i.Python.ORDER_ATOMIC]};c=c.getFieldValue("CONSTANT");"INFINITY"!=c&&(i.Python.definitions_.import_math="import math");return d[c]};i.Python.math_number_property=function(e){var f=i.Python.valueToCode(e,"NUMBER_TO_CHECK",i.Python.ORDER_MULTIPLICATIVE)||"0",b=e.getFieldValue("PROPERTY");if("PRIME"==b)return i.Python.definitions_.import_math="import math",i.Python.definitions_.from_numbers_import_Number="from numbers import Number",[i.Python.provideFunction_("math_isPrime",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(n):","  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  # If n is not a number but a string, try parsing it.","  if not isinstance(n, Number):","    try:","      n = float(n)","    except:","      return False","  if n == 2 or n == 3:","    return True","  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.","  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:","    return False","  # Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for x in range(6, int(math.sqrt(n)) + 2, 6):","    if n % (x - 1) == 0 or n % (x + 1) == 0:","      return False","  return True"])+"("+f+")",i.Python.ORDER_FUNCTION_CALL];switch(b){case"EVEN":var c=f+" % 2 == 0";break;case"ODD":c=f+" % 2 == 1";break;case"WHOLE":c=f+" % 1 == 0";break;case"POSITIVE":c=f+" > 0";break;case"NEGATIVE":c=f+" < 0";break;case"DIVISIBLE_BY":e=i.Python.valueToCode(e,"DIVISOR",i.Python.ORDER_MULTIPLICATIVE);if(!e||"0"==e)return["False",i.Python.ORDER_ATOMIC];c=f+" % "+e+" == 0";}return[c,i.Python.ORDER_RELATIONAL]};i.Python.math_change=function(c){i.Python.definitions_.from_numbers_import_Number="from numbers import Number";var d=i.Python.valueToCode(c,"DELTA",i.Python.ORDER_ADDITIVE)||"0";c=i.Python.variableDB_.getName(c.getFieldValue("VAR"),i.VARIABLE_CATEGORY_NAME);return c+" = ("+c+" if isinstance("+c+", Number) else 0) + "+d+"\n"};i.Python.math_round=i.Python.math_single;i.Python.math_trig=i.Python.math_single;i.Python.math_on_list=function(c){var d=c.getFieldValue("OP");c=i.Python.valueToCode(c,"LIST",i.Python.ORDER_NONE)||"[]";switch(d){case"SUM":d="sum("+c+")";break;case"MIN":d="min("+c+")";break;case"MAX":d="max("+c+")";break;case"AVERAGE":i.Python.definitions_.from_numbers_import_Number="from numbers import Number";d=i.Python.provideFunction_("math_mean",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = [e for e in myList if isinstance(e, Number)]","  if not localList: return","  return float(sum(localList)) / len(localList)"]);d=d+"("+c+")";break;case"MEDIAN":i.Python.definitions_.from_numbers_import_Number="from numbers import Number";d=i.Python.provideFunction_("math_median",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  localList = sorted([e for e in myList if isinstance(e, Number)])","  if not localList: return","  if len(localList) % 2 == 0:","    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0","  else:","    return localList[(len(localList) - 1) // 2]"]);d=d+"("+c+")";break;case"MODE":d=i.Python.provideFunction_("math_modes",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(some_list):","  modes = []","  # Using a lists of [item, count] to keep count rather than dict","  # to avoid \"unhashable\" errors when the counted item is itself a list or dict.","  counts = []","  maxCount = 1","  for item in some_list:","    found = False","    for count in counts:","      if count[0] == item:","        count[1] += 1","        maxCount = max(maxCount, count[1])","        found = True","    if not found:","      counts.append([item, 1])","  for counted_item, item_count in counts:","    if item_count == maxCount:","      modes.append(counted_item)","  return modes"]);d=d+"("+c+")";break;case"STD_DEV":i.Python.definitions_.import_math="import math";d=i.Python.provideFunction_("math_standard_deviation",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(numbers):","  n = len(numbers)","  if n == 0: return","  mean = float(sum(numbers)) / n","  variance = sum((x - mean) ** 2 for x in numbers) / n","  return math.sqrt(variance)"]);d=d+"("+c+")";break;case"RANDOM":i.Python.definitions_.import_random="import random";d="random.choice("+c+")";break;default:throw Error("Unknown operator: "+d);}return[d,i.Python.ORDER_FUNCTION_CALL]};i.Python.math_modulo=function(c){var d=i.Python.valueToCode(c,"DIVIDEND",i.Python.ORDER_MULTIPLICATIVE)||"0";c=i.Python.valueToCode(c,"DIVISOR",i.Python.ORDER_MULTIPLICATIVE)||"0";return[d+" % "+c,i.Python.ORDER_MULTIPLICATIVE]};i.Python.math_constrain=function(d){var e=i.Python.valueToCode(d,"VALUE",i.Python.ORDER_NONE)||"0",b=i.Python.valueToCode(d,"LOW",i.Python.ORDER_NONE)||"0";d=i.Python.valueToCode(d,"HIGH",i.Python.ORDER_NONE)||"float('inf')";return["min(max("+e+", "+b+"), "+d+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.math_random_int=function(c){i.Python.definitions_.import_random="import random";var d=i.Python.valueToCode(c,"FROM",i.Python.ORDER_NONE)||"0";c=i.Python.valueToCode(c,"TO",i.Python.ORDER_NONE)||"0";return["random.randint("+d+", "+c+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.math_random_float=function(){i.Python.definitions_.import_random="import random";return["random.random()",i.Python.ORDER_FUNCTION_CALL]};i.Python.math_atan2=function(c){i.Python.definitions_.import_math="import math";var a=i.Python.valueToCode(c,"X",i.Python.ORDER_NONE)||"0";return["math.atan2("+(i.Python.valueToCode(c,"Y",i.Python.ORDER_NONE)||"0")+", "+a+") / math.pi * 180",i.Python.ORDER_MULTIPLICATIVE]};i.Python.procedures={};i.Python.procedures_defreturn=function(j){for(var a=[],n,o=j.workspace,p=i.Variables.allUsedVarModels(o)||[],q=0;n=p[q];q++){n=n.name,-1==j.getVars().indexOf(n)&&a.push(i.Python.variableDB_.getName(n,i.VARIABLE_CATEGORY_NAME))}p=i.Variables.allDeveloperVariables(o);for(q=0;q<p.length;q++){a.push(i.Python.variableDB_.getName(p[q],i.Names.DEVELOPER_VARIABLE_TYPE))}a=a.length?i.Python.INDENT+"global "+a.join(", ")+"\n":"";o=i.Python.variableDB_.getName(j.getFieldValue("NAME"),i.PROCEDURE_CATEGORY_NAME);n="";i.Python.STATEMENT_PREFIX&&(n+=i.Python.injectId(i.Python.STATEMENT_PREFIX,j));i.Python.STATEMENT_SUFFIX&&(n+=i.Python.injectId(i.Python.STATEMENT_SUFFIX,j));n&&(n=i.Python.prefixLines(n,i.Python.INDENT));var r="";i.Python.INFINITE_LOOP_TRAP&&(r=i.Python.prefixLines(i.Python.injectId(i.Python.INFINITE_LOOP_TRAP,j),i.Python.INDENT));var s=i.Python.statementToCode(j,"STACK"),t=i.Python.valueToCode(j,"RETURN",i.Python.ORDER_NONE)||"",u="";s&&t&&(u=n);t?t=i.Python.INDENT+"return "+t+"\n":s||(s=i.Python.PASS);var v=[];p=j.getVars();for(q=0;q<p.length;q++){v[q]=i.Python.variableDB_.getName(p[q],i.VARIABLE_CATEGORY_NAME)}a="def "+o+"("+v.join(", ")+"):\n"+a+n+r+s+u+t;a=i.Python.scrub_(j,a);i.Python.definitions_["%"+o]=a;return null};i.Python.procedures_defnoreturn=i.Python.procedures_defreturn;i.Python.procedures_callreturn=function(f){for(var a=i.Python.variableDB_.getName(f.getFieldValue("NAME"),i.PROCEDURE_CATEGORY_NAME),b=[],c=f.getVars(),d=0;d<c.length;d++){b[d]=i.Python.valueToCode(f,"ARG"+d,i.Python.ORDER_NONE)||"None"}return[a+"("+b.join(", ")+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.procedures_callnoreturn=function(b){return i.Python.procedures_callreturn(b)[0]+"\n"};i.Python.procedures_ifreturn=function(c){var d="if "+(i.Python.valueToCode(c,"CONDITION",i.Python.ORDER_NONE)||"False")+":\n";i.Python.STATEMENT_SUFFIX&&(d+=i.Python.prefixLines(i.Python.injectId(i.Python.STATEMENT_SUFFIX,c),i.Python.INDENT));c.hasReturnValue_?(c=i.Python.valueToCode(c,"VALUE",i.Python.ORDER_NONE)||"None",d+=i.Python.INDENT+"return "+c+"\n"):d+=i.Python.INDENT+"return\n";return d};i.Python.texts={};i.Python.text=function(b){return[i.Python.quote_(b.getFieldValue("TEXT")),i.Python.ORDER_ATOMIC]};i.Python.text_multiline=function(b){return[i.Python.multiline_quote_(b.getFieldValue("TEXT")),i.Python.ORDER_ATOMIC]};i.Python.text.forceString_=function(b){return i.Python.text.forceString_.strRegExp.test(b)?b:"str("+b+")"};i.Python.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/;i.Python.text_join=function(d){switch(d.itemCount_){case 0:return["''",i.Python.ORDER_ATOMIC];case 1:return d=i.Python.valueToCode(d,"ADD0",i.Python.ORDER_NONE)||"''",d=i.Python.text.forceString_(d),[d,i.Python.ORDER_FUNCTION_CALL];case 2:var e=i.Python.valueToCode(d,"ADD0",i.Python.ORDER_NONE)||"''";d=i.Python.valueToCode(d,"ADD1",i.Python.ORDER_NONE)||"''";d=i.Python.text.forceString_(e)+" + "+i.Python.text.forceString_(d);return[d,i.Python.ORDER_ADDITIVE];default:e=[];for(var f=0;f<d.itemCount_;f++){e[f]=i.Python.valueToCode(d,"ADD"+f,i.Python.ORDER_NONE)||"''"}d=i.Python.variableDB_.getDistinctName("x",i.VARIABLE_CATEGORY_NAME);d="''.join([str("+d+") for "+d+" in ["+e.join(", ")+"]])";return[d,i.Python.ORDER_FUNCTION_CALL];}};i.Python.text_append=function(c){var d=i.Python.variableDB_.getName(c.getFieldValue("VAR"),i.VARIABLE_CATEGORY_NAME);c=i.Python.valueToCode(c,"TEXT",i.Python.ORDER_NONE)||"''";return d+" = str("+d+") + "+i.Python.text.forceString_(c)+"\n"};i.Python.text_length=function(b){return["len("+(i.Python.valueToCode(b,"VALUE",i.Python.ORDER_NONE)||"''")+")",i.Python.ORDER_FUNCTION_CALL]};i.Python.text_isEmpty=function(b){return["not len("+(i.Python.valueToCode(b,"VALUE",i.Python.ORDER_NONE)||"''")+")",i.Python.ORDER_LOGICAL_NOT]};i.Python.text_indexOf=function(d){var a="FIRST"==d.getFieldValue("END")?"find":"rfind",e=i.Python.valueToCode(d,"FIND",i.Python.ORDER_NONE)||"''";a=(i.Python.valueToCode(d,"VALUE",i.Python.ORDER_MEMBER)||"''")+"."+a+"("+e+")";return d.workspace.options.oneBasedIndex?[a+" + 1",i.Python.ORDER_ADDITIVE]:[a,i.Python.ORDER_FUNCTION_CALL]};i.Python.text_charAt=function(d){var e=d.getFieldValue("WHERE")||"FROM_START",b=i.Python.valueToCode(d,"VALUE",i.Python.ORDER_MEMBER)||"''";switch(e){case"FIRST":return[b+"[0]",i.Python.ORDER_MEMBER];case"LAST":return[b+"[-1]",i.Python.ORDER_MEMBER];case"FROM_START":return d=i.Python.getAdjustedInt(d,"AT"),[b+"["+d+"]",i.Python.ORDER_MEMBER];case"FROM_END":return d=i.Python.getAdjustedInt(d,"AT",1,!0),[b+"["+d+"]",i.Python.ORDER_MEMBER];case"RANDOM":return i.Python.definitions_.import_random="import random",[i.Python.provideFunction_("text_random_letter",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(text):","  x = int(random.random() * len(text))","  return text[x];"])+"("+b+")",i.Python.ORDER_FUNCTION_CALL];}throw Error("Unhandled option (text_charAt).")};i.Python.text_getSubstring=function(e){var f=e.getFieldValue("WHERE1"),g=e.getFieldValue("WHERE2"),c=i.Python.valueToCode(e,"STRING",i.Python.ORDER_MEMBER)||"''";switch(f){case"FROM_START":f=i.Python.getAdjustedInt(e,"AT1");"0"==f&&(f="");break;case"FROM_END":f=i.Python.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":f="";break;default:throw Error("Unhandled option (text_getSubstring)");}switch(g){case"FROM_START":e=i.Python.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=i.Python.getAdjustedInt(e,"AT2",0,!0);i.isNumber(e+"")?"0"==e&&(e=""):(i.Python.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (text_getSubstring)");}return[c+"["+f+" : "+e+"]",i.Python.ORDER_MEMBER]};i.Python.text_changeCase=function(c){var a={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[c.getFieldValue("CASE")];return[(i.Python.valueToCode(c,"TEXT",i.Python.ORDER_MEMBER)||"''")+a,i.Python.ORDER_FUNCTION_CALL]};i.Python.text_trim=function(c){var a={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[c.getFieldValue("MODE")];return[(i.Python.valueToCode(c,"TEXT",i.Python.ORDER_MEMBER)||"''")+a,i.Python.ORDER_FUNCTION_CALL]};i.Python.text_print=function(b){return"print("+(i.Python.valueToCode(b,"TEXT",i.Python.ORDER_NONE)||"''")+")\n"};i.Python.text_prompt_ext=function(d){var a=i.Python.provideFunction_("text_prompt",["def "+i.Python.FUNCTION_NAME_PLACEHOLDER_+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]),e=d.getField("TEXT")?i.Python.quote_(d.getFieldValue("TEXT")):i.Python.valueToCode(d,"TEXT",i.Python.ORDER_NONE)||"''";a=a+"("+e+")";"NUMBER"==d.getFieldValue("TYPE")&&(a="float("+a+")");return[a,i.Python.ORDER_FUNCTION_CALL]};i.Python.text_prompt=i.Python.text_prompt_ext;i.Python.text_count=function(c){var d=i.Python.valueToCode(c,"TEXT",i.Python.ORDER_MEMBER)||"''";c=i.Python.valueToCode(c,"SUB",i.Python.ORDER_NONE)||"''";return[d+".count("+c+")",i.Python.ORDER_MEMBER]};i.Python.text_replace=function(d){var e=i.Python.valueToCode(d,"TEXT",i.Python.ORDER_MEMBER)||"''",b=i.Python.valueToCode(d,"FROM",i.Python.ORDER_NONE)||"''";d=i.Python.valueToCode(d,"TO",i.Python.ORDER_NONE)||"''";return[e+".replace("+b+", "+d+")",i.Python.ORDER_MEMBER]};i.Python.text_reverse=function(b){return[(i.Python.valueToCode(b,"TEXT",i.Python.ORDER_MEMBER)||"''")+"[::-1]",i.Python.ORDER_MEMBER]};i.Python.variables={};i.Python.variables_get=function(b){return[i.Python.variableDB_.getName(b.getFieldValue("VAR"),i.VARIABLE_CATEGORY_NAME),i.Python.ORDER_ATOMIC]};i.Python.variables_set=function(c){var a=i.Python.valueToCode(c,"VALUE",i.Python.ORDER_NONE)||"0";return i.Python.variableDB_.getName(c.getFieldValue("VAR"),i.VARIABLE_CATEGORY_NAME)+" = "+a+"\n"};i.Python.variablesDynamic={};i.Python.variables_get_dynamic=i.Python.variables_get;i.Python.variables_set_dynamic=i.Python.variables_set;return i.Python});
//# sourceMappingURL=python_compressed.min.js.map
