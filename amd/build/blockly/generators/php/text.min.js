'use strict';goog.provide("Blockly.PHP.texts");goog.require("Blockly.PHP");Blockly.PHP.text=function(a){var b=Blockly.PHP.quote_(a.getFieldValue("TEXT"));return[b,Blockly.PHP.ORDER_ATOMIC]};Blockly.PHP.text_multiline=function(a){var b=Blockly.PHP.multiline_quote_(a.getFieldValue("TEXT"));return[b,Blockly.PHP.ORDER_ATOMIC]};Blockly.PHP.text_join=function(a){if(0==a.itemCount_){return["''",Blockly.PHP.ORDER_ATOMIC]}else if(1==a.itemCount_){var b=Blockly.PHP.valueToCode(a,"ADD0",Blockly.PHP.ORDER_NONE)||"''",c=b;return[c,Blockly.PHP.ORDER_FUNCTION_CALL]}else if(2==a.itemCount_){var d=Blockly.PHP.valueToCode(a,"ADD0",Blockly.PHP.ORDER_ATOMIC)||"''",e=Blockly.PHP.valueToCode(a,"ADD1",Blockly.PHP.ORDER_ATOMIC)||"''",c=d+" . "+e;return[c,Blockly.PHP.ORDER_STRING_CONCAT]}else{for(var f=Array(a.itemCount_),g=0;g<a.itemCount_;g++){f[g]=Blockly.PHP.valueToCode(a,"ADD"+g,Blockly.PHP.ORDER_COMMA)||"''"}var c="implode('', array("+f.join(",")+"))";return[c,Blockly.PHP.ORDER_FUNCTION_CALL]}};Blockly.PHP.text_append=function(a){var b=Blockly.PHP.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME),c=Blockly.PHP.valueToCode(a,"TEXT",Blockly.PHP.ORDER_ASSIGNMENT)||"''";return b+" .= "+c+";\n"};Blockly.PHP.text_length=function(a){var b=Blockly.PHP.provideFunction_("length",["function "+Blockly.PHP.FUNCTION_NAME_PLACEHOLDER_+"($value) {","  if (is_string($value)) {","    return strlen($value);","  } else {","    return count($value);","  }","}"]),c=Blockly.PHP.valueToCode(a,"VALUE",Blockly.PHP.ORDER_NONE)||"''";return[b+"("+c+")",Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.text_isEmpty=function(a){var b=Blockly.PHP.valueToCode(a,"VALUE",Blockly.PHP.ORDER_NONE)||"''";return["empty("+b+")",Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.text_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"strpos":"strrpos",c=Blockly.PHP.valueToCode(a,"FIND",Blockly.PHP.ORDER_NONE)||"''",d=Blockly.PHP.valueToCode(a,"VALUE",Blockly.PHP.ORDER_NONE)||"''";if(a.workspace.options.oneBasedIndex){var e=" 0",f=" + 1"}else{var e=" -1",f=""}var g=Blockly.PHP.provideFunction_("FIRST"==a.getFieldValue("END")?"text_indexOf":"text_lastIndexOf",["function "+Blockly.PHP.FUNCTION_NAME_PLACEHOLDER_+"($text, $search) {","  $pos = "+b+"($text, $search);","  return $pos === false ? "+e+" : $pos"+f+";","}"]);return[g+"("+d+", "+c+")",Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.text_charAt=function(a){var b=a.getFieldValue("WHERE")||"FROM_START",c="RANDOM"==b?Blockly.PHP.ORDER_NONE:Blockly.PHP.ORDER_COMMA,d=Blockly.PHP.valueToCode(a,"VALUE",c)||"''";switch(b){case"FIRST":var e="substr("+d+", 0, 1)";return[e,Blockly.PHP.ORDER_FUNCTION_CALL];case"LAST":var e="substr("+d+", -1)";return[e,Blockly.PHP.ORDER_FUNCTION_CALL];case"FROM_START":var f=Blockly.PHP.getAdjusted(a,"AT"),e="substr("+d+", "+f+", 1)";return[e,Blockly.PHP.ORDER_FUNCTION_CALL];case"FROM_END":var f=Blockly.PHP.getAdjusted(a,"AT",1,!0),e="substr("+d+", "+f+", 1)";return[e,Blockly.PHP.ORDER_FUNCTION_CALL];case"RANDOM":var g=Blockly.PHP.provideFunction_("text_random_letter",["function "+Blockly.PHP.FUNCTION_NAME_PLACEHOLDER_+"($text) {","  return $text[rand(0, strlen($text) - 1)];","}"]);e=g+"("+d+")";return[e,Blockly.PHP.ORDER_FUNCTION_CALL];}throw Error("Unhandled option (text_charAt).")};Blockly.PHP.text_getSubstring=function(a){var b=Blockly.PHP.valueToCode(a,"STRING",Blockly.PHP.ORDER_FUNCTION_CALL)||"''",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");if("FIRST"==c&&"LAST"==d){var e=b}else{var f=Blockly.PHP.getAdjusted(a,"AT1"),g=Blockly.PHP.getAdjusted(a,"AT2"),h=Blockly.PHP.provideFunction_("text_get_substring",["function "+Blockly.PHP.FUNCTION_NAME_PLACEHOLDER_+"($text, $where1, $at1, $where2, $at2) {","  if ($where1 == 'FROM_END') {","    $at1 = strlen($text) - 1 - $at1;","  } else if ($where1 == 'FIRST') {","    $at1 = 0;","  } else if ($where1 != 'FROM_START') {","    throw new Exception('Unhandled option (text_get_substring).');","  }","  $length = 0;","  if ($where2 == 'FROM_START') {","    $length = $at2 - $at1 + 1;","  } else if ($where2 == 'FROM_END') {","    $length = strlen($text) - $at1 - $at2;","  } else if ($where2 == 'LAST') {","    $length = strlen($text) - $at1;","  } else {","    throw new Exception('Unhandled option (text_get_substring).');","  }","  return substr($text, $at1, $length);","}"]),e=h+"("+b+", '"+c+"', "+f+", '"+d+"', "+g+")"}return[e,Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.text_changeCase=function(a){var b=Blockly.PHP.valueToCode(a,"TEXT",Blockly.PHP.ORDER_NONE)||"''";if("UPPERCASE"==a.getFieldValue("CASE")){var c="strtoupper("+b+")"}else if("LOWERCASE"==a.getFieldValue("CASE")){var c="strtolower("+b+")"}else if("TITLECASE"==a.getFieldValue("CASE")){var c="ucwords(strtolower("+b+"))"}return[c,Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.text_trim=function(a){var b={LEFT:"ltrim",RIGHT:"rtrim",BOTH:"trim"}[a.getFieldValue("MODE")],c=Blockly.PHP.valueToCode(a,"TEXT",Blockly.PHP.ORDER_NONE)||"''";return[b+"("+c+")",Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.text_print=function(a){var b=Blockly.PHP.valueToCode(a,"TEXT",Blockly.PHP.ORDER_NONE)||"''";return"print("+b+");\n"};Blockly.PHP.text_prompt_ext=function(a){if(a.getField("TEXT")){var b=Blockly.PHP.quote_(a.getFieldValue("TEXT"))}else{var b=Blockly.PHP.valueToCode(a,"TEXT",Blockly.PHP.ORDER_NONE)||"''"}var c="readline("+b+")",d="NUMBER"==a.getFieldValue("TYPE");if(d){c="floatval("+c+")"}return[c,Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.text_prompt=Blockly.PHP.text_prompt_ext;Blockly.PHP.text_count=function(a){var b=Blockly.PHP.valueToCode(a,"TEXT",Blockly.PHP.ORDER_MEMBER)||"''",c=Blockly.PHP.valueToCode(a,"SUB",Blockly.PHP.ORDER_NONE)||"''";return["strlen("+c+") === 0 ? strlen("+b+") + 1 : substr_count("+b+", "+c+")",Blockly.PHP.ORDER_CONDITIONAL]};Blockly.PHP.text_replace=function(a){var b=Blockly.PHP.valueToCode(a,"TEXT",Blockly.PHP.ORDER_MEMBER)||"''",c=Blockly.PHP.valueToCode(a,"FROM",Blockly.PHP.ORDER_NONE)||"''",d=Blockly.PHP.valueToCode(a,"TO",Blockly.PHP.ORDER_NONE)||"''";return["str_replace("+c+", "+d+", "+b+")",Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.text_reverse=function(a){var b=Blockly.PHP.valueToCode(a,"TEXT",Blockly.PHP.ORDER_MEMBER)||"''";return["strrev("+b+")",Blockly.PHP.ORDER_FUNCTION_CALL]};
//# sourceMappingURL=text.min.js.map
