'use strict';goog.provide("Blockly.PHP.procedures");goog.require("Blockly.PHP");Blockly.PHP.procedures_defreturn=function(a){for(var b=[],c,d=a.workspace,e=Blockly.Variables.allUsedVarModels(d)||[],f=0,g;g=e[f];f++){c=g.name;if(-1==a.getVars().indexOf(c)){b.push(Blockly.PHP.variableDB_.getName(c,Blockly.VARIABLE_CATEGORY_NAME))}}for(var h=Blockly.Variables.allDeveloperVariables(d),f=0;f<h.length;f++){b.push(Blockly.PHP.variableDB_.getName(h[f],Blockly.Names.DEVELOPER_VARIABLE_TYPE))}b=b.length?Blockly.PHP.INDENT+"global "+b.join(", ")+";\n":"";var j=Blockly.PHP.variableDB_.getName(a.getFieldValue("NAME"),Blockly.PROCEDURE_CATEGORY_NAME),k="";if(Blockly.PHP.STATEMENT_PREFIX){k+=Blockly.PHP.injectId(Blockly.PHP.STATEMENT_PREFIX,a)}if(Blockly.PHP.STATEMENT_SUFFIX){k+=Blockly.PHP.injectId(Blockly.PHP.STATEMENT_SUFFIX,a)}if(k){k=Blockly.PHP.prefixLines(k,Blockly.PHP.INDENT)}var l="";if(Blockly.PHP.INFINITE_LOOP_TRAP){l=Blockly.PHP.prefixLines(Blockly.PHP.injectId(Blockly.PHP.INFINITE_LOOP_TRAP,a),Blockly.PHP.INDENT)}var m=Blockly.PHP.statementToCode(a,"STACK"),n=Blockly.PHP.valueToCode(a,"RETURN",Blockly.PHP.ORDER_NONE)||"",o="";if(m&&n){o=k}if(n){n=Blockly.PHP.INDENT+"return "+n+";\n"}for(var p=[],e=a.getVars(),f=0;f<e.length;f++){p[f]=Blockly.PHP.variableDB_.getName(e[f],Blockly.VARIABLE_CATEGORY_NAME)}var q="function "+j+"("+p.join(", ")+") {\n"+b+k+l+m+o+n+"}";q=Blockly.PHP.scrub_(a,q);Blockly.PHP.definitions_["%"+j]=q;return null};Blockly.PHP.procedures_defnoreturn=Blockly.PHP.procedures_defreturn;Blockly.PHP.procedures_callreturn=function(a){for(var b=Blockly.PHP.variableDB_.getName(a.getFieldValue("NAME"),Blockly.PROCEDURE_CATEGORY_NAME),c=[],d=a.getVars(),e=0;e<d.length;e++){c[e]=Blockly.PHP.valueToCode(a,"ARG"+e,Blockly.PHP.ORDER_COMMA)||"null"}var f=b+"("+c.join(", ")+")";return[f,Blockly.PHP.ORDER_FUNCTION_CALL]};Blockly.PHP.procedures_callnoreturn=function(a){var b=Blockly.PHP.procedures_callreturn(a);return b[0]+";\n"};Blockly.PHP.procedures_ifreturn=function(a){var b=Blockly.PHP.valueToCode(a,"CONDITION",Blockly.PHP.ORDER_NONE)||"false",c="if ("+b+") {\n";if(Blockly.PHP.STATEMENT_SUFFIX){c+=Blockly.PHP.prefixLines(Blockly.PHP.injectId(Blockly.PHP.STATEMENT_SUFFIX,a),Blockly.PHP.INDENT)}if(a.hasReturnValue_){var d=Blockly.PHP.valueToCode(a,"VALUE",Blockly.PHP.ORDER_NONE)||"null";c+=Blockly.PHP.INDENT+"return "+d+";\n"}else{c+=Blockly.PHP.INDENT+"return;\n"}c+="}\n";return c};
//# sourceMappingURL=procedures.min.js.map
