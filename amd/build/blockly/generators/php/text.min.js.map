{"version":3,"sources":["../../../../src/blockly/generators/php/text.js"],"names":["goog","provide","require","Blockly","PHP","block","code","quote_","getFieldValue","ORDER_ATOMIC","multiline_quote_","itemCount_","element","valueToCode","ORDER_NONE","ORDER_FUNCTION_CALL","element0","element1","ORDER_STRING_CONCAT","elements","Array","i","ORDER_COMMA","join","varName","variableDB_","getName","VARIABLE_CATEGORY_NAME","value","ORDER_ASSIGNMENT","functionName","provideFunction_","FUNCTION_NAME_PLACEHOLDER_","text","operator","substring","workspace","options","oneBasedIndex","errorIndex","indexAdjustment","where","textOrder","at","getAdjusted","Error","where1","where2","at1","at2","msg","getField","toNumber","ORDER_MEMBER","sub","ORDER_CONDITIONAL","from","to"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2015 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Generating PHP for text blocks.\n * @author daarond@gmail.com (Daaron Dwyer)\n */\n'use strict';\n\ngoog.provide('Blockly.PHP.texts');\n\ngoog.require('Blockly.PHP');\n\n\nBlockly.PHP['text'] = function(block) {\n  // Text value.\n  var code = Blockly.PHP.quote_(block.getFieldValue('TEXT'));\n  return [code, Blockly.PHP.ORDER_ATOMIC];\n};\n\nBlockly.PHP['text_multiline'] = function(block) {\n  // Text value.\n  var code = Blockly.PHP.multiline_quote_(block.getFieldValue('TEXT'));\n  return [code, Blockly.PHP.ORDER_ATOMIC];\n};\n\nBlockly.PHP['text_join'] = function(block) {\n  // Create a string made up of any number of elements of any type.\n  if (block.itemCount_ == 0) {\n    return ['\\'\\'', Blockly.PHP.ORDER_ATOMIC];\n  } else if (block.itemCount_ == 1) {\n    var element = Blockly.PHP.valueToCode(block, 'ADD0',\n        Blockly.PHP.ORDER_NONE) || '\\'\\'';\n    var code = element;\n    return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n  } else if (block.itemCount_ == 2) {\n    var element0 = Blockly.PHP.valueToCode(block, 'ADD0',\n        Blockly.PHP.ORDER_ATOMIC) || '\\'\\'';\n    var element1 = Blockly.PHP.valueToCode(block, 'ADD1',\n        Blockly.PHP.ORDER_ATOMIC) || '\\'\\'';\n    var code = element0 + ' . ' + element1;\n    return [code, Blockly.PHP.ORDER_STRING_CONCAT];\n  } else {\n    var elements = new Array(block.itemCount_);\n    for (var i = 0; i < block.itemCount_; i++) {\n      elements[i] = Blockly.PHP.valueToCode(block, 'ADD' + i,\n          Blockly.PHP.ORDER_COMMA) || '\\'\\'';\n    }\n    var code = 'implode(\\'\\', array(' + elements.join(',') + '))';\n    return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n  }\n};\n\nBlockly.PHP['text_append'] = function(block) {\n  // Append to a variable in place.\n  var varName = Blockly.PHP.variableDB_.getName(\n      block.getFieldValue('VAR'), Blockly.VARIABLE_CATEGORY_NAME);\n  var value = Blockly.PHP.valueToCode(block, 'TEXT',\n      Blockly.PHP.ORDER_ASSIGNMENT) || '\\'\\'';\n  return varName + ' .= ' + value + ';\\n';\n};\n\nBlockly.PHP['text_length'] = function(block) {\n  // String or array length.\n  var functionName = Blockly.PHP.provideFunction_(\n      'length',\n      ['function ' + Blockly.PHP.FUNCTION_NAME_PLACEHOLDER_ + '($value) {',\n       '  if (is_string($value)) {',\n       '    return strlen($value);',\n       '  } else {',\n       '    return count($value);',\n       '  }',\n       '}']);\n  var text = Blockly.PHP.valueToCode(block, 'VALUE',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  return [functionName + '(' + text + ')', Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n\nBlockly.PHP['text_isEmpty'] = function(block) {\n  // Is the string null or array empty?\n  var text = Blockly.PHP.valueToCode(block, 'VALUE',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  return ['empty(' + text + ')', Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n\nBlockly.PHP['text_indexOf'] = function(block) {\n  // Search the text for a substring.\n  var operator = block.getFieldValue('END') == 'FIRST' ?\n      'strpos' : 'strrpos';\n  var substring = Blockly.PHP.valueToCode(block, 'FIND',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  var text = Blockly.PHP.valueToCode(block, 'VALUE',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  if (block.workspace.options.oneBasedIndex) {\n    var errorIndex = ' 0';\n    var indexAdjustment = ' + 1';\n  } else {\n    var errorIndex = ' -1';\n    var indexAdjustment = '';\n  }\n  var functionName = Blockly.PHP.provideFunction_(\n      block.getFieldValue('END') == 'FIRST' ?\n          'text_indexOf' : 'text_lastIndexOf',\n      ['function ' + Blockly.PHP.FUNCTION_NAME_PLACEHOLDER_ +\n          '($text, $search) {',\n       '  $pos = ' + operator + '($text, $search);',\n       '  return $pos === false ? ' + errorIndex + ' : $pos' +\n          indexAdjustment + ';',\n       '}']);\n  var code = functionName + '(' + text + ', ' + substring + ')';\n  return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n\nBlockly.PHP['text_charAt'] = function(block) {\n  // Get letter at index.\n  var where = block.getFieldValue('WHERE') || 'FROM_START';\n  var textOrder = (where == 'RANDOM') ? Blockly.PHP.ORDER_NONE :\n      Blockly.PHP.ORDER_COMMA;\n  var text = Blockly.PHP.valueToCode(block, 'VALUE', textOrder) || '\\'\\'';\n  switch (where) {\n    case 'FIRST':\n      var code = 'substr(' + text + ', 0, 1)';\n      return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n    case 'LAST':\n      var code = 'substr(' + text + ', -1)';\n      return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n    case 'FROM_START':\n      var at = Blockly.PHP.getAdjusted(block, 'AT');\n      var code = 'substr(' + text + ', ' + at + ', 1)';\n      return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n    case 'FROM_END':\n      var at = Blockly.PHP.getAdjusted(block, 'AT', 1, true);\n      var code = 'substr(' + text + ', ' + at + ', 1)';\n      return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n    case 'RANDOM':\n      var functionName = Blockly.PHP.provideFunction_(\n          'text_random_letter',\n          ['function ' + Blockly.PHP.FUNCTION_NAME_PLACEHOLDER_ + '($text) {',\n           '  return $text[rand(0, strlen($text) - 1)];',\n           '}']);\n      code = functionName + '(' + text + ')';\n      return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n  }\n  throw Error('Unhandled option (text_charAt).');\n};\n\nBlockly.PHP['text_getSubstring'] = function(block) {\n  // Get substring.\n  var text = Blockly.PHP.valueToCode(block, 'STRING',\n      Blockly.PHP.ORDER_FUNCTION_CALL) || '\\'\\'';\n  var where1 = block.getFieldValue('WHERE1');\n  var where2 = block.getFieldValue('WHERE2');\n  if (where1 == 'FIRST' && where2 == 'LAST') {\n    var code = text;\n  } else {\n    var at1 = Blockly.PHP.getAdjusted(block, 'AT1');\n    var at2 = Blockly.PHP.getAdjusted(block, 'AT2');\n    var functionName = Blockly.PHP.provideFunction_(\n        'text_get_substring',\n        ['function ' + Blockly.PHP.FUNCTION_NAME_PLACEHOLDER_ +\n            '($text, $where1, $at1, $where2, $at2) {',\n         '  if ($where1 == \\'FROM_END\\') {',\n         '    $at1 = strlen($text) - 1 - $at1;',\n         '  } else if ($where1 == \\'FIRST\\') {',\n         '    $at1 = 0;',\n         '  } else if ($where1 != \\'FROM_START\\') {',\n         '    throw new Exception(\\'Unhandled option (text_get_substring).\\');',\n         '  }',\n         '  $length = 0;',\n         '  if ($where2 == \\'FROM_START\\') {',\n         '    $length = $at2 - $at1 + 1;',\n         '  } else if ($where2 == \\'FROM_END\\') {',\n         '    $length = strlen($text) - $at1 - $at2;',\n         '  } else if ($where2 == \\'LAST\\') {',\n         '    $length = strlen($text) - $at1;',\n         '  } else {',\n         '    throw new Exception(\\'Unhandled option (text_get_substring).\\');',\n         '  }',\n         '  return substr($text, $at1, $length);',\n         '}']);\n    var code = functionName + '(' + text + ', \\'' +\n        where1 + '\\', ' + at1 + ', \\'' + where2 + '\\', ' + at2 + ')';\n  }\n  return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n\nBlockly.PHP['text_changeCase'] = function(block) {\n  // Change capitalization.\n  var text = Blockly.PHP.valueToCode(block, 'TEXT',\n          Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  if (block.getFieldValue('CASE') == 'UPPERCASE') {\n    var code = 'strtoupper(' + text + ')';\n  } else if (block.getFieldValue('CASE') == 'LOWERCASE') {\n    var code = 'strtolower(' + text + ')';\n  } else if (block.getFieldValue('CASE') == 'TITLECASE') {\n    var code = 'ucwords(strtolower(' + text + '))';\n  }\n  return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n\nBlockly.PHP['text_trim'] = function(block) {\n  // Trim spaces.\n  var OPERATORS = {\n    'LEFT': 'ltrim',\n    'RIGHT': 'rtrim',\n    'BOTH': 'trim'\n  };\n  var operator = OPERATORS[block.getFieldValue('MODE')];\n  var text = Blockly.PHP.valueToCode(block, 'TEXT',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  return [operator + '(' + text + ')', Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n\nBlockly.PHP['text_print'] = function(block) {\n  // Print statement.\n  var msg = Blockly.PHP.valueToCode(block, 'TEXT',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  return 'print(' + msg + ');\\n';\n};\n\nBlockly.PHP['text_prompt_ext'] = function(block) {\n  // Prompt function.\n  if (block.getField('TEXT')) {\n    // Internal message.\n    var msg = Blockly.PHP.quote_(block.getFieldValue('TEXT'));\n  } else {\n    // External message.\n    var msg = Blockly.PHP.valueToCode(block, 'TEXT',\n        Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  }\n  var code = 'readline(' + msg + ')';\n  var toNumber = block.getFieldValue('TYPE') == 'NUMBER';\n  if (toNumber) {\n    code = 'floatval(' + code + ')';\n  }\n  return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n\nBlockly.PHP['text_prompt'] = Blockly.PHP['text_prompt_ext'];\n\nBlockly.PHP['text_count'] = function(block) {\n  var text = Blockly.PHP.valueToCode(block, 'TEXT',\n      Blockly.PHP.ORDER_MEMBER) || '\\'\\'';\n  var sub = Blockly.PHP.valueToCode(block, 'SUB',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  var code = 'strlen(' + sub + ') === 0'\n    + ' ? strlen(' + text + ') + 1'\n    + ' : substr_count(' + text + ', ' + sub + ')';\n  return [code, Blockly.PHP.ORDER_CONDITIONAL];\n};\n\nBlockly.PHP['text_replace'] = function(block) {\n  var text = Blockly.PHP.valueToCode(block, 'TEXT',\n      Blockly.PHP.ORDER_MEMBER) || '\\'\\'';\n  var from = Blockly.PHP.valueToCode(block, 'FROM',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  var to = Blockly.PHP.valueToCode(block, 'TO',\n      Blockly.PHP.ORDER_NONE) || '\\'\\'';\n  var code = 'str_replace(' + from + ', ' + to + ', ' + text + ')';\n  return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n\nBlockly.PHP['text_reverse'] = function(block) {\n  var text = Blockly.PHP.valueToCode(block, 'TEXT',\n      Blockly.PHP.ORDER_MEMBER) || '\\'\\'';\n  var code = 'strrev(' + text + ')';\n  return [code, Blockly.PHP.ORDER_FUNCTION_CALL];\n};\n"],"file":"text.min.js"}