'use strict';goog.provide("Blockly.Python.lists");goog.require("Blockly.Python");Blockly.Python.lists_create_empty=function(){return["[]",Blockly.Python.ORDER_ATOMIC]};Blockly.Python.lists_create_with=function(a){for(var b=Array(a.itemCount_),c=0;c<a.itemCount_;c++){b[c]=Blockly.Python.valueToCode(a,"ADD"+c,Blockly.Python.ORDER_NONE)||"None"}var d="["+b.join(", ")+"]";return[d,Blockly.Python.ORDER_ATOMIC]};Blockly.Python.lists_repeat=function(a){var b=Blockly.Python.valueToCode(a,"ITEM",Blockly.Python.ORDER_NONE)||"None",c=Blockly.Python.valueToCode(a,"NUM",Blockly.Python.ORDER_MULTIPLICATIVE)||"0";return["["+b+"] * "+c,Blockly.Python.ORDER_MULTIPLICATIVE]};Blockly.Python.lists_length=function(a){var b=Blockly.Python.valueToCode(a,"VALUE",Blockly.Python.ORDER_NONE)||"[]";return["len("+b+")",Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.lists_isEmpty=function(a){var b=Blockly.Python.valueToCode(a,"VALUE",Blockly.Python.ORDER_NONE)||"[]";return["not len("+b+")",Blockly.Python.ORDER_LOGICAL_NOT]};Blockly.Python.lists_indexOf=function(a){var b=Blockly.Python.valueToCode(a,"FIND",Blockly.Python.ORDER_NONE)||"[]",c=Blockly.Python.valueToCode(a,"VALUE",Blockly.Python.ORDER_NONE)||"''";if(a.workspace.options.oneBasedIndex){var d=" 0",e=" + 1",f=""}else{var d=" -1",e="",f=" - 1"}if("FIRST"==a.getFieldValue("END")){var g=Blockly.Python.provideFunction_("first_index",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = my_list.index(elem)"+e,"  except: index ="+d,"  return index"]),h=g+"("+c+", "+b+")";return[h,Blockly.Python.ORDER_FUNCTION_CALL]}var g=Blockly.Python.provideFunction_("last_index",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, elem):","  try: index = len(my_list) - my_list[::-1].index(elem)"+f,"  except: index ="+d,"  return index"]),h=g+"("+c+", "+b+")";return[h,Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.lists_getIndex=function(a){var b=a.getFieldValue("MODE")||"GET",c=a.getFieldValue("WHERE")||"FROM_START",d="RANDOM"==c?Blockly.Python.ORDER_NONE:Blockly.Python.ORDER_MEMBER,e=Blockly.Python.valueToCode(a,"VALUE",d)||"[]";switch(c){case"FIRST":if("GET"==b){var f=e+"[0]";return[f,Blockly.Python.ORDER_MEMBER]}else if("GET_REMOVE"==b){var f=e+".pop(0)";return[f,Blockly.Python.ORDER_FUNCTION_CALL]}else if("REMOVE"==b){return e+".pop(0)\n"}break;case"LAST":if("GET"==b){var f=e+"[-1]";return[f,Blockly.Python.ORDER_MEMBER]}else if("GET_REMOVE"==b){var f=e+".pop()";return[f,Blockly.Python.ORDER_FUNCTION_CALL]}else if("REMOVE"==b){return e+".pop()\n"}break;case"FROM_START":var g=Blockly.Python.getAdjustedInt(a,"AT");if("GET"==b){var f=e+"["+g+"]";return[f,Blockly.Python.ORDER_MEMBER]}else if("GET_REMOVE"==b){var f=e+".pop("+g+")";return[f,Blockly.Python.ORDER_FUNCTION_CALL]}else if("REMOVE"==b){return e+".pop("+g+")\n"}break;case"FROM_END":var g=Blockly.Python.getAdjustedInt(a,"AT",1,!0);if("GET"==b){var f=e+"["+g+"]";return[f,Blockly.Python.ORDER_MEMBER]}else if("GET_REMOVE"==b){var f=e+".pop("+g+")";return[f,Blockly.Python.ORDER_FUNCTION_CALL]}else if("REMOVE"==b){return e+".pop("+g+")\n"}break;case"RANDOM":Blockly.Python.definitions_.import_random="import random";if("GET"==b){f="random.choice("+e+")";return[f,Blockly.Python.ORDER_FUNCTION_CALL]}else{var h=Blockly.Python.provideFunction_("lists_remove_random_item",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(myList):","  x = int(random.random() * len(myList))","  return myList.pop(x)"]);f=h+"("+e+")";if("GET_REMOVE"==b){return[f,Blockly.Python.ORDER_FUNCTION_CALL]}else if("REMOVE"==b){return f+"\n"}}break;}throw Error("Unhandled combination (lists_getIndex).")};Blockly.Python.lists_setIndex=function(a){var c=Blockly.Python.valueToCode(a,"LIST",Blockly.Python.ORDER_MEMBER)||"[]",d=a.getFieldValue("MODE")||"GET",e=a.getFieldValue("WHERE")||"FROM_START",f=Blockly.Python.valueToCode(a,"TO",Blockly.Python.ORDER_NONE)||"None";function b(){if(c.match(/^\w+$/)){return""}var a=Blockly.Python.variableDB_.getDistinctName("tmp_list",Blockly.VARIABLE_CATEGORY_NAME),b=a+" = "+c+"\n";c=a;return b}switch(e){case"FIRST":if("SET"==d){return c+"[0] = "+f+"\n"}else if("INSERT"==d){return c+".insert(0, "+f+")\n"}break;case"LAST":if("SET"==d){return c+"[-1] = "+f+"\n"}else if("INSERT"==d){return c+".append("+f+")\n"}break;case"FROM_START":var g=Blockly.Python.getAdjustedInt(a,"AT");if("SET"==d){return c+"["+g+"] = "+f+"\n"}else if("INSERT"==d){return c+".insert("+g+", "+f+")\n"}break;case"FROM_END":var g=Blockly.Python.getAdjustedInt(a,"AT",1,!0);if("SET"==d){return c+"["+g+"] = "+f+"\n"}else if("INSERT"==d){return c+".insert("+g+", "+f+")\n"}break;case"RANDOM":Blockly.Python.definitions_.import_random="import random";var h=b(),i=Blockly.Python.variableDB_.getDistinctName("tmp_x",Blockly.VARIABLE_CATEGORY_NAME);h+=i+" = int(random.random() * len("+c+"))\n";if("SET"==d){h+=c+"["+i+"] = "+f+"\n";return h}else if("INSERT"==d){h+=c+".insert("+i+", "+f+")\n";return h}break;}throw Error("Unhandled combination (lists_setIndex).")};Blockly.Python.lists_getSublist=function(a){var b=Blockly.Python.valueToCode(a,"LIST",Blockly.Python.ORDER_MEMBER)||"[]",c=a.getFieldValue("WHERE1"),d=a.getFieldValue("WHERE2");switch(c){case"FROM_START":var e=Blockly.Python.getAdjustedInt(a,"AT1");if("0"==e){e=""}break;case"FROM_END":var e=Blockly.Python.getAdjustedInt(a,"AT1",1,!0);break;case"FIRST":var e="";break;default:throw Error("Unhandled option (lists_getSublist)");}switch(d){case"FROM_START":var f=Blockly.Python.getAdjustedInt(a,"AT2",1);break;case"FROM_END":var f=Blockly.Python.getAdjustedInt(a,"AT2",0,!0);if(!Blockly.isNumber(f+"")){Blockly.Python.definitions_.import_sys="import sys";f+=" or sys.maxsize"}else if("0"==f){f=""}break;case"LAST":var f="";break;default:throw Error("Unhandled option (lists_getSublist)");}var g=b+"["+e+" : "+f+"]";return[g,Blockly.Python.ORDER_MEMBER]};Blockly.Python.lists_sort=function(a){var b=Blockly.Python.valueToCode(a,"LIST",Blockly.Python.ORDER_NONE)||"[]",c=a.getFieldValue("TYPE"),d="1"===a.getFieldValue("DIRECTION")?"False":"True",e=Blockly.Python.provideFunction_("lists_sort",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(my_list, type, reverse):","  def try_float(s):","    try:","      return float(s)","    except:","      return 0","  key_funcs = {","    \"NUMERIC\": try_float,","    \"TEXT\": str,","    \"IGNORE_CASE\": lambda s: str(s).lower()","  }","  key_func = key_funcs[type]","  list_cpy = list(my_list)","  return sorted(list_cpy, key=key_func, reverse=reverse)"]);return[e+"("+b+", \""+c+"\", "+d+")",Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.lists_split=function(a){var b=a.getFieldValue("MODE");if("SPLIT"==b){var c=Blockly.Python.valueToCode(a,"INPUT",Blockly.Python.ORDER_MEMBER)||"''",d=Blockly.Python.valueToCode(a,"DELIM",Blockly.Python.ORDER_NONE),e=c+".split("+d+")"}else if("JOIN"==b){var c=Blockly.Python.valueToCode(a,"INPUT",Blockly.Python.ORDER_NONE)||"[]",d=Blockly.Python.valueToCode(a,"DELIM",Blockly.Python.ORDER_MEMBER)||"''",e=d+".join("+c+")"}else{throw Error("Unknown mode: "+b)}return[e,Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.lists_reverse=function(a){var b=Blockly.Python.valueToCode(a,"LIST",Blockly.Python.ORDER_NONE)||"[]";return["list(reversed("+b+"))",Blockly.Python.ORDER_FUNCTION_CALL]};
//# sourceMappingURL=lists.min.js.map
