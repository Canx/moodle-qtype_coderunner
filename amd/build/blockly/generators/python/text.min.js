'use strict';goog.provide("Blockly.Python.texts");goog.require("Blockly.Python");Blockly.Python.text=function(a){var b=Blockly.Python.quote_(a.getFieldValue("TEXT"));return[b,Blockly.Python.ORDER_ATOMIC]};Blockly.Python.text_multiline=function(a){var b=Blockly.Python.multiline_quote_(a.getFieldValue("TEXT"));return[b,Blockly.Python.ORDER_ATOMIC]};Blockly.Python.text.forceString_=function(a){if(Blockly.Python.text.forceString_.strRegExp.test(a)){return a}return"str("+a+")"};Blockly.Python.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/;Blockly.Python.text_join=function(a){switch(a.itemCount_){case 0:return["''",Blockly.Python.ORDER_ATOMIC];break;case 1:var b=Blockly.Python.valueToCode(a,"ADD0",Blockly.Python.ORDER_NONE)||"''",c=Blockly.Python.text.forceString_(b);return[c,Blockly.Python.ORDER_FUNCTION_CALL];break;case 2:var d=Blockly.Python.valueToCode(a,"ADD0",Blockly.Python.ORDER_NONE)||"''",e=Blockly.Python.valueToCode(a,"ADD1",Blockly.Python.ORDER_NONE)||"''",c=Blockly.Python.text.forceString_(d)+" + "+Blockly.Python.text.forceString_(e);return[c,Blockly.Python.ORDER_ADDITIVE];break;default:for(var f=[],g=0;g<a.itemCount_;g++){f[g]=Blockly.Python.valueToCode(a,"ADD"+g,Blockly.Python.ORDER_NONE)||"''"}var h=Blockly.Python.variableDB_.getDistinctName("x",Blockly.VARIABLE_CATEGORY_NAME),c="''.join([str("+h+") for "+h+" in ["+f.join(", ")+"]])";return[c,Blockly.Python.ORDER_FUNCTION_CALL];}};Blockly.Python.text_append=function(a){var b=Blockly.Python.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME),c=Blockly.Python.valueToCode(a,"TEXT",Blockly.Python.ORDER_NONE)||"''";return b+" = str("+b+") + "+Blockly.Python.text.forceString_(c)+"\n"};Blockly.Python.text_length=function(a){var b=Blockly.Python.valueToCode(a,"VALUE",Blockly.Python.ORDER_NONE)||"''";return["len("+b+")",Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.text_isEmpty=function(a){var b=Blockly.Python.valueToCode(a,"VALUE",Blockly.Python.ORDER_NONE)||"''";return["not len("+b+")",Blockly.Python.ORDER_LOGICAL_NOT]};Blockly.Python.text_indexOf=function(a){var b="FIRST"==a.getFieldValue("END")?"find":"rfind",c=Blockly.Python.valueToCode(a,"FIND",Blockly.Python.ORDER_NONE)||"''",d=Blockly.Python.valueToCode(a,"VALUE",Blockly.Python.ORDER_MEMBER)||"''",e=d+"."+b+"("+c+")";if(a.workspace.options.oneBasedIndex){return[e+" + 1",Blockly.Python.ORDER_ADDITIVE]}return[e,Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.text_charAt=function(a){var b=a.getFieldValue("WHERE")||"FROM_START",c=Blockly.Python.valueToCode(a,"VALUE",Blockly.Python.ORDER_MEMBER)||"''";switch(b){case"FIRST":var d=c+"[0]";return[d,Blockly.Python.ORDER_MEMBER];case"LAST":var d=c+"[-1]";return[d,Blockly.Python.ORDER_MEMBER];case"FROM_START":var e=Blockly.Python.getAdjustedInt(a,"AT"),d=c+"["+e+"]";return[d,Blockly.Python.ORDER_MEMBER];case"FROM_END":var e=Blockly.Python.getAdjustedInt(a,"AT",1,!0),d=c+"["+e+"]";return[d,Blockly.Python.ORDER_MEMBER];case"RANDOM":Blockly.Python.definitions_.import_random="import random";var f=Blockly.Python.provideFunction_("text_random_letter",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(text):","  x = int(random.random() * len(text))","  return text[x];"]);d=f+"("+c+")";return[d,Blockly.Python.ORDER_FUNCTION_CALL];}throw Error("Unhandled option (text_charAt).")};Blockly.Python.text_getSubstring=function(a){var b=a.getFieldValue("WHERE1"),c=a.getFieldValue("WHERE2"),d=Blockly.Python.valueToCode(a,"STRING",Blockly.Python.ORDER_MEMBER)||"''";switch(b){case"FROM_START":var e=Blockly.Python.getAdjustedInt(a,"AT1");if("0"==e){e=""}break;case"FROM_END":var e=Blockly.Python.getAdjustedInt(a,"AT1",1,!0);break;case"FIRST":var e="";break;default:throw Error("Unhandled option (text_getSubstring)");}switch(c){case"FROM_START":var f=Blockly.Python.getAdjustedInt(a,"AT2",1);break;case"FROM_END":var f=Blockly.Python.getAdjustedInt(a,"AT2",0,!0);if(!Blockly.isNumber(f+"")){Blockly.Python.definitions_.import_sys="import sys";f+=" or sys.maxsize"}else if("0"==f){f=""}break;case"LAST":var f="";break;default:throw Error("Unhandled option (text_getSubstring)");}var g=d+"["+e+" : "+f+"]";return[g,Blockly.Python.ORDER_MEMBER]};Blockly.Python.text_changeCase=function(a){var b={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[a.getFieldValue("CASE")],c=Blockly.Python.valueToCode(a,"TEXT",Blockly.Python.ORDER_MEMBER)||"''";return[c+b,Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.text_trim=function(a){var b={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[a.getFieldValue("MODE")],c=Blockly.Python.valueToCode(a,"TEXT",Blockly.Python.ORDER_MEMBER)||"''";return[c+b,Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.text_print=function(a){var b=Blockly.Python.valueToCode(a,"TEXT",Blockly.Python.ORDER_NONE)||"''";return"print("+b+")\n"};Blockly.Python.text_prompt_ext=function(a){var b=Blockly.Python.provideFunction_("text_prompt",["def "+Blockly.Python.FUNCTION_NAME_PLACEHOLDER_+"(msg):","  try:","    return raw_input(msg)","  except NameError:","    return input(msg)"]);if(a.getField("TEXT")){var c=Blockly.Python.quote_(a.getFieldValue("TEXT"))}else{var c=Blockly.Python.valueToCode(a,"TEXT",Blockly.Python.ORDER_NONE)||"''"}var d=b+"("+c+")",e="NUMBER"==a.getFieldValue("TYPE");if(e){d="float("+d+")"}return[d,Blockly.Python.ORDER_FUNCTION_CALL]};Blockly.Python.text_prompt=Blockly.Python.text_prompt_ext;Blockly.Python.text_count=function(a){var b=Blockly.Python.valueToCode(a,"TEXT",Blockly.Python.ORDER_MEMBER)||"''",c=Blockly.Python.valueToCode(a,"SUB",Blockly.Python.ORDER_NONE)||"''";return[b+".count("+c+")",Blockly.Python.ORDER_MEMBER]};Blockly.Python.text_replace=function(a){var b=Blockly.Python.valueToCode(a,"TEXT",Blockly.Python.ORDER_MEMBER)||"''",c=Blockly.Python.valueToCode(a,"FROM",Blockly.Python.ORDER_NONE)||"''",d=Blockly.Python.valueToCode(a,"TO",Blockly.Python.ORDER_NONE)||"''";return[b+".replace("+c+", "+d+")",Blockly.Python.ORDER_MEMBER]};Blockly.Python.text_reverse=function(a){var b=Blockly.Python.valueToCode(a,"TEXT",Blockly.Python.ORDER_MEMBER)||"''";return[b+"[::-1]",Blockly.Python.ORDER_MEMBER]};
//# sourceMappingURL=text.min.js.map
