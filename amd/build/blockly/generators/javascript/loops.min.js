'use strict';goog.provide("Blockly.JavaScript.loops");goog.require("Blockly.JavaScript");Blockly.JavaScript.controls_repeat_ext=function(a){if(a.getField("TIMES")){var b=+a.getFieldValue("TIMES")+""}else{var b=Blockly.JavaScript.valueToCode(a,"TIMES",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0"}var c=Blockly.JavaScript.statementToCode(a,"DO");c=Blockly.JavaScript.addLoopTrap(c,a);var d="",e=Blockly.JavaScript.variableDB_.getDistinctName("count",Blockly.VARIABLE_CATEGORY_NAME),f=b;if(!b.match(/^\w+$/)&&!Blockly.isNumber(b)){f=Blockly.JavaScript.variableDB_.getDistinctName("repeat_end",Blockly.VARIABLE_CATEGORY_NAME);d+="var "+f+" = "+b+";\n"}d+="for (var "+e+" = 0; "+e+" < "+f+"; "+e+"++) {\n"+c+"}\n";return d};Blockly.JavaScript.controls_repeat=Blockly.JavaScript.controls_repeat_ext;Blockly.JavaScript.controls_whileUntil=function(a){var b="UNTIL"==a.getFieldValue("MODE"),c=Blockly.JavaScript.valueToCode(a,"BOOL",b?Blockly.JavaScript.ORDER_LOGICAL_NOT:Blockly.JavaScript.ORDER_NONE)||"false",d=Blockly.JavaScript.statementToCode(a,"DO");d=Blockly.JavaScript.addLoopTrap(d,a);if(b){c="!"+c}return"while ("+c+") {\n"+d+"}\n"};Blockly.JavaScript.controls_for=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME),c=Blockly.JavaScript.valueToCode(a,"FROM",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",d=Blockly.JavaScript.valueToCode(a,"TO",Blockly.JavaScript.ORDER_ASSIGNMENT)||"0",e=Blockly.JavaScript.valueToCode(a,"BY",Blockly.JavaScript.ORDER_ASSIGNMENT)||"1",f=Blockly.JavaScript.statementToCode(a,"DO");f=Blockly.JavaScript.addLoopTrap(f,a);var g;if(Blockly.isNumber(c)&&Blockly.isNumber(d)&&Blockly.isNumber(e)){var h=+c<=+d;g="for ("+b+" = "+c+"; "+b+(h?" <= ":" >= ")+d+"; "+b;var i=Math.abs(+e);if(1==i){g+=h?"++":"--"}else{g+=(h?" += ":" -= ")+i}g+=") {\n"+f+"}\n"}else{g="";var j=c;if(!c.match(/^\w+$/)&&!Blockly.isNumber(c)){j=Blockly.JavaScript.variableDB_.getDistinctName(b+"_start",Blockly.VARIABLE_CATEGORY_NAME);g+="var "+j+" = "+c+";\n"}var k=d;if(!d.match(/^\w+$/)&&!Blockly.isNumber(d)){k=Blockly.JavaScript.variableDB_.getDistinctName(b+"_end",Blockly.VARIABLE_CATEGORY_NAME);g+="var "+k+" = "+d+";\n"}var l=Blockly.JavaScript.variableDB_.getDistinctName(b+"_inc",Blockly.VARIABLE_CATEGORY_NAME);g+="var "+l+" = ";if(Blockly.isNumber(e)){g+=Math.abs(e)+";\n"}else{g+="Math.abs("+e+");\n"}g+="if ("+j+" > "+k+") {\n";g+=Blockly.JavaScript.INDENT+l+" = -"+l+";\n";g+="}\n";g+="for ("+b+" = "+j+"; "+l+" >= 0 ? "+b+" <= "+k+" : "+b+" >= "+k+"; "+b+" += "+l+") {\n"+f+"}\n"}return g};Blockly.JavaScript.controls_forEach=function(a){var b=Blockly.JavaScript.variableDB_.getName(a.getFieldValue("VAR"),Blockly.VARIABLE_CATEGORY_NAME),c=Blockly.JavaScript.valueToCode(a,"LIST",Blockly.JavaScript.ORDER_ASSIGNMENT)||"[]",d=Blockly.JavaScript.statementToCode(a,"DO");d=Blockly.JavaScript.addLoopTrap(d,a);var e="",f=c;if(!c.match(/^\w+$/)){f=Blockly.JavaScript.variableDB_.getDistinctName(b+"_list",Blockly.VARIABLE_CATEGORY_NAME);e+="var "+f+" = "+c+";\n"}var g=Blockly.JavaScript.variableDB_.getDistinctName(b+"_index",Blockly.VARIABLE_CATEGORY_NAME);d=Blockly.JavaScript.INDENT+b+" = "+f+"["+g+"];\n"+d;e+="for (var "+g+" in "+f+") {\n"+d+"}\n";return e};Blockly.JavaScript.controls_flow_statements=function(a){var b="";if(Blockly.JavaScript.STATEMENT_PREFIX){b+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_PREFIX,a)}if(Blockly.JavaScript.STATEMENT_SUFFIX){b+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_SUFFIX,a)}if(Blockly.JavaScript.STATEMENT_PREFIX){var c=Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(a);if(c&&!c.suppressPrefixSuffix){b+=Blockly.JavaScript.injectId(Blockly.JavaScript.STATEMENT_PREFIX,c)}}switch(a.getFieldValue("FLOW")){case"BREAK":return b+"break;\n";case"CONTINUE":return b+"continue;\n";}throw Error("Unknown flow statement.")};
//# sourceMappingURL=loops.min.js.map
