'use strict';goog.provide("Blockly.Constants.VariablesDynamic");goog.require("Blockly");goog.require("Blockly.Blocks");goog.require("Blockly.FieldLabel");goog.require("Blockly.FieldVariable");Blockly.Constants.VariablesDynamic.HUE=310;Blockly.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]);Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function customContextMenu(a){if(!this.isInFlyout){var b,c,d=this.getFieldValue("VAR"),e=this.workspace.getVariableById(d),f=e.type;if("variables_get_dynamic"==this.type){b="variables_set_dynamic";c=Blockly.Msg.VARIABLES_GET_CREATE_SET}else{b="variables_get_dynamic";c=Blockly.Msg.VARIABLES_SET_CREATE_GET}var g={enabled:0<this.workspace.remainingCapacity()},h=this.getField("VAR").getText();g.text=c.replace("%1",h);var i=Blockly.utils.xml.createElement("field");i.setAttribute("name","VAR");i.setAttribute("variabletype",f);i.appendChild(Blockly.utils.xml.createTextNode(h));var j=Blockly.utils.xml.createElement("block");j.setAttribute("type",b);j.appendChild(i);g.callback=Blockly.ContextMenu.callbackFactory(this,j);a.push(g)}else{if("variables_get_dynamic"==this.type||"variables_get_reporter_dynamic"==this.type){var k={text:Blockly.Msg.RENAME_VARIABLE,enabled:!0,callback:Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},h=this.getField("VAR").getText(),l={text:Blockly.Msg.DELETE_VARIABLE.replace("%1",h),enabled:!0,callback:Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)};a.unshift(k);a.unshift(l)}}},onchange:function onchange(){var a=this.getFieldValue("VAR"),b=Blockly.Variables.getVariable(this.workspace,a);if("variables_get_dynamic"==this.type){this.outputConnection.setCheck(b.type)}else{this.getInput("VALUE").connection.setCheck(b.type)}}};Blockly.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();Blockly.Variables.renameVariable(b,c)}};Blockly.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(a){return function(){var b=a.workspace,c=a.getField("VAR").getVariable();b.deleteVariableById(c.getId());b.refreshToolboxSelection()}};Blockly.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);
//# sourceMappingURL=variables_dynamic.min.js.map
