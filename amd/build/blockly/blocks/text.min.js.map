{"version":3,"sources":["../../../src/blockly/blocks/text.js"],"names":["goog","provide","require","Blockly","Constants","Text","HUE","defineBlocksWithJsonArray","Blocks","init","Msg","setHelpUrl","setStyle","appendValueInput","setCheck","appendField","appendDummyInput","setInputsInline","setOutput","updateAt_","setTooltip","mutationToDom","container","utils","xml","createElement","isAt1","getInput","type","INPUT_VALUE","setAttribute","isAt2","domToMutation","xmlElement","getAttribute","n","isAt","removeInput","menu","FieldDropdown","value","newAt","block","getSourceBlock","setFieldValue","moveInputBefore","OPERATORS","jsonInit","TYPES","thisBlock","dropdown","newOp","updateType_","getFieldValue","outputConnection","mixin","QUOTE_IMAGE_MIXIN","newQuote_","FieldTextInput","QUOTE_IMAGE_LEFT_DATAURI","QUOTE_IMAGE_RIGHT_DATAURI","QUOTE_IMAGE_WIDTH","QUOTE_IMAGE_HEIGHT","quoteField_","fieldName","i","input","inputList","j","field","fieldRow","name","insertFieldAt","console","warn","toDevString","open","isLeft","RTL","dataUri","FieldImage","TEXT_QUOTES_EXTENSION","TEXT_JOIN_MUTATOR_MIXIN","itemCount_","parseInt","updateShape_","decompose","workspace","containerBlock","newBlock","initSvg","connection","itemBlock","connect","previousConnection","nextConnection","compose","getInputTargetBlock","connections","push","valueConnection_","targetBlock","targetConnection","indexOf","disconnect","length","Mutator","reconnect","saveConnections","setAlign","ALIGN_RIGHT","TEXT_JOIN_EXTENSION","setMutator","Extensions","register","buildTooltipWithFieldText","TEXT_INDEXOF_TOOLTIP_EXTENSION","replace","options","oneBasedIndex","TEXT_CHARAT_MUTATOR_MIXIN","isAt_","TEXT_CHARAT_EXTENSION","getField","setValidator","where","tooltip","msg","registerMutator"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2012 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Text blocks for Blockly.\n * @author fraser@google.com (Neil Fraser)\n */\n'use strict';\n\ngoog.provide('Blockly.Blocks.texts');  // Deprecated\ngoog.provide('Blockly.Constants.Text');\n\ngoog.require('Blockly');\ngoog.require('Blockly.Blocks');\ngoog.require('Blockly.FieldDropdown');\ngoog.require('Blockly.FieldImage');\ngoog.require('Blockly.FieldMultilineInput');\ngoog.require('Blockly.FieldTextInput');\ngoog.require('Blockly.FieldVariable');\ngoog.require('Blockly.Mutator');\n\n\n/**\n * Unused constant for the common HSV hue for all blocks in this category.\n * @deprecated Use Blockly.Msg['TEXTS_HUE']. (2018 April 5)\n */\nBlockly.Constants.Text.HUE = 160;\n\nBlockly.defineBlocksWithJsonArray([  // BEGIN JSON EXTRACT\n  // Block for text value\n  {\n    \"type\": \"text\",\n    \"message0\": \"%1\",\n    \"args0\": [{\n      \"type\": \"field_input\",\n      \"name\": \"TEXT\",\n      \"text\": \"\"\n    }],\n    \"output\": \"String\",\n    \"style\": \"text_blocks\",\n    \"helpUrl\": \"%{BKY_TEXT_TEXT_HELPURL}\",\n    \"tooltip\": \"%{BKY_TEXT_TEXT_TOOLTIP}\",\n    \"extensions\": [\n      \"text_quotes\",\n      \"parent_tooltip_when_inline\"\n    ]\n  },\n  {\n    \"type\": \"text_multiline\",\n    \"message0\": \"%1 %2\",\n    \"args0\": [{\n      \"type\": \"field_image\",\n      \"src\": 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpP' +\n             'U2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0' +\n             'U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjm' +\n             'RIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z88' +\n             '73zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5luj' +\n             'nYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiD' +\n             'MYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYX' +\n             'fwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4z' +\n             'wA5X2Z9AYnQrEAAAAASUVORK5CYII=',\n      \"width\": 12,\n      \"height\": 17,\n      \"alt\": '\\u00B6'\n    },{\n      \"type\": \"field_multilinetext\",\n      \"name\": \"TEXT\",\n      \"text\": \"\"\n    }],\n    \"output\": \"String\",\n    \"style\": \"text_blocks\",\n    \"helpUrl\": \"%{BKY_TEXT_TEXT_HELPURL}\",\n    \"tooltip\": \"%{BKY_TEXT_TEXT_TOOLTIP}\",\n    \"extensions\": [\n      \"parent_tooltip_when_inline\"\n    ]\n  },\n  {\n    \"type\": \"text_join\",\n    \"message0\": \"\",\n    \"output\": \"String\",\n    \"style\": \"text_blocks\",\n    \"helpUrl\": \"%{BKY_TEXT_JOIN_HELPURL}\",\n    \"tooltip\": \"%{BKY_TEXT_JOIN_TOOLTIP}\",\n    \"mutator\": \"text_join_mutator\"\n\n  },\n  {\n    \"type\": \"text_create_join_container\",\n    \"message0\": \"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2\",\n    \"args0\": [{\n      \"type\": \"input_dummy\"\n    },\n    {\n      \"type\": \"input_statement\",\n      \"name\": \"STACK\"\n    }],\n    \"style\": \"text_blocks\",\n    \"tooltip\": \"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}\",\n    \"enableContextMenu\": false\n  },\n  {\n    \"type\": \"text_create_join_item\",\n    \"message0\": \"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}\",\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"text_blocks\",\n    \"tooltip\": \"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}\",\n    \"enableContextMenu\": false\n  },\n  {\n    \"type\": \"text_append\",\n    \"message0\": \"%{BKY_TEXT_APPEND_TITLE}\",\n    \"args0\": [{\n      \"type\": \"field_variable\",\n      \"name\": \"VAR\",\n      \"variable\": \"%{BKY_TEXT_APPEND_VARIABLE}\"\n    },\n    {\n      \"type\": \"input_value\",\n      \"name\": \"TEXT\"\n    }],\n    \"previousStatement\": null,\n    \"nextStatement\": null,\n    \"style\": \"text_blocks\",\n    \"extensions\": [\n      \"text_append_tooltip\"\n    ]\n  },\n  {\n    \"type\": \"text_length\",\n    \"message0\": \"%{BKY_TEXT_LENGTH_TITLE}\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"VALUE\",\n        \"check\": ['String', 'Array']\n      }\n    ],\n    \"output\": 'Number',\n    \"style\": \"text_blocks\",\n    \"tooltip\": \"%{BKY_TEXT_LENGTH_TOOLTIP}\",\n    \"helpUrl\": \"%{BKY_TEXT_LENGTH_HELPURL}\"\n  },\n  {\n    \"type\": \"text_isEmpty\",\n    \"message0\": \"%{BKY_TEXT_ISEMPTY_TITLE}\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"VALUE\",\n        \"check\": ['String', 'Array']\n      }\n    ],\n    \"output\": 'Boolean',\n    \"style\": \"text_blocks\",\n    \"tooltip\": \"%{BKY_TEXT_ISEMPTY_TOOLTIP}\",\n    \"helpUrl\": \"%{BKY_TEXT_ISEMPTY_HELPURL}\"\n  },\n  {\n    \"type\": \"text_indexOf\",\n    \"message0\": \"%{BKY_TEXT_INDEXOF_TITLE}\",\n    \"args0\": [\n      {\n        \"type\": \"input_value\",\n        \"name\": \"VALUE\",\n        \"check\": \"String\"\n      },\n      {\n        \"type\": \"field_dropdown\",\n        \"name\": \"END\",\n        \"options\": [\n          [\n            \"%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}\",\n            \"FIRST\"\n          ],\n          [\n            \"%{BKY_TEXT_INDEXOF_OPERATOR_LAST}\",\n            \"LAST\"\n          ]\n        ]\n      },\n      {\n        \"type\": \"input_value\",\n        \"name\": \"FIND\",\n        \"check\": \"String\"\n      }\n    ],\n    \"output\": \"Number\",\n    \"style\": \"text_blocks\",\n    \"helpUrl\": \"%{BKY_TEXT_INDEXOF_HELPURL}\",\n    \"inputsInline\": true,\n    \"extensions\": [\n      \"text_indexOf_tooltip\"\n    ]\n  },\n  {\n    \"type\": \"text_charAt\",\n    \"message0\": \"%{BKY_TEXT_CHARAT_TITLE}\", // \"in text %1 %2\"\n    \"args0\": [\n      {\n        \"type\":\"input_value\",\n        \"name\": \"VALUE\",\n        \"check\": \"String\"\n      },\n      {\n        \"type\": \"field_dropdown\",\n        \"name\": \"WHERE\",\n        \"options\": [\n          [\"%{BKY_TEXT_CHARAT_FROM_START}\", \"FROM_START\"],\n          [\"%{BKY_TEXT_CHARAT_FROM_END}\", \"FROM_END\"],\n          [\"%{BKY_TEXT_CHARAT_FIRST}\", \"FIRST\"],\n          [\"%{BKY_TEXT_CHARAT_LAST}\", \"LAST\"],\n          [\"%{BKY_TEXT_CHARAT_RANDOM}\", \"RANDOM\"]\n        ]\n      }\n    ],\n    \"output\": \"String\",\n    \"style\": \"text_blocks\",\n    \"helpUrl\": \"%{BKY_TEXT_CHARAT_HELPURL}\",\n    \"inputsInline\": true,\n    \"mutator\": \"text_charAt_mutator\"\n  }\n]);  // END JSON EXTRACT (Do not delete this comment.)\n\nBlockly.Blocks['text_getSubstring'] = {\n  /**\n   * Block for getting substring.\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    this['WHERE_OPTIONS_1'] = [\n      [Blockly.Msg['TEXT_GET_SUBSTRING_START_FROM_START'], 'FROM_START'],\n      [Blockly.Msg['TEXT_GET_SUBSTRING_START_FROM_END'], 'FROM_END'],\n      [Blockly.Msg['TEXT_GET_SUBSTRING_START_FIRST'], 'FIRST']\n    ];\n    this['WHERE_OPTIONS_2'] = [\n      [Blockly.Msg['TEXT_GET_SUBSTRING_END_FROM_START'], 'FROM_START'],\n      [Blockly.Msg['TEXT_GET_SUBSTRING_END_FROM_END'], 'FROM_END'],\n      [Blockly.Msg['TEXT_GET_SUBSTRING_END_LAST'], 'LAST']\n    ];\n    this.setHelpUrl(Blockly.Msg['TEXT_GET_SUBSTRING_HELPURL']);\n    this.setStyle('text_blocks');\n    this.appendValueInput('STRING')\n        .setCheck('String')\n        .appendField(Blockly.Msg['TEXT_GET_SUBSTRING_INPUT_IN_TEXT']);\n    this.appendDummyInput('AT1');\n    this.appendDummyInput('AT2');\n    if (Blockly.Msg['TEXT_GET_SUBSTRING_TAIL']) {\n      this.appendDummyInput('TAIL')\n          .appendField(Blockly.Msg['TEXT_GET_SUBSTRING_TAIL']);\n    }\n    this.setInputsInline(true);\n    this.setOutput(true, 'String');\n    this.updateAt_(1, true);\n    this.updateAt_(2, true);\n    this.setTooltip(Blockly.Msg['TEXT_GET_SUBSTRING_TOOLTIP']);\n  },\n  /**\n   * Create XML to represent whether there are 'AT' inputs.\n   * @return {!Element} XML storage element.\n   * @this {Blockly.Block}\n   */\n  mutationToDom: function() {\n    var container = Blockly.utils.xml.createElement('mutation');\n    var isAt1 = this.getInput('AT1').type == Blockly.INPUT_VALUE;\n    container.setAttribute('at1', isAt1);\n    var isAt2 = this.getInput('AT2').type == Blockly.INPUT_VALUE;\n    container.setAttribute('at2', isAt2);\n    return container;\n  },\n  /**\n   * Parse XML to restore the 'AT' inputs.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Blockly.Block}\n   */\n  domToMutation: function(xmlElement) {\n    var isAt1 = (xmlElement.getAttribute('at1') == 'true');\n    var isAt2 = (xmlElement.getAttribute('at2') == 'true');\n    this.updateAt_(1, isAt1);\n    this.updateAt_(2, isAt2);\n  },\n  /**\n   * Create or delete an input for a numeric index.\n   * This block has two such inputs, independent of each other.\n   * @param {number} n Specify first or second input (1 or 2).\n   * @param {boolean} isAt True if the input should exist.\n   * @private\n   * @this {Blockly.Block}\n   */\n  updateAt_: function(n, isAt) {\n    // Create or delete an input for the numeric index.\n    // Destroy old 'AT' and 'ORDINAL' inputs.\n    this.removeInput('AT' + n);\n    this.removeInput('ORDINAL' + n, true);\n    // Create either a value 'AT' input or a dummy input.\n    if (isAt) {\n      this.appendValueInput('AT' + n).setCheck('Number');\n      if (Blockly.Msg['ORDINAL_NUMBER_SUFFIX']) {\n        this.appendDummyInput('ORDINAL' + n)\n            .appendField(Blockly.Msg['ORDINAL_NUMBER_SUFFIX']);\n      }\n    } else {\n      this.appendDummyInput('AT' + n);\n    }\n    // Move tail, if present, to end of block.\n    if (n == 2 && Blockly.Msg['TEXT_GET_SUBSTRING_TAIL']) {\n      this.removeInput('TAIL', true);\n      this.appendDummyInput('TAIL')\n          .appendField(Blockly.Msg['TEXT_GET_SUBSTRING_TAIL']);\n    }\n    var menu = new Blockly.FieldDropdown(this['WHERE_OPTIONS_' + n],\n        function(value) {\n          var newAt = (value == 'FROM_START') || (value == 'FROM_END');\n          // The 'isAt' variable is available due to this function being a\n          // closure.\n          if (newAt != isAt) {\n            var block = this.getSourceBlock();\n            block.updateAt_(n, newAt);\n            // This menu has been destroyed and replaced.\n            // Update the replacement.\n            block.setFieldValue(value, 'WHERE' + n);\n            return null;\n          }\n          return undefined;\n        });\n\n    this.getInput('AT' + n)\n        .appendField(menu, 'WHERE' + n);\n    if (n == 1) {\n      this.moveInputBefore('AT1', 'AT2');\n      if (this.getInput('ORDINAL1')) {\n        this.moveInputBefore('ORDINAL1', 'AT2');\n      }\n    }\n  }\n};\n\nBlockly.Blocks['text_changeCase'] = {\n  /**\n   * Block for changing capitalization.\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    var OPERATORS = [\n      [Blockly.Msg['TEXT_CHANGECASE_OPERATOR_UPPERCASE'], 'UPPERCASE'],\n      [Blockly.Msg['TEXT_CHANGECASE_OPERATOR_LOWERCASE'], 'LOWERCASE'],\n      [Blockly.Msg['TEXT_CHANGECASE_OPERATOR_TITLECASE'], 'TITLECASE']\n    ];\n    this.setHelpUrl(Blockly.Msg['TEXT_CHANGECASE_HELPURL']);\n    this.setStyle('text_blocks');\n    this.appendValueInput('TEXT')\n        .setCheck('String')\n        .appendField(new Blockly.FieldDropdown(OPERATORS), 'CASE');\n    this.setOutput(true, 'String');\n    this.setTooltip(Blockly.Msg['TEXT_CHANGECASE_TOOLTIP']);\n  }\n};\n\nBlockly.Blocks['text_trim'] = {\n  /**\n   * Block for trimming spaces.\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    var OPERATORS = [\n      [Blockly.Msg['TEXT_TRIM_OPERATOR_BOTH'], 'BOTH'],\n      [Blockly.Msg['TEXT_TRIM_OPERATOR_LEFT'], 'LEFT'],\n      [Blockly.Msg['TEXT_TRIM_OPERATOR_RIGHT'], 'RIGHT']\n    ];\n    this.setHelpUrl(Blockly.Msg['TEXT_TRIM_HELPURL']);\n    this.setStyle('text_blocks');\n    this.appendValueInput('TEXT')\n        .setCheck('String')\n        .appendField(new Blockly.FieldDropdown(OPERATORS), 'MODE');\n    this.setOutput(true, 'String');\n    this.setTooltip(Blockly.Msg['TEXT_TRIM_TOOLTIP']);\n  }\n};\n\nBlockly.Blocks['text_print'] = {\n  /**\n   * Block for print statement.\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    this.jsonInit({\n      \"message0\": Blockly.Msg['TEXT_PRINT_TITLE'],\n      \"args0\": [\n        {\n          \"type\": \"input_value\",\n          \"name\": \"TEXT\"\n        }\n      ],\n      \"previousStatement\": null,\n      \"nextStatement\": null,\n      \"style\": \"text_blocks\",\n      \"tooltip\": Blockly.Msg['TEXT_PRINT_TOOLTIP'],\n      \"helpUrl\": Blockly.Msg['TEXT_PRINT_HELPURL']\n    });\n  }\n};\n\nBlockly.Blocks['text_prompt_ext'] = {\n  /**\n   * Block for prompt function (external message).\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    var TYPES = [\n      [Blockly.Msg['TEXT_PROMPT_TYPE_TEXT'], 'TEXT'],\n      [Blockly.Msg['TEXT_PROMPT_TYPE_NUMBER'], 'NUMBER']\n    ];\n    this.setHelpUrl(Blockly.Msg['TEXT_PROMPT_HELPURL']);\n    this.setStyle('text_blocks');\n    // Assign 'this' to a variable for use in the closures below.\n    var thisBlock = this;\n    var dropdown = new Blockly.FieldDropdown(TYPES, function(newOp) {\n      thisBlock.updateType_(newOp);\n    });\n    this.appendValueInput('TEXT')\n        .appendField(dropdown, 'TYPE');\n    this.setOutput(true, 'String');\n    this.setTooltip(function() {\n      return (thisBlock.getFieldValue('TYPE') == 'TEXT') ?\n          Blockly.Msg['TEXT_PROMPT_TOOLTIP_TEXT'] :\n          Blockly.Msg['TEXT_PROMPT_TOOLTIP_NUMBER'];\n    });\n  },\n  /**\n   * Modify this block to have the correct output type.\n   * @param {string} newOp Either 'TEXT' or 'NUMBER'.\n   * @private\n   * @this {Blockly.Block}\n   */\n  updateType_: function(newOp) {\n    this.outputConnection.setCheck(newOp == 'NUMBER' ? 'Number' : 'String');\n  },\n  /**\n   * Create XML to represent the output type.\n   * @return {!Element} XML storage element.\n   * @this {Blockly.Block}\n   */\n  mutationToDom: function() {\n    var container = Blockly.utils.xml.createElement('mutation');\n    container.setAttribute('type', this.getFieldValue('TYPE'));\n    return container;\n  },\n  /**\n   * Parse XML to restore the output type.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Blockly.Block}\n   */\n  domToMutation: function(xmlElement) {\n    this.updateType_(xmlElement.getAttribute('type'));\n  }\n};\n\nBlockly.Blocks['text_prompt'] = {\n  /**\n   * Block for prompt function (internal message).\n   * The 'text_prompt_ext' block is preferred as it is more flexible.\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);\n    var TYPES = [\n      [Blockly.Msg['TEXT_PROMPT_TYPE_TEXT'], 'TEXT'],\n      [Blockly.Msg['TEXT_PROMPT_TYPE_NUMBER'], 'NUMBER']\n    ];\n\n    // Assign 'this' to a variable for use in the closures below.\n    var thisBlock = this;\n    this.setHelpUrl(Blockly.Msg['TEXT_PROMPT_HELPURL']);\n    this.setStyle('text_blocks');\n    var dropdown = new Blockly.FieldDropdown(TYPES, function(newOp) {\n      thisBlock.updateType_(newOp);\n    });\n    this.appendDummyInput()\n        .appendField(dropdown, 'TYPE')\n        .appendField(this.newQuote_(true))\n        .appendField(new Blockly.FieldTextInput(''), 'TEXT')\n        .appendField(this.newQuote_(false));\n    this.setOutput(true, 'String');\n    this.setTooltip(function() {\n      return (thisBlock.getFieldValue('TYPE') == 'TEXT') ?\n          Blockly.Msg['TEXT_PROMPT_TOOLTIP_TEXT'] :\n          Blockly.Msg['TEXT_PROMPT_TOOLTIP_NUMBER'];\n    });\n  },\n  updateType_: Blockly.Blocks['text_prompt_ext'].updateType_,\n  mutationToDom: Blockly.Blocks['text_prompt_ext'].mutationToDom,\n  domToMutation: Blockly.Blocks['text_prompt_ext'].domToMutation\n};\n\nBlockly.Blocks['text_count'] = {\n  /**\n   * Block for counting how many times one string appears within another string.\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    this.jsonInit({\n      \"message0\": Blockly.Msg['TEXT_COUNT_MESSAGE0'],\n      \"args0\": [\n        {\n          \"type\": \"input_value\",\n          \"name\": \"SUB\",\n          \"check\": \"String\"\n        },\n        {\n          \"type\": \"input_value\",\n          \"name\": \"TEXT\",\n          \"check\": \"String\"\n        }\n      ],\n      \"output\": \"Number\",\n      \"inputsInline\": true,\n      \"style\": \"text_blocks\",\n      \"tooltip\": Blockly.Msg['TEXT_COUNT_TOOLTIP'],\n      \"helpUrl\": Blockly.Msg['TEXT_COUNT_HELPURL']\n    });\n  }\n};\n\nBlockly.Blocks['text_replace'] = {\n  /**\n   * Block for replacing one string with another in the text.\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    this.jsonInit({\n      \"message0\": Blockly.Msg['TEXT_REPLACE_MESSAGE0'],\n      \"args0\": [\n        {\n          \"type\": \"input_value\",\n          \"name\": \"FROM\",\n          \"check\": \"String\"\n        },\n        {\n          \"type\": \"input_value\",\n          \"name\": \"TO\",\n          \"check\": \"String\"\n        },\n        {\n          \"type\": \"input_value\",\n          \"name\": \"TEXT\",\n          \"check\": \"String\"\n        }\n      ],\n      \"output\": \"String\",\n      \"inputsInline\": true,\n      \"style\": \"text_blocks\",\n      \"tooltip\": Blockly.Msg['TEXT_REPLACE_TOOLTIP'],\n      \"helpUrl\": Blockly.Msg['TEXT_REPLACE_HELPURL']\n    });\n  }\n};\n\nBlockly.Blocks['text_reverse'] = {\n  /**\n   * Block for reversing a string.\n   * @this {Blockly.Block}\n   */\n  init: function() {\n    this.jsonInit({\n      \"message0\": Blockly.Msg['TEXT_REVERSE_MESSAGE0'],\n      \"args0\": [\n        {\n          \"type\": \"input_value\",\n          \"name\": \"TEXT\",\n          \"check\": \"String\"\n        }\n      ],\n      \"output\": \"String\",\n      \"inputsInline\": true,\n      \"style\": \"text_blocks\",\n      \"tooltip\": Blockly.Msg['TEXT_REVERSE_TOOLTIP'],\n      \"helpUrl\": Blockly.Msg['TEXT_REVERSE_HELPURL']\n    });\n  }\n};\n\n/**\n *\n * @mixin\n * @package\n * @readonly\n */\nBlockly.Constants.Text.QUOTE_IMAGE_MIXIN = {\n  /**\n   * Image data URI of an LTR opening double quote (same as RTL closing double quote).\n   * @readonly\n   */\n  QUOTE_IMAGE_LEFT_DATAURI:\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAA' +\n    'n0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY' +\n    '1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1' +\n    'HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMf' +\n    'z9AylsaRRgGzvZAAAAAElFTkSuQmCC',\n  /**\n   * Image data URI of an LTR closing double quote (same as RTL opening double quote).\n   * @readonly\n   */\n  QUOTE_IMAGE_RIGHT_DATAURI:\n    'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAA' +\n    'qUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhg' +\n    'gONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvB' +\n    'O3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5Aos' +\n    'lLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==',\n  /**\n   * Pixel width of QUOTE_IMAGE_LEFT_DATAURI and QUOTE_IMAGE_RIGHT_DATAURI.\n   * @readonly\n   */\n  QUOTE_IMAGE_WIDTH: 12,\n  /**\n   * Pixel height of QUOTE_IMAGE_LEFT_DATAURI and QUOTE_IMAGE_RIGHT_DATAURI.\n   * @readonly\n   */\n  QUOTE_IMAGE_HEIGHT: 12,\n\n  /**\n   * Inserts appropriate quote images before and after the named field.\n   * @param {string} fieldName The name of the field to wrap with quotes.\n   * @this {Blockly.Block}\n   */\n  quoteField_: function(fieldName) {\n    for (var i = 0, input; (input = this.inputList[i]); i++) {\n      for (var j = 0, field; (field = input.fieldRow[j]); j++) {\n        if (fieldName == field.name) {\n          input.insertFieldAt(j, this.newQuote_(true));\n          input.insertFieldAt(j + 2, this.newQuote_(false));\n          return;\n        }\n      }\n    }\n    console.warn('field named \"' + fieldName + '\" not found in ' + this.toDevString());\n  },\n\n  /**\n   * A helper function that generates a FieldImage of an opening or\n   * closing double quote. The selected quote will be adapted for RTL blocks.\n   * @param {boolean} open If the image should be open quote (“ in LTR).\n   *                       Otherwise, a closing quote is used (” in LTR).\n   * @return {!Blockly.FieldImage} The new field.\n   * @this {Blockly.Block}\n   */\n  newQuote_: function(open) {\n    var isLeft = this.RTL ? !open : open;\n    var dataUri = isLeft ?\n      this.QUOTE_IMAGE_LEFT_DATAURI :\n      this.QUOTE_IMAGE_RIGHT_DATAURI;\n    return new Blockly.FieldImage(\n        dataUri,\n        this.QUOTE_IMAGE_WIDTH,\n        this.QUOTE_IMAGE_HEIGHT,\n        isLeft ? '\\u201C' : '\\u201D');\n  }\n};\n\n/**\n * Wraps TEXT field with images of double quote characters.\n * @this {Blockly.Block}\n */\nBlockly.Constants.Text.TEXT_QUOTES_EXTENSION = function() {\n  this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);\n  this.quoteField_('TEXT');\n};\n\n/**\n * Mixin for mutator functions in the 'text_join_mutator' extension.\n * @mixin\n * @augments Blockly.Block\n * @package\n */\nBlockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN = {\n  /**\n   * Create XML to represent number of text inputs.\n   * @return {!Element} XML storage element.\n   * @this {Blockly.Block}\n   */\n  mutationToDom: function() {\n    var container = Blockly.utils.xml.createElement('mutation');\n    container.setAttribute('items', this.itemCount_);\n    return container;\n  },\n  /**\n   * Parse XML to restore the text inputs.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Blockly.Block}\n   */\n  domToMutation: function(xmlElement) {\n    this.itemCount_ = parseInt(xmlElement.getAttribute('items'), 10);\n    this.updateShape_();\n  },\n  /**\n   * Populate the mutator's dialog with this block's components.\n   * @param {!Blockly.Workspace} workspace Mutator's workspace.\n   * @return {!Blockly.Block} Root block in mutator.\n   * @this {Blockly.Block}\n   */\n  decompose: function(workspace) {\n    var containerBlock = workspace.newBlock('text_create_join_container');\n    containerBlock.initSvg();\n    var connection = containerBlock.getInput('STACK').connection;\n    for (var i = 0; i < this.itemCount_; i++) {\n      var itemBlock = workspace.newBlock('text_create_join_item');\n      itemBlock.initSvg();\n      connection.connect(itemBlock.previousConnection);\n      connection = itemBlock.nextConnection;\n    }\n    return containerBlock;\n  },\n  /**\n   * Reconfigure this block based on the mutator dialog's components.\n   * @param {!Blockly.Block} containerBlock Root block in mutator.\n   * @this {Blockly.Block}\n   */\n  compose: function(containerBlock) {\n    var itemBlock = containerBlock.getInputTargetBlock('STACK');\n    // Count number of inputs.\n    var connections = [];\n    while (itemBlock) {\n      connections.push(itemBlock.valueConnection_);\n      itemBlock = itemBlock.nextConnection &&\n          itemBlock.nextConnection.targetBlock();\n    }\n    // Disconnect any children that don't belong.\n    for (var i = 0; i < this.itemCount_; i++) {\n      var connection = this.getInput('ADD' + i).connection.targetConnection;\n      if (connection && connections.indexOf(connection) == -1) {\n        connection.disconnect();\n      }\n    }\n    this.itemCount_ = connections.length;\n    this.updateShape_();\n    // Reconnect any child blocks.\n    for (var i = 0; i < this.itemCount_; i++) {\n      Blockly.Mutator.reconnect(connections[i], this, 'ADD' + i);\n    }\n  },\n  /**\n   * Store pointers to any connected child blocks.\n   * @param {!Blockly.Block} containerBlock Root block in mutator.\n   * @this {Blockly.Block}\n   */\n  saveConnections: function(containerBlock) {\n    var itemBlock = containerBlock.getInputTargetBlock('STACK');\n    var i = 0;\n    while (itemBlock) {\n      var input = this.getInput('ADD' + i);\n      itemBlock.valueConnection_ = input && input.connection.targetConnection;\n      i++;\n      itemBlock = itemBlock.nextConnection &&\n          itemBlock.nextConnection.targetBlock();\n    }\n  },\n  /**\n   * Modify this block to have the correct number of inputs.\n   * @private\n   * @this {Blockly.Block}\n   */\n  updateShape_: function() {\n    if (this.itemCount_ && this.getInput('EMPTY')) {\n      this.removeInput('EMPTY');\n    } else if (!this.itemCount_ && !this.getInput('EMPTY')) {\n      this.appendDummyInput('EMPTY')\n          .appendField(this.newQuote_(true))\n          .appendField(this.newQuote_(false));\n    }\n    // Add new inputs.\n    for (var i = 0; i < this.itemCount_; i++) {\n      if (!this.getInput('ADD' + i)) {\n        var input = this.appendValueInput('ADD' + i)\n            .setAlign(Blockly.ALIGN_RIGHT);\n        if (i == 0) {\n          input.appendField(Blockly.Msg['TEXT_JOIN_TITLE_CREATEWITH']);\n        }\n      }\n    }\n    // Remove deleted inputs.\n    while (this.getInput('ADD' + i)) {\n      this.removeInput('ADD' + i);\n      i++;\n    }\n  }\n};\n\n/**\n * Performs final setup of a text_join block.\n * @this {Blockly.Block}\n */\nBlockly.Constants.Text.TEXT_JOIN_EXTENSION = function() {\n  // Add the quote mixin for the itemCount_ = 0 case.\n  this.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);\n  // Initialize the mutator values.\n  this.itemCount_ = 2;\n  this.updateShape_();\n  // Configure the mutator UI.\n  this.setMutator(new Blockly.Mutator(['text_create_join_item']));\n};\n\n// Update the tooltip of 'text_append' block to reference the variable.\nBlockly.Extensions.register('text_append_tooltip',\n    Blockly.Extensions.buildTooltipWithFieldText(\n        '%{BKY_TEXT_APPEND_TOOLTIP}', 'VAR'));\n\n/**\n * Update the tooltip of 'text_append' block to reference the variable.\n * @this {Blockly.Block}\n */\nBlockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION = function() {\n  // Assign 'this' to a variable for use in the tooltip closure below.\n  var thisBlock = this;\n  this.setTooltip(function() {\n    return Blockly.Msg['TEXT_INDEXOF_TOOLTIP'].replace('%1',\n        thisBlock.workspace.options.oneBasedIndex ? '0' : '-1');\n  });\n};\n\n/**\n * Mixin for mutator functions in the 'text_charAt_mutator' extension.\n * @mixin\n * @augments Blockly.Block\n * @package\n */\nBlockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN = {\n  /**\n   * Create XML to represent whether there is an 'AT' input.\n   * @return {!Element} XML storage element.\n   * @this {Blockly.Block}\n   */\n  mutationToDom: function() {\n    var container = Blockly.utils.xml.createElement('mutation');\n    container.setAttribute('at', !!this.isAt_);\n    return container;\n  },\n  /**\n   * Parse XML to restore the 'AT' input.\n   * @param {!Element} xmlElement XML storage element.\n   * @this {Blockly.Block}\n   */\n  domToMutation: function(xmlElement) {\n    // Note: Until January 2013 this block did not have mutations,\n    // so 'at' defaults to true.\n    var isAt = (xmlElement.getAttribute('at') != 'false');\n    this.updateAt_(isAt);\n  },\n  /**\n   * Create or delete an input for the numeric index.\n   * @param {boolean} isAt True if the input should exist.\n   * @private\n   * @this {Blockly.Block}\n   */\n  updateAt_: function(isAt) {\n    // Destroy old 'AT' and 'ORDINAL' inputs.\n    this.removeInput('AT', true);\n    this.removeInput('ORDINAL', true);\n    // Create either a value 'AT' input or a dummy input.\n    if (isAt) {\n      this.appendValueInput('AT').setCheck('Number');\n      if (Blockly.Msg['ORDINAL_NUMBER_SUFFIX']) {\n        this.appendDummyInput('ORDINAL')\n            .appendField(Blockly.Msg['ORDINAL_NUMBER_SUFFIX']);\n      }\n    }\n    if (Blockly.Msg['TEXT_CHARAT_TAIL']) {\n      this.removeInput('TAIL', true);\n      this.appendDummyInput('TAIL')\n          .appendField(Blockly.Msg['TEXT_CHARAT_TAIL']);\n    }\n\n    this.isAt_ = isAt;\n  }\n};\n\n/**\n * Does the initial mutator update of text_charAt and adds the tooltip\n * @this {Blockly.Block}\n */\nBlockly.Constants.Text.TEXT_CHARAT_EXTENSION = function() {\n  var dropdown = this.getField('WHERE');\n  dropdown.setValidator(function(value) {\n    var newAt = (value == 'FROM_START') || (value == 'FROM_END');\n    if (newAt != this.isAt_) {\n      var block = this.getSourceBlock();\n      block.updateAt_(newAt);\n    }\n  });\n  this.updateAt_(true);\n  // Assign 'this' to a variable for use in the tooltip closure below.\n  var thisBlock = this;\n  this.setTooltip(function() {\n    var where = thisBlock.getFieldValue('WHERE');\n    var tooltip = Blockly.Msg['TEXT_CHARAT_TOOLTIP'];\n    if (where == 'FROM_START' || where == 'FROM_END') {\n      var msg = (where == 'FROM_START') ?\n          Blockly.Msg['LISTS_INDEX_FROM_START_TOOLTIP'] :\n          Blockly.Msg['LISTS_INDEX_FROM_END_TOOLTIP'];\n      if (msg) {\n        tooltip += '  ' + msg.replace('%1',\n            thisBlock.workspace.options.oneBasedIndex ? '#1' : '#0');\n      }\n    }\n    return tooltip;\n  });\n};\n\nBlockly.Extensions.register('text_indexOf_tooltip',\n    Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION);\n\nBlockly.Extensions.register('text_quotes',\n    Blockly.Constants.Text.TEXT_QUOTES_EXTENSION);\n\nBlockly.Extensions.registerMutator('text_join_mutator',\n    Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,\n    Blockly.Constants.Text.TEXT_JOIN_EXTENSION);\n\nBlockly.Extensions.registerMutator('text_charAt_mutator',\n    Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,\n    Blockly.Constants.Text.TEXT_CHARAT_EXTENSION);\n"],"file":"text.min.js"}