'use strict';goog.provide("Blockly.Input");goog.require("Blockly.Connection");goog.require("Blockly.FieldLabel");Blockly.Input=function(a,b,c,d){if(a!=Blockly.DUMMY_INPUT&&!b){throw Error("Value inputs and statement inputs must have non-empty name.")}this.type=a;this.name=b;this.sourceBlock_=c;this.connection=d;this.fieldRow=[]};Blockly.Input.prototype.align=Blockly.ALIGN_LEFT;Blockly.Input.prototype.visible_=!0;Blockly.Input.prototype.getSourceBlock=function(){return this.sourceBlock_};Blockly.Input.prototype.appendField=function(a,b){this.insertFieldAt(this.fieldRow.length,a,b);return this};Blockly.Input.prototype.insertFieldAt=function(a,b,c){if(0>a||a>this.fieldRow.length){throw Error("index "+a+" out of bounds.")}if(!b&&!(""==b&&c)){return a}if("string"==typeof b){b=new Blockly.FieldLabel(b)}b.setSourceBlock(this.sourceBlock_);if(this.sourceBlock_.rendered){b.init()}b.name=c;b.setVisible(this.isVisible());var d=b;if(d.prefixField){a=this.insertFieldAt(a,d.prefixField)}this.fieldRow.splice(a,0,b);++a;if(d.suffixField){a=this.insertFieldAt(a,d.suffixField)}if(this.sourceBlock_.rendered){this.sourceBlock_=this.sourceBlock_;this.sourceBlock_.render();this.sourceBlock_.bumpNeighbours()}return a};Blockly.Input.prototype.removeField=function(a,b){for(var c=0,d;d=this.fieldRow[c];c++){if(d.name===a){d.dispose();this.fieldRow.splice(c,1);if(this.sourceBlock_.rendered){this.sourceBlock_=this.sourceBlock_;this.sourceBlock_.render();this.sourceBlock_.bumpNeighbours()}return!0}}if(b){return!1}else{throw Error("Field \""+a+"\" not found.")}};Blockly.Input.prototype.isVisible=function(){return this.visible_};Blockly.Input.prototype.setVisible=function(a){var b=[];if(this.visible_==a){return b}this.visible_=a;for(var c=0,d;d=this.fieldRow[c];c++){d.setVisible(a)}if(this.connection){this.connection=this.connection;if(a){b=this.connection.startTrackingAll()}else{this.connection.stopTrackingAll()}var e=this.connection.targetBlock();if(e){e.getSvgRoot().style.display=a?"block":"none"}}return b};Blockly.Input.prototype.markDirty=function(){for(var a=0,b;b=this.fieldRow[a];a++){b.markDirty()}};Blockly.Input.prototype.setCheck=function(a){if(!this.connection){throw Error("This input does not have a connection.")}this.connection.setCheck(a);return this};Blockly.Input.prototype.setAlign=function(a){this.align=a;if(this.sourceBlock_.rendered){this.sourceBlock_=this.sourceBlock_;this.sourceBlock_.render()}return this};Blockly.Input.prototype.init=function(){if(!this.sourceBlock_.workspace.rendered){return}for(var a=0;a<this.fieldRow.length;a++){this.fieldRow[a].init()}};Blockly.Input.prototype.dispose=function(){for(var a=0,b;b=this.fieldRow[a];a++){b.dispose()}if(this.connection){this.connection.dispose()}this.sourceBlock_=null};
//# sourceMappingURL=input.min.js.map
