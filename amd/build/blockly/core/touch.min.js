'use strict';goog.provide("Blockly.Touch");goog.require("Blockly.utils");goog.require("Blockly.utils.global");goog.require("Blockly.utils.string");Blockly.Touch.TOUCH_ENABLED="ontouchstart"in Blockly.utils.global||!!(Blockly.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!!(Blockly.utils.global.navigator&&(Blockly.utils.global.navigator.maxTouchPoints||Blockly.utils.global.navigator.msMaxTouchPoints));Blockly.Touch.touchIdentifier_=null;Blockly.Touch.TOUCH_MAP={};if(Blockly.utils.global.PointerEvent){Blockly.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}}else if(Blockly.Touch.TOUCH_ENABLED){Blockly.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}}Blockly.longPid_=0;Blockly.longStart=function(a,b){Blockly.longStop_();if(a.changedTouches&&1!=a.changedTouches.length){return}Blockly.longPid_=setTimeout(function(){if(a.changedTouches){a.button=2;a.clientX=a.changedTouches[0].clientX;a.clientY=a.changedTouches[0].clientY}if(b){b.handleRightClick(a)}},Blockly.LONGPRESS)};Blockly.longStop_=function(){if(Blockly.longPid_){clearTimeout(Blockly.longPid_);Blockly.longPid_=0}};Blockly.Touch.clearTouchIdentifier=function(){Blockly.Touch.touchIdentifier_=null};Blockly.Touch.shouldHandleEvent=function(a){return!Blockly.Touch.isMouseOrTouchEvent(a)||Blockly.Touch.checkTouchIdentifier(a)};Blockly.Touch.getTouchIdentifierFromEvent=function(a){return a.pointerId!=void 0?a.pointerId:a.changedTouches&&a.changedTouches[0]&&a.changedTouches[0].identifier!==void 0&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};Blockly.Touch.checkTouchIdentifier=function(a){var b=Blockly.Touch.getTouchIdentifierFromEvent(a);if(Blockly.Touch.touchIdentifier_!==void 0&&null!==Blockly.Touch.touchIdentifier_){return Blockly.Touch.touchIdentifier_==b}if("mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type){Blockly.Touch.touchIdentifier_=b;return!0}return!1};Blockly.Touch.setClientFromTouch=function(a){if(Blockly.utils.string.startsWith(a.type,"touch")){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}};Blockly.Touch.isMouseOrTouchEvent=function(a){return Blockly.utils.string.startsWith(a.type,"touch")||Blockly.utils.string.startsWith(a.type,"mouse")||Blockly.utils.string.startsWith(a.type,"pointer")};Blockly.Touch.isTouchEvent=function(a){return Blockly.utils.string.startsWith(a.type,"touch")||Blockly.utils.string.startsWith(a.type,"pointer")};Blockly.Touch.splitEventByTouches=function(a){var b=[];if(a.changedTouches){for(var c=0,d;c<a.changedTouches.length;c++){d={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:function stopPropagation(){a.stopPropagation()},preventDefault:function preventDefault(){a.preventDefault()}};b[c]=d}}else{b.push(a)}return b};
//# sourceMappingURL=touch.min.js.map
