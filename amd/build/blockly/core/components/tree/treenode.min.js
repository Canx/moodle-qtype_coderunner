'use strict';goog.provide("Blockly.tree.TreeNode");goog.require("Blockly.tree.BaseNode");goog.require("Blockly.utils.object");goog.require("Blockly.utils.KeyCodes");Blockly.tree.TreeNode=function(a,b,c){this.toolbox_=a;Blockly.tree.BaseNode.call(this,b,c);this.onSizeChanged_=null};Blockly.utils.object.inherits(Blockly.tree.TreeNode,Blockly.tree.BaseNode);Blockly.tree.TreeNode.prototype.getTree=function(){if(this.tree){return this.tree}var a=this.getParent();if(a){var b=a.getTree();if(b){this.setTreeInternal(b);return b}}return null};Blockly.tree.TreeNode.prototype.getCalculatedIconClass=function(){var a=this.expanded_;if(a&&this.expandedIconClass){return this.expandedIconClass}var b=this.iconClass;if(!a&&b){return b}var c=this.config_;if(this.hasChildren()){if(a&&c.cssExpandedFolderIcon){return c.cssTreeIcon+" "+c.cssExpandedFolderIcon}else if(!a&&c.cssCollapsedFolderIcon){return c.cssTreeIcon+" "+c.cssCollapsedFolderIcon}}else{if(c.cssFileIcon){return c.cssTreeIcon+" "+c.cssFileIcon}}return""};Blockly.tree.TreeNode.prototype.onClick_=function(){if(this.hasChildren()){this.toggle();this.select()}else if(this.isSelected()){this.getTree().setSelectedItem(null)}else{this.select()}this.updateRow()};Blockly.tree.TreeNode.prototype.onKeyDown=function(a){if(this.tree.toolbox_.horizontalLayout_){var b={},c=Blockly.utils.KeyCodes.DOWN,d=Blockly.utils.KeyCodes.UP;b[Blockly.utils.KeyCodes.RIGHT]=this.rightToLeft_?d:c;b[Blockly.utils.KeyCodes.LEFT]=this.rightToLeft_?c:d;b[Blockly.utils.KeyCodes.UP]=Blockly.utils.KeyCodes.LEFT;b[Blockly.utils.KeyCodes.DOWN]=Blockly.utils.KeyCodes.RIGHT;var e=b[a.keyCode];Object.defineProperties(a,{keyCode:{value:e||a.keyCode}})}return Blockly.tree.TreeNode.superClass_.onKeyDown.call(this,a)};Blockly.tree.TreeNode.prototype.onSizeChanged=function(a){this.onSizeChanged_=a};Blockly.tree.TreeNode.prototype.resizeToolbox_=function(){if(this.onSizeChanged_){this.onSizeChanged_.call(this.toolbox_)}};Blockly.tree.TreeNode.prototype.doNodeExpanded=Blockly.tree.TreeNode.prototype.resizeToolbox_;Blockly.tree.TreeNode.prototype.doNodeCollapsed=Blockly.tree.TreeNode.prototype.resizeToolbox_;
//# sourceMappingURL=treenode.min.js.map
