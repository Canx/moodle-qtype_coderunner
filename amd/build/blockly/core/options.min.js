'use strict';goog.provide("Blockly.Options");goog.require("Blockly.Theme");goog.require("Blockly.Themes.Classic");goog.require("Blockly.registry");goog.require("Blockly.user.keyMap");goog.require("Blockly.utils.IdGenerator");goog.require("Blockly.utils.Metrics");goog.require("Blockly.utils.toolbox");goog.require("Blockly.utils.userAgent");goog.require("Blockly.Xml");Blockly.Options=function(a){var b=!!a.readOnly;if(b){var c=null,d=!1,e=!1,f=!1,g=!1,h=!1,i=!1}else{var j=a.toolbox;if(!Array.isArray(j)){j=Blockly.Options.parseToolboxTree(j||null)}var c=Blockly.utils.toolbox.convertToolboxToJSON(j),d=Blockly.utils.toolbox.hasCategories(c),e=a.trashcan;if(e===void 0){e=d}var k=a.maxTrashcanContents;if(e){if(k===void 0){k=32}}else{k=0}var f=a.collapse;if(f===void 0){f=d}var g=a.comments;if(g===void 0){g=d}var h=a.disable;if(h===void 0){h=d}var i=a.sounds;if(i===void 0){i=!0}}var l=!!a.rtl,m=a.horizontalLayout;if(m===void 0){m=!1}var n=a.toolboxPosition;n="end"!==n;if(m){var o=n?Blockly.TOOLBOX_AT_TOP:Blockly.TOOLBOX_AT_BOTTOM}else{var o=n==l?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT}var p=a.css;if(p===void 0){p=!0}var q="https://blockly-demo.appspot.com/static/media/";if(a.media){q=a.media}else if(a.path){q=a.path+"media/"}if(a.oneBasedIndex===void 0){var r=!0}else{var r=!!a.oneBasedIndex}var s=a.keyMap||Blockly.user.keyMap.createDefaultKeyMap(),t=a.renderer||"geras",u=a.plugins||{};this.RTL=l;this.oneBasedIndex=r;this.collapse=f;this.comments=g;this.disable=h;this.readOnly=b;this.maxBlocks=a.maxBlocks||1/0;this.maxInstances=a.maxInstances;this.pathToMedia=q;this.hasCategories=d;this.moveOptions=Blockly.Options.parseMoveOptions(a,d);this.hasScrollbars=this.moveOptions.scrollbars;this.hasTrashcan=e;this.maxTrashcanContents=k;this.hasSounds=i;this.hasCss=p;this.horizontalLayout=m;this.languageTree=c;this.gridOptions=Blockly.Options.parseGridOptions_(a);this.zoomOptions=Blockly.Options.parseZoomOptions_(a);this.toolboxPosition=o;this.theme=Blockly.Options.parseThemeOptions_(a);this.keyMap=s;this.renderer=t;this.rendererOverrides=a.rendererOverrides;this.gridPattern=null;this.parentWorkspace=a.parentWorkspace;this.plugins=u};Blockly.BlocklyOptions=function(){};Blockly.Options.prototype.setMetrics;Blockly.Options.prototype.getMetrics;Blockly.Options.parseMoveOptions=function(a,b){var c=a.move||{},d={};if(c.scrollbars===void 0&&a.scrollbars===void 0){d.scrollbars=b}else{d.scrollbars=!!c.scrollbars||!!a.scrollbars}if(!d.scrollbars||c.wheel===void 0){d.wheel=!1}else{d.wheel=!!c.wheel}if(!d.scrollbars){d.drag=!1}else if(c.drag===void 0){d.drag=!0}else{d.drag=!!c.drag}return d};Blockly.Options.parseZoomOptions_=function(a){var b=a.zoom||{},c={};if(b.controls===void 0){c.controls=!1}else{c.controls=!!b.controls}if(b.wheel===void 0){c.wheel=!1}else{c.wheel=!!b.wheel}if(b.startScale===void 0){c.startScale=1}else{c.startScale=+b.startScale}if(b.maxScale===void 0){c.maxScale=3}else{c.maxScale=+b.maxScale}if(b.minScale===void 0){c.minScale=.3}else{c.minScale=+b.minScale}if(b.scaleSpeed===void 0){c.scaleSpeed=1.2}else{c.scaleSpeed=+b.scaleSpeed}if(b.pinch===void 0){c.pinch=c.wheel||c.controls}else{c.pinch=!!b.pinch}return c};Blockly.Options.parseGridOptions_=function(a){var b=a.grid||{},c={};c.spacing=+b.spacing||0;c.colour=b.colour||"#888";c.length=b.length===void 0?1:+b.length;c.snap=0<c.spacing&&!!b.snap;return c};Blockly.Options.parseThemeOptions_=function(a){var b=a.theme||Blockly.Themes.Classic;if("string"==typeof b){return Blockly.registry.getObject(Blockly.registry.Type.THEME,b)}else if(b instanceof Blockly.Theme){return b}return Blockly.Theme.defineTheme(b.name||"builtin"+Blockly.utils.IdGenerator.getNextUniqueId(),b)};Blockly.Options.parseToolboxTree=function(a){if(a){if("string"!=typeof a){if(Blockly.utils.userAgent.IE&&a.outerHTML){a=a.outerHTML}else if(!(a instanceof Element)){a=null}}if("string"==typeof a){a=Blockly.Xml.textToDom(a);if("xml"!=a.nodeName.toLowerCase()){throw TypeError("Toolbox should be an <xml> document.")}}}else{a=null}return a};
//# sourceMappingURL=options.min.js.map
