'use strict';goog.provide("Blockly.FieldNumber");goog.require("Blockly.fieldRegistry");goog.require("Blockly.FieldTextInput");goog.require("Blockly.utils.aria");goog.require("Blockly.utils.object");Blockly.FieldNumber=function(a,b,c,d,e,f){this.min_=-Infinity;this.max_=1/0;this.precision_=0;this.decimalPlaces_=null;Blockly.FieldNumber.superClass_.constructor.call(this,a,e,f);if(!f){this.setConstraints(b,c,d)}};Blockly.utils.object.inherits(Blockly.FieldNumber,Blockly.FieldTextInput);Blockly.FieldNumber.prototype.DEFAULT_VALUE=0;Blockly.FieldNumber.fromJson=function(a){return new Blockly.FieldNumber(a.value,void 0,void 0,void 0,void 0,a)};Blockly.FieldNumber.prototype.SERIALIZABLE=!0;Blockly.FieldNumber.prototype.configure_=function(a){Blockly.FieldNumber.superClass_.configure_.call(this,a);this.setMinInternal_(a.min);this.setMaxInternal_(a.max);this.setPrecisionInternal_(a.precision)};Blockly.FieldNumber.prototype.setConstraints=function(a,b,c){this.setMinInternal_(a);this.setMaxInternal_(b);this.setPrecisionInternal_(c);this.setValue(this.getValue())};Blockly.FieldNumber.prototype.setMin=function(a){this.setMinInternal_(a);this.setValue(this.getValue())};Blockly.FieldNumber.prototype.setMinInternal_=function(a){if(null==a){this.min_=-Infinity}else{a=+a;if(!isNaN(a)){this.min_=a}}};Blockly.FieldNumber.prototype.getMin=function(){return this.min_};Blockly.FieldNumber.prototype.setMax=function(a){this.setMaxInternal_(a);this.setValue(this.getValue())};Blockly.FieldNumber.prototype.setMaxInternal_=function(a){if(null==a){this.max_=1/0}else{a=+a;if(!isNaN(a)){this.max_=a}}};Blockly.FieldNumber.prototype.getMax=function(){return this.max_};Blockly.FieldNumber.prototype.setPrecision=function(a){this.setPrecisionInternal_(a);this.setValue(this.getValue())};Blockly.FieldNumber.prototype.setPrecisionInternal_=function(a){if(null==a){this.precision_=0}else{a=+a;if(!isNaN(a)){this.precision_=a}}var b=this.precision_.toString(),c=b.indexOf(".");if(-1==c){this.decimalPlaces_=a?0:null}else{this.decimalPlaces_=b.length-c-1}};Blockly.FieldNumber.prototype.getPrecision=function(){return this.precision_};Blockly.FieldNumber.prototype.doClassValidation_=function(a){if(null===a){return null}var b=a+"";b=b.replace(/O/ig,"0");b=b.replace(/,/g,"");b=b.replace(/infinity/i,"Infinity");var c=+(b||0);if(isNaN(c)){return null}c=Math.min(Math.max(c,this.min_),this.max_);if(this.precision_&&isFinite(c)){c=Math.round(c/this.precision_)*this.precision_}if(null!=this.decimalPlaces_){c=+c.toFixed(this.decimalPlaces_)}return c};Blockly.FieldNumber.prototype.widgetCreate_=function(){var a=Blockly.FieldNumber.superClass_.widgetCreate_.call(this);if(this.min_>-Infinity){Blockly.utils.aria.setState(a,Blockly.utils.aria.State.VALUEMIN,this.min_)}if(this.max_<1/0){Blockly.utils.aria.setState(a,Blockly.utils.aria.State.VALUEMAX,this.max_)}return a};Blockly.fieldRegistry.register("field_number",Blockly.FieldNumber);
//# sourceMappingURL=field_number.min.js.map
