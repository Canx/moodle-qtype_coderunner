'use strict';goog.provide("Blockly.Grid");goog.require("Blockly.utils.dom");goog.require("Blockly.utils.userAgent");Blockly.Grid=function(a,b){this.gridPattern_=a;this.spacing_=b.spacing;this.length_=b.length;this.line1_=a.firstChild;this.line2_=this.line1_&&this.line1_.nextSibling;this.snapToGrid_=b.snap};Blockly.Grid.prototype.scale_=1;Blockly.Grid.prototype.dispose=function(){this.gridPattern_=null};Blockly.Grid.prototype.shouldSnap=function(){return this.snapToGrid_};Blockly.Grid.prototype.getSpacing=function(){return this.spacing_};Blockly.Grid.prototype.getPatternId=function(){return this.gridPattern_.id};Blockly.Grid.prototype.update=function(a){this.scale_=a;var b=this.spacing_*a||100;this.gridPattern_.setAttribute("width",b);this.gridPattern_.setAttribute("height",b);var c=Math.floor(this.spacing_/2)+.5,d=c-this.length_/2,e=c+this.length_/2;c*=a;d*=a;e*=a;this.setLineAttributes_(this.line1_,a,d,e,c,c);this.setLineAttributes_(this.line2_,a,c,c,d,e)};Blockly.Grid.prototype.setLineAttributes_=function(a,b,c,d,e,f){if(a){a.setAttribute("stroke-width",b);a.setAttribute("x1",c);a.setAttribute("y1",e);a.setAttribute("x2",d);a.setAttribute("y2",f)}};Blockly.Grid.prototype.moveTo=function(a,b){this.gridPattern_.setAttribute("x",a);this.gridPattern_.setAttribute("y",b);if(Blockly.utils.userAgent.IE||Blockly.utils.userAgent.EDGE){this.update(this.scale_)}};Blockly.Grid.createDom=function(a,b,c){var d=Blockly.utils.dom.createSvgElement("pattern",{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},c);if(0<b.length&&0<b.spacing){Blockly.utils.dom.createSvgElement("line",{stroke:b.colour},d);if(1<b.length){Blockly.utils.dom.createSvgElement("line",{stroke:b.colour},d)}}else{Blockly.utils.dom.createSvgElement("line",{},d)}return d};
//# sourceMappingURL=grid.min.js.map
