'use strict';goog.provide("Blockly.Names");goog.require("Blockly.Msg");Blockly.Names=function(a,b){this.variablePrefix_=b||"";this.reservedDict_=Object.create(null);if(a){for(var c=a.split(","),d=0;d<c.length;d++){this.reservedDict_[c[d]]=!0}}this.reset()};Blockly.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE";Blockly.Names.prototype.reset=function(){this.db_=Object.create(null);this.dbReverse_=Object.create(null);this.variableMap_=null};Blockly.Names.prototype.setVariableMap=function(a){this.variableMap_=a};Blockly.Names.prototype.getNameForUserVariable_=function(a){if(!this.variableMap_){console.log("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());");return null}var b=this.variableMap_.getVariableById(a);if(b){return b.name}else{return null}};Blockly.Names.prototype.getName=function(a,b){if(b==Blockly.VARIABLE_CATEGORY_NAME){var c=this.getNameForUserVariable_(a);if(c){a=c}}var d=a.toLowerCase()+"_"+b,e=b==Blockly.VARIABLE_CATEGORY_NAME||b==Blockly.Names.DEVELOPER_VARIABLE_TYPE,f=e?this.variablePrefix_:"";if(d in this.db_){return f+this.db_[d]}var g=this.getDistinctName(a,b);this.db_[d]=g.substr(f.length);return g};Blockly.Names.prototype.getDistinctName=function(a,b){var c=this.safeName_(a),d="";while(this.dbReverse_[c+d]||c+d in this.reservedDict_){d=d?d+1:2}c+=d;this.dbReverse_[c]=!0;var e=b==Blockly.VARIABLE_CATEGORY_NAME||b==Blockly.Names.DEVELOPER_VARIABLE_TYPE,f=e?this.variablePrefix_:"";return f+c};Blockly.Names.prototype.safeName_=function(a){if(!a){a=Blockly.Msg.UNNAMED_KEY||"unnamed"}else{a=encodeURI(a.replace(/ /g,"_")).replace(/[^\w]/g,"_");if(-1!="0123456789".indexOf(a[0])){a="my_"+a}}return a};Blockly.Names.equals=function(a,b){return a.toLowerCase()==b.toLowerCase()};
//# sourceMappingURL=names.min.js.map
