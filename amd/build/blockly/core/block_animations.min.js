'use strict';goog.provide("Blockly.blockAnimations");goog.require("Blockly.utils.dom");Blockly.blockAnimations.disconnectPid_=0;Blockly.blockAnimations.disconnectGroup_=null;Blockly.blockAnimations.disposeUiEffect=function(a){var b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play("delete");var d=b.getSvgXY(c),e=c.cloneNode(!0);e.translateX_=d.x;e.translateY_=d.y;e.setAttribute("transform","translate("+d.x+","+d.y+")");b.getParentSvg().appendChild(e);e.bBox_=e.getBBox();Blockly.blockAnimations.disposeUiStep_(e,b.RTL,new Date,b.scale)};Blockly.blockAnimations.disposeUiStep_=function(a,b,c,d){var e=new Date-c,f=e/150;if(1<f){Blockly.utils.dom.removeNode(a)}else{var g=a.translateX_+(b?-1:1)*a.bBox_.width*d/2*f,h=a.translateY_+a.bBox_.height*d*f;a.setAttribute("transform","translate("+g+","+h+") scale("+(1-f)*d+")");setTimeout(Blockly.blockAnimations.disposeUiStep_,10,a,b,c,d)}};Blockly.blockAnimations.connectionUiEffect=function(a){var b=a.workspace,c=b.scale;b.getAudioManager().play("click");if(1>c){return}var d=b.getSvgXY(a.getSvgRoot());if(a.outputConnection){d.x+=(a.RTL?3:-3)*c;d.y+=13*c}else if(a.previousConnection){d.x+=(a.RTL?-23:23)*c;d.y+=3*c}var e=Blockly.utils.dom.createSvgElement("circle",{cx:d.x,cy:d.y,r:0,fill:"none",stroke:"#888","stroke-width":10},b.getParentSvg());Blockly.blockAnimations.connectionUiStep_(e,new Date,c)};Blockly.blockAnimations.connectionUiStep_=function(a,b,c){var d=new Date-b,e=d/150;if(1<e){Blockly.utils.dom.removeNode(a)}else{a.setAttribute("r",25*e*c);a.style.opacity=1-e;Blockly.blockAnimations.disconnectPid_=setTimeout(Blockly.blockAnimations.connectionUiStep_,10,a,b,c)}};Blockly.blockAnimations.disconnectUiEffect=function(a){a.workspace.getAudioManager().play("disconnect");if(1>a.workspace.scale){return}var b=a.getHeightWidth().height,c=180*(Math.atan(10/b)/Math.PI);if(!a.RTL){c*=-1}Blockly.blockAnimations.disconnectUiStep_(a.getSvgRoot(),c,new Date)};Blockly.blockAnimations.disconnectUiStep_=function(a,b,c){var d=new Date-c,e=d/200;if(1<e){a.skew_=""}else{var f=Math.round(Math.sin(e*Math.PI*3)*(1-e)*b);a.skew_="skewX("+f+")";Blockly.blockAnimations.disconnectGroup_=a;Blockly.blockAnimations.disconnectPid_=setTimeout(Blockly.blockAnimations.disconnectUiStep_,10,a,b,c)}a.setAttribute("transform",a.translate_+a.skew_)};Blockly.blockAnimations.disconnectUiStop=function(){if(Blockly.blockAnimations.disconnectGroup_){clearTimeout(Blockly.blockAnimations.disconnectPid_);var a=Blockly.blockAnimations.disconnectGroup_;a.skew_="";a.setAttribute("transform",a.translate_);Blockly.blockAnimations.disconnectGroup_=null}};
//# sourceMappingURL=block_animations.min.js.map
