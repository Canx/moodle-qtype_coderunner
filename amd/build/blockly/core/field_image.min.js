'use strict';goog.provide("Blockly.FieldImage");goog.require("Blockly.Field");goog.require("Blockly.fieldRegistry");goog.require("Blockly.utils");goog.require("Blockly.utils.dom");goog.require("Blockly.utils.object");goog.require("Blockly.utils.Size");Blockly.FieldImage=function(a,b,c,d,e,f,g){if(!a){throw Error("Src value of an image field is required")}a=Blockly.utils.replaceMessageReferences(a);var h=+Blockly.utils.replaceMessageReferences(c),i=+Blockly.utils.replaceMessageReferences(b);if(isNaN(h)||isNaN(i)){throw Error("Height and width values of an image field must cast to numbers.")}if(0>=h||0>=i){throw Error("Height and width values of an image field must be greater than 0.")}this.flipRtl_=!1;this.altText_="";Blockly.FieldImage.superClass_.constructor.call(this,a,null,g);if(!g){this.flipRtl_=!!f;this.altText_=Blockly.utils.replaceMessageReferences(d)||""}this.size_=new Blockly.utils.Size(i,h+Blockly.FieldImage.Y_PADDING);this.imageHeight_=h;this.clickHandler_=null;if("function"==typeof e){this.clickHandler_=e}this.imageElement_=null};Blockly.utils.object.inherits(Blockly.FieldImage,Blockly.Field);Blockly.FieldImage.prototype.DEFAULT_VALUE="";Blockly.FieldImage.fromJson=function(a){return new Blockly.FieldImage(a.src,a.width,a.height,void 0,void 0,void 0,a)};Blockly.FieldImage.Y_PADDING=1;Blockly.FieldImage.prototype.EDITABLE=!1;Blockly.FieldImage.prototype.isDirty_=!1;Blockly.FieldImage.prototype.configure_=function(a){Blockly.FieldImage.superClass_.configure_.call(this,a);this.flipRtl_=!!a.flipRtl;this.altText_=Blockly.utils.replaceMessageReferences(a.alt)||""};Blockly.FieldImage.prototype.initView=function(){this.imageElement_=Blockly.utils.dom.createSvgElement("image",{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_);this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.value_);if(this.clickHandler_){this.imageElement_.style.cursor="pointer"}};Blockly.FieldImage.prototype.updateSize_=function(){};Blockly.FieldImage.prototype.doClassValidation_=function(a){if("string"!=typeof a){return null}return a};Blockly.FieldImage.prototype.doValueUpdate_=function(a){this.value_=a;if(this.imageElement_){this.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,"xlink:href",this.value_+"")}};Blockly.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_};Blockly.FieldImage.prototype.setAlt=function(a){if(a==this.altText_){return}this.altText_=a||"";if(this.imageElement_){this.imageElement_.setAttribute("alt",this.altText_)}};Blockly.FieldImage.prototype.showEditor_=function(){if(this.clickHandler_){this.clickHandler_(this)}};Blockly.FieldImage.prototype.setOnClickHandler=function(a){this.clickHandler_=a};Blockly.FieldImage.prototype.getText_=function(){return this.altText_};Blockly.fieldRegistry.register("field_image",Blockly.FieldImage);
//# sourceMappingURL=field_image.min.js.map
