'use strict';goog.provide("Blockly.zelos.Drawer");goog.require("Blockly.blockRendering.ConstantProvider");goog.require("Blockly.blockRendering.Drawer");goog.require("Blockly.blockRendering.Types");goog.require("Blockly.utils.object");goog.require("Blockly.zelos.RenderInfo");goog.requireType("Blockly.zelos.PathObject");Blockly.zelos.Drawer=function(a,b){Blockly.zelos.Drawer.superClass_.constructor.call(this,a,b)};Blockly.utils.object.inherits(Blockly.zelos.Drawer,Blockly.blockRendering.Drawer);Blockly.zelos.Drawer.prototype.draw=function(){var a=this.block_.pathObject;a.beginDrawing();this.hideHiddenIcons_();this.drawOutline_();this.drawInternals_();a.setPath(this.outlinePath_+"\n"+this.inlinePath_);if(this.info_.RTL){a.flipRTL()}if(Blockly.blockRendering.useDebugger){this.block_.renderingDebugger.drawDebug(this.block_,this.info_)}this.recordSizeOnBlock_();if(this.info_.outputConnection){a.outputShapeType=this.info_.outputConnection.shape.type}a.endDrawing()};Blockly.zelos.Drawer.prototype.drawOutline_=function(){if(this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection){this.drawFlatTop_();this.drawRightDynamicConnection_();this.drawFlatBottom_();this.drawLeftDynamicConnection_()}else{Blockly.zelos.Drawer.superClass_.drawOutline_.call(this)}};Blockly.zelos.Drawer.prototype.drawLeft_=function(){if(this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape){this.drawLeftDynamicConnection_()}else{Blockly.zelos.Drawer.superClass_.drawLeft_.call(this)}};Blockly.zelos.Drawer.prototype.drawRightSideRow_=function(a){if(0>=a.height){return}if(a.precedesStatement||a.followsStatement){var b=this.constants_.INSIDE_CORNERS.rightHeight,c=a.height-(a.precedesStatement?b:0);this.outlinePath_+=(a.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<c?Blockly.utils.svgPaths.lineOnAxis("V",a.yPos+c):"")+(a.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else{this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("V",a.yPos+a.height)}};Blockly.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)};Blockly.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_();this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height);this.outlinePath_+="z"};Blockly.zelos.Drawer.prototype.drawFlatTop_=function(){var a=this.info_.topRow;this.positionPreviousConnection_();this.outlinePath_+=Blockly.utils.svgPaths.moveBy(a.xPos,this.info_.startY);this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("h",a.width)};Blockly.zelos.Drawer.prototype.drawFlatBottom_=function(){var a=this.info_.bottomRow;this.positionNextConnection_();this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("V",a.baseline);this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("h",-a.width)};Blockly.zelos.Drawer.prototype.drawInlineInput_=function(a){this.positionInlineInputConnection_(a);var b=a.input.name;if(a.connectedBlock||this.info_.isInsertionMarker){return}var c=a.width-2*a.connectionWidth,d=a.height,e=a.centerline-d/2,f=a.xPos+a.connectionWidth,g=Blockly.utils.svgPaths.moveTo(f,e)+Blockly.utils.svgPaths.lineOnAxis("h",c)+a.shape.pathRightDown(a.height)+Blockly.utils.svgPaths.lineOnAxis("h",-c)+a.shape.pathUp(a.height)+"z";this.block_.pathObject.setOutlinePath(b,g)};Blockly.zelos.Drawer.prototype.drawStatementInput_=function(a){var b=a.getLastInput(),c=b.xPos+b.notchOffset+b.shape.width,d=b.shape.pathRight+Blockly.utils.svgPaths.lineOnAxis("h",-(b.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,e=a.height-2*this.constants_.INSIDE_CORNERS.height,f=this.constants_.INSIDE_CORNERS.pathBottom+Blockly.utils.svgPaths.lineOnAxis("h",b.notchOffset-this.constants_.INSIDE_CORNERS.width)+(b.connectedBottomNextConnection?"":b.shape.pathLeft);this.outlinePath_+=Blockly.utils.svgPaths.lineOnAxis("H",c)+d+Blockly.utils.svgPaths.lineOnAxis("v",e)+f+Blockly.utils.svgPaths.lineOnAxis("H",a.xPos+a.width);this.positionStatementInputConnection_(a)};
//# sourceMappingURL=drawer.min.js.map
