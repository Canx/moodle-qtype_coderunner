'use strict';goog.provide("Blockly.zelos.PathObject");goog.require("Blockly.blockRendering.PathObject");goog.require("Blockly.zelos.ConstantProvider");goog.require("Blockly.utils.dom");goog.require("Blockly.utils.object");Blockly.zelos.PathObject=function(a,b,c){Blockly.zelos.PathObject.superClass_.constructor.call(this,a,b,c);this.constants=c;this.svgPathSelected_=null;this.outlines_={};this.remainingOutlines_=null;this.outputShapeType=null};Blockly.utils.object.inherits(Blockly.zelos.PathObject,Blockly.blockRendering.PathObject);Blockly.zelos.PathObject.prototype.setPath=function(a){Blockly.zelos.PathObject.superClass_.setPath.call(this,a);if(this.svgPathSelected_){this.svgPathSelected_.setAttribute("d",a)}};Blockly.zelos.PathObject.prototype.applyColour=function(a){Blockly.zelos.PathObject.superClass_.applyColour.call(this,a);if(a.isShadow()&&a.getParent()){this.svgPath.setAttribute("stroke",a.getParent().style.colourTertiary)}for(var b=0,c=Object.keys(this.outlines_),d;d=c[b];b++){this.outlines_[d].setAttribute("fill",this.style.colourTertiary)}};Blockly.zelos.PathObject.prototype.flipRTL=function(){Blockly.zelos.PathObject.superClass_.flipRTL.call(this);for(var a=0,b=Object.keys(this.outlines_),c;c=b[a];a++){this.outlines_[c].setAttribute("transform","scale(-1 1)")}};Blockly.zelos.PathObject.prototype.updateSelected=function(a){this.setClass_("blocklySelected",a);if(a){if(!this.svgPathSelected_){this.svgPathSelected_=this.svgPath.cloneNode(!0);this.svgPathSelected_.setAttribute("fill","none");this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")");this.svgRoot.appendChild(this.svgPathSelected_)}}else{if(this.svgPathSelected_){this.svgRoot.removeChild(this.svgPathSelected_);this.svgPathSelected_=null}}};Blockly.zelos.PathObject.prototype.updateReplacementFade=function(a){this.setClass_("blocklyReplaceable",a);if(a){this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")")}else{this.svgPath.removeAttribute("filter")}};Blockly.zelos.PathObject.prototype.updateShapeForInputHighlight=function(a,b){var c=a.getParentInput().name,d=this.getOutlinePath_(c);if(!d){return}if(b){d.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")")}else{d.removeAttribute("filter")}};Blockly.zelos.PathObject.prototype.beginDrawing=function(){this.remainingOutlines_={};for(var a=0,b=Object.keys(this.outlines_),c;c=b[a];a++){this.remainingOutlines_[c]=1}};Blockly.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_){for(var a=0,b=Object.keys(this.remainingOutlines_),c;c=b[a];a++){this.removeOutlinePath_(c)}}this.remainingOutlines_=null};Blockly.zelos.PathObject.prototype.setOutlinePath=function(a,b){var c=this.getOutlinePath_(a);c.setAttribute("d",b);c.setAttribute("fill",this.style.colourTertiary)};Blockly.zelos.PathObject.prototype.getOutlinePath_=function(a){if(!this.outlines_[a]){this.outlines_[a]=Blockly.utils.dom.createSvgElement("path",{class:"blocklyOutlinePath",d:""},this.svgRoot)}if(this.remainingOutlines_){delete this.remainingOutlines_[a]}return this.outlines_[a]};Blockly.zelos.PathObject.prototype.removeOutlinePath_=function(a){this.outlines_[a].parentNode.removeChild(this.outlines_[a]);delete this.outlines_[a]};
//# sourceMappingURL=path_object.min.js.map
