goog.provide("Blockly.blockRendering.BottomRow");goog.provide("Blockly.blockRendering.InputRow");goog.provide("Blockly.blockRendering.Row");goog.provide("Blockly.blockRendering.SpacerRow");goog.provide("Blockly.blockRendering.TopRow");goog.require("Blockly.blockRendering.InputConnection");goog.require("Blockly.blockRendering.InRowSpacer");goog.require("Blockly.blockRendering.Measurable");goog.require("Blockly.blockRendering.NextConnection");goog.require("Blockly.blockRendering.PreviousConnection");goog.require("Blockly.blockRendering.Types");goog.require("Blockly.utils.object");Blockly.blockRendering.Row=function(a){this.type=Blockly.blockRendering.Types.ROW;this.elements=[];this.height=0;this.width=0;this.minHeight=0;this.minWidth=0;this.widthWithConnectedBlocks=0;this.yPos=0;this.xPos=0;this.hasExternalInput=!1;this.hasStatement=!1;this.hasInlineInput=!1;this.hasDummyInput=!1;this.hasJaggedEdge=!1;this.constants_=a;this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT;this.align=null};Blockly.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")};Blockly.blockRendering.Row.prototype.getLastInput=function(){for(var a=this.elements.length-1,b;b=this.elements[a];a--){if(Blockly.blockRendering.Types.isInput(b)){return b}}return null};Blockly.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0};Blockly.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0};Blockly.blockRendering.Row.prototype.getFirstSpacer=function(){for(var a=0,b;b=this.elements[a];a++){if(Blockly.blockRendering.Types.isSpacer(b)){return b}}return null};Blockly.blockRendering.Row.prototype.getLastSpacer=function(){for(var a=this.elements.length-1,b;b=this.elements[a];a--){if(Blockly.blockRendering.Types.isSpacer(b)){return b}}return null};Blockly.blockRendering.TopRow=function(a){Blockly.blockRendering.TopRow.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.TOP_ROW;this.capline=0;this.ascenderHeight=0;this.hasPreviousConnection=!1;this.connection=null};Blockly.utils.object.inherits(Blockly.blockRendering.TopRow,Blockly.blockRendering.Row);Blockly.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(a){var b=(a.hat?"cap"===a.hat:this.constants_.ADD_START_HATS)&&!a.outputConnection&&!a.previousConnection,c=a.getPreviousBlock();return!!a.outputConnection||b||(c?c.getNextBlock()==a:!1)};Blockly.blockRendering.TopRow.prototype.hasRightSquareCorner=function(){return!0};Blockly.blockRendering.TopRow.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,f;f=this.elements[d];d++){b+=f.width;if(!Blockly.blockRendering.Types.isSpacer(f)){if(Blockly.blockRendering.Types.isHat(f)){c=Math.max(c,f.ascenderHeight)}else{a=Math.max(a,f.height)}}}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.ascenderHeight=c;this.capline=this.ascenderHeight;this.widthWithConnectedBlocks=this.width};Blockly.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1};Blockly.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1};Blockly.blockRendering.BottomRow=function(a){Blockly.blockRendering.BottomRow.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.BOTTOM_ROW;this.hasNextConnection=!1;this.connection=null;this.descenderHeight=0;this.baseline=0};Blockly.utils.object.inherits(Blockly.blockRendering.BottomRow,Blockly.blockRendering.Row);Blockly.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(a){return!!a.outputConnection||!!a.getNextBlock()};Blockly.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(){return!0};Blockly.blockRendering.BottomRow.prototype.measure=function(){for(var a=0,b=0,c=0,d=0,f;f=this.elements[d];d++){b+=f.width;if(!Blockly.blockRendering.Types.isSpacer(f)){if(Blockly.blockRendering.Types.isNextConnection(f)){c=Math.max(c,f.height)}else{a=Math.max(a,f.height)}}}this.width=Math.max(this.minWidth,b);this.height=Math.max(this.minHeight,a)+c;this.descenderHeight=c;this.widthWithConnectedBlocks=this.width};Blockly.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1};Blockly.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1};Blockly.blockRendering.SpacerRow=function(a,b,c){Blockly.blockRendering.SpacerRow.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.SPACER|Blockly.blockRendering.Types.BETWEEN_ROW_SPACER;this.width=c;this.height=b;this.followsStatement=!1;this.widthWithConnectedBlocks=0;this.elements=[new Blockly.blockRendering.InRowSpacer(this.constants_,c)]};Blockly.utils.object.inherits(Blockly.blockRendering.SpacerRow,Blockly.blockRendering.Row);Blockly.blockRendering.SpacerRow.prototype.measure=function(){};Blockly.blockRendering.InputRow=function(a){Blockly.blockRendering.InputRow.superClass_.constructor.call(this,a);this.type|=Blockly.blockRendering.Types.INPUT_ROW;this.connectedBlockWidths=0};Blockly.utils.object.inherits(Blockly.blockRendering.InputRow,Blockly.blockRendering.Row);Blockly.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,b=0,c;c=this.elements[b];b++){this.width+=c.width;if(Blockly.blockRendering.Types.isInput(c)){if(Blockly.blockRendering.Types.isStatementInput(c)){a+=c.connectedBlockWidth}else if(Blockly.blockRendering.Types.isExternalInput(c)&&0!=c.connectedBlockWidth){a+=c.connectedBlockWidth-c.connectionWidth}}if(!Blockly.blockRendering.Types.isSpacer(c)){this.height=Math.max(this.height,c.height)}}this.connectedBlockWidths=a;this.widthWithConnectedBlocks=this.width+a};Blockly.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement};
//# sourceMappingURL=rows.min.js.map
