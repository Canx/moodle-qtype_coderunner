{"version":3,"sources":["../../../../../src/blockly/core/renderers/common/constants.js"],"names":["goog","provide","require","requireType","Blockly","blockRendering","ConstantProvider","NO_PADDING","SMALL_PADDING","MEDIUM_PADDING","MEDIUM_LARGE_PADDING","LARGE_PADDING","TALL_INPUT_FIELD_OFFSET_Y","TAB_HEIGHT","TAB_OFFSET_FROM_TOP","TAB_VERTICAL_OVERLAP","TAB_WIDTH","NOTCH_WIDTH","NOTCH_HEIGHT","MIN_BLOCK_WIDTH","EMPTY_BLOCK_SPACER_HEIGHT","DUMMY_INPUT_MIN_HEIGHT","DUMMY_INPUT_SHADOW_MIN_HEIGHT","CORNER_RADIUS","NOTCH_OFFSET_LEFT","STATEMENT_INPUT_NOTCH_OFFSET","STATEMENT_BOTTOM_SPACER","STATEMENT_INPUT_PADDING_LEFT","BETWEEN_STATEMENT_PADDING_Y","TOP_ROW_MIN_HEIGHT","TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT","BOTTOM_ROW_MIN_HEIGHT","BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT","ADD_START_HATS","START_HAT_HEIGHT","START_HAT_WIDTH","SPACER_DEFAULT_HEIGHT","MIN_BLOCK_HEIGHT","EMPTY_INLINE_INPUT_PADDING","EMPTY_INLINE_INPUT_HEIGHT","EXTERNAL_VALUE_INPUT_PADDING","EMPTY_STATEMENT_INPUT_HEIGHT","START_POINT","utils","svgPaths","moveBy","JAGGED_TEETH_HEIGHT","JAGGED_TEETH_WIDTH","FIELD_TEXT_FONTSIZE","FIELD_TEXT_FONTWEIGHT","FIELD_TEXT_FONTFAMILY","FIELD_TEXT_HEIGHT","FIELD_TEXT_BASELINE","FIELD_BORDER_RECT_RADIUS","FIELD_BORDER_RECT_HEIGHT","FIELD_BORDER_RECT_X_PADDING","FIELD_BORDER_RECT_Y_PADDING","FIELD_BORDER_RECT_COLOUR","FIELD_TEXT_BASELINE_CENTER","userAgent","IE","EDGE","FIELD_DROPDOWN_BORDER_RECT_HEIGHT","FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW","FIELD_DROPDOWN_COLOURED_DIV","FIELD_DROPDOWN_SVG_ARROW","FIELD_DROPDOWN_SVG_ARROW_PADDING","FIELD_DROPDOWN_SVG_ARROW_SIZE","FIELD_DROPDOWN_SVG_ARROW_DATAURI","FIELD_TEXTINPUT_BOX_SHADOW","FIELD_COLOUR_FULL_BLOCK","FIELD_COLOUR_DEFAULT_WIDTH","FIELD_COLOUR_DEFAULT_HEIGHT","FIELD_CHECKBOX_X_OFFSET","randomIdentifier","Math","random","substring","embossFilterId","embossFilter_","disabledPatternId","disabledPattern_","debugFilterId","debugFilter_","cssNode_","CURSOR_COLOUR","MARKER_COLOUR","CURSOR_WS_WIDTH","WS_CURSOR_HEIGHT","CURSOR_STACK_PADDING","CURSOR_BLOCK_PADDING","CURSOR_STROKE_WIDTH","FULL_BLOCK_FIELDS","INSERTION_MARKER_COLOUR","INSERTION_MARKER_OPACITY","SHAPES","PUZZLE","NOTCH","prototype","init","JAGGED_TEETH","makeJaggedTeeth","makeNotch","START_HAT","makeStartHat","PUZZLE_TAB","makePuzzleTab","INSIDE_CORNERS","makeInsideCorners","OUTSIDE_CORNERS","makeOutsideCorners","setTheme","theme","blockStyles","key","validatedBlockStyle_","setDynamicProperties_","setFontConstants_","setComponentConstants_","startHats","fontStyle","fontMetrics","dom","measureFontMetrics","height","baseline","getComponentStyle","getBlockStyleForColour","colour","name","createBlockStyle_","style","getBlockStyle","blockStyleName","indexOf","blockStyle","valid","object","mixin","parsedColour","parseBlockColour","colourPrimary","hex","colourSecondary","generateSecondaryColour_","colourTertiary","generateTertiaryColour_","hat","blend","dispose","removeNode","width","mainPath","line","point","path","curve","makeMainPath","up","forward","back","overlap","halfHeight","endPoint1","endPoint2","pathUp","pathDown","type","innerWidth","outerWidth","dir","pathLeft","pathRight","radius","innerTopLeftCorner","arc","innerBottomLeftCorner","pathTop","pathBottom","topLeft","topRight","bottomLeft","bottomRight","rightHeight","shapeFor","connection","INPUT_VALUE","OUTPUT_VALUE","PREVIOUS_STATEMENT","NEXT_STATEMENT","Error","createDom","svg","tagName","selector","injectCSS_","defs","createSvgElement","embossFilter","feSpecularLighting","id","disabledPattern","Debug","debugFilter","y","x","debugComponentTransfer","cssArray","getCSS_","cssNodeId","document","getElementById","text","join","firstChild","textContent","cssNode","createElement","cssTextNode","createTextNode","appendChild","head","insertBefore"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview An object that provides constants for rendering blocks.\n * @author fenichel@google.com (Rachel Fenichel)\n */\n'use strict';\n\ngoog.provide('Blockly.blockRendering.ConstantProvider');\n\ngoog.require('Blockly.utils');\ngoog.require('Blockly.utils.colour');\ngoog.require('Blockly.utils.dom');\ngoog.require('Blockly.utils.svgPaths');\ngoog.require('Blockly.utils.userAgent');\n\ngoog.requireType('Blockly.blockRendering.Debug');\n\n\n/**\n * An object that provides constants for rendering blocks.\n * @constructor\n * @package\n */\nBlockly.blockRendering.ConstantProvider = function() {\n\n  /**\n   * The size of an empty spacer.\n   * @type {number}\n   */\n  this.NO_PADDING = 0;\n\n  /**\n   * The size of small padding.\n   * @type {number}\n   */\n  this.SMALL_PADDING = 3;\n\n  /**\n   * The size of medium padding.\n   * @type {number}\n   */\n  this.MEDIUM_PADDING = 5;\n\n  /**\n   * The size of medium-large padding.\n   * @type {number}\n   */\n  this.MEDIUM_LARGE_PADDING = 8;\n\n  /**\n   * The size of large padding.\n   * @type {number}\n   */\n  this.LARGE_PADDING = 10;\n\n  /**\n   * Offset from the top of the row for placing fields on inline input rows\n   * and statement input rows.\n   * Matches existing rendering (in 2019).\n   * @type {number}\n   */\n  this.TALL_INPUT_FIELD_OFFSET_Y = this.MEDIUM_PADDING;\n\n  /**\n   * The height of the puzzle tab used for input and output connections.\n   * @type {number}\n   */\n  this.TAB_HEIGHT = 15;\n\n  /**\n   * The offset from the top of the block at which a puzzle tab is positioned.\n   * @type {number}\n   */\n  this.TAB_OFFSET_FROM_TOP = 5;\n\n  /**\n   * Vertical overlap of the puzzle tab, used to make it look more like a puzzle\n   * piece.\n   * @type {number}\n   */\n  this.TAB_VERTICAL_OVERLAP = 2.5;\n\n  /**\n   * The width of the puzzle tab used for input and output connections.\n   * @type {number}\n   */\n  this.TAB_WIDTH = 8;\n\n  /**\n   * The width of the notch used for previous and next connections.\n   * @type {number}\n   */\n  this.NOTCH_WIDTH = 15;\n\n  /**\n   * The height of the notch used for previous and next connections.\n   * @type {number}\n   */\n  this.NOTCH_HEIGHT = 4;\n\n  /**\n   * The minimum width of the block.\n   * @type {number}\n   */\n  this.MIN_BLOCK_WIDTH = 12;\n\n  this.EMPTY_BLOCK_SPACER_HEIGHT = 16;\n\n  /**\n   * The minimum height of a dummy input row.\n   * @type {number}\n   */\n  this.DUMMY_INPUT_MIN_HEIGHT = this.TAB_HEIGHT;\n\n  /**\n   * The minimum height of a dummy input row in a shadow block.\n   * @type {number}\n   */\n  this.DUMMY_INPUT_SHADOW_MIN_HEIGHT = this.TAB_HEIGHT;\n\n  /**\n   * Rounded corner radius.\n   * @type {number}\n   */\n  this.CORNER_RADIUS = 8;\n\n  /**\n   * Offset from the left side of a block or the inside of a statement input to\n   * the left side of the notch.\n   * @type {number}\n   */\n  this.NOTCH_OFFSET_LEFT = 15;\n\n  /**\n   * Additional offset added to the statement input's width to account for the\n   * notch.\n   * @type {number}\n   */\n  this.STATEMENT_INPUT_NOTCH_OFFSET = this.NOTCH_OFFSET_LEFT;\n\n  this.STATEMENT_BOTTOM_SPACER = 0;\n  this.STATEMENT_INPUT_PADDING_LEFT = 20;\n\n  /**\n   * Vertical padding between consecutive statement inputs.\n   * @type {number}\n   */\n  this.BETWEEN_STATEMENT_PADDING_Y = 4;\n\n  /**\n   * The top row's minimum height.\n   * @type {number}\n   */\n  this.TOP_ROW_MIN_HEIGHT = this.MEDIUM_PADDING;\n\n  /**\n   * The top row's minimum height if it precedes a statement.\n   * @type {number}\n   */\n  this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT = this.LARGE_PADDING;\n\n  /**\n   * The bottom row's minimum height.\n   * @type {number}\n   */\n  this.BOTTOM_ROW_MIN_HEIGHT = this.MEDIUM_PADDING;\n\n  /**\n   * The bottom row's minimum height if it follows a statement input.\n   * @type {number}\n   */\n  this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT = this.LARGE_PADDING;\n\n  /**\n   * Whether to add a 'hat' on top of all blocks with no previous or output\n   * connections. Can be overridden by 'hat' property on Theme.BlockStyle.\n   * @type {boolean}\n   */\n  this.ADD_START_HATS = false;\n\n  /**\n   * Height of the top hat.\n   * @type {number}\n   */\n  this.START_HAT_HEIGHT = 15;\n\n  /**\n   * Width of the top hat.\n   * @type {number}\n   */\n  this.START_HAT_WIDTH = 100;\n\n  this.SPACER_DEFAULT_HEIGHT = 15;\n\n  this.MIN_BLOCK_HEIGHT = 24;\n\n  this.EMPTY_INLINE_INPUT_PADDING = 14.5;\n\n  /**\n   * The height of an empty inline input.\n   * @type {number}\n   */\n  this.EMPTY_INLINE_INPUT_HEIGHT = this.TAB_HEIGHT + 11;\n\n  this.EXTERNAL_VALUE_INPUT_PADDING = 2;\n\n  /**\n   * The height of an empty statement input.  Note that in the old rendering this\n   * varies slightly depending on whether the block has external or inline inputs.\n   * In the new rendering this is consistent.  It seems unlikely that the old\n   * behaviour was intentional.\n   * @type {number}\n   */\n  this.EMPTY_STATEMENT_INPUT_HEIGHT = this.MIN_BLOCK_HEIGHT;\n\n  this.START_POINT = Blockly.utils.svgPaths.moveBy(0, 0);\n\n  /**\n   * Height of SVG path for jagged teeth at the end of collapsed blocks.\n   * @type {number}\n   */\n  this.JAGGED_TEETH_HEIGHT = 12;\n\n  /**\n   * Width of SVG path for jagged teeth at the end of collapsed blocks.\n   * @type {number}\n   */\n  this.JAGGED_TEETH_WIDTH = 6;\n\n  /**\n   * Point size of text.\n   * @type {number}\n   */\n  this.FIELD_TEXT_FONTSIZE = 11;\n\n  /**\n   * Text font weight.\n   * @type {string}\n   */\n  this.FIELD_TEXT_FONTWEIGHT = 'normal';\n\n  /**\n   * Text font family.\n   * @type {string}\n   */\n  this.FIELD_TEXT_FONTFAMILY = 'sans-serif';\n\n  /**\n   * Height of text.  This constant is dynamically set in ``setFontConstants_``\n   * to be the height of the text based on the font used.\n   * @type {number}\n   */\n  this.FIELD_TEXT_HEIGHT = -1; // Dynamically set\n\n  /**\n   * Text baseline.  This constant is dynamically set in ``setFontConstants_``\n   * to be the baseline of the text based on the font used.\n   * @type {number}\n   */\n  this.FIELD_TEXT_BASELINE = -1; // Dynamically set\n\n  /**\n   * A field's border rect corner radius.\n   * @type {number}\n   */\n  this.FIELD_BORDER_RECT_RADIUS = 4;\n\n  /**\n   * A field's border rect default height.\n   * @type {number}\n   */\n  this.FIELD_BORDER_RECT_HEIGHT = 16;\n\n  /**\n   * A field's border rect X padding.\n   * @type {number}\n   */\n  this.FIELD_BORDER_RECT_X_PADDING = 5;\n\n  /**\n   * A field's border rect Y padding.\n   * @type {number}\n   */\n  this.FIELD_BORDER_RECT_Y_PADDING = 3;\n\n  /**\n   * The backing colour of a field's border rect.\n   * @type {string}\n   * @package\n   */\n  this.FIELD_BORDER_RECT_COLOUR = '#fff';\n\n  /**\n   * A field's text element's dominant baseline.\n   * @type {boolean}\n   */\n  this.FIELD_TEXT_BASELINE_CENTER =\n      !Blockly.utils.userAgent.IE && !Blockly.utils.userAgent.EDGE;\n\n  /**\n   * A dropdown field's border rect height.\n   * @type {number}\n   */\n  this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT = this.FIELD_BORDER_RECT_HEIGHT;\n\n  /**\n   * Whether or not a dropdown field should add a border rect when in a shadow\n   * block.\n   * @type {boolean}\n   */\n  this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW = false;\n\n  /**\n   * Whether or not a dropdown field's div should be coloured to match the\n   * block colours.\n   * @type {boolean}\n   */\n  this.FIELD_DROPDOWN_COLOURED_DIV = false;\n\n  /**\n   * Whether or not a dropdown field uses a text or SVG arrow.\n   * @type {boolean}\n   */\n  this.FIELD_DROPDOWN_SVG_ARROW = false;\n\n  /**\n   * A dropdown field's SVG arrow padding.\n   * @type {number}\n   */\n  this.FIELD_DROPDOWN_SVG_ARROW_PADDING = this.FIELD_BORDER_RECT_X_PADDING;\n\n  /**\n   * A dropdown field's SVG arrow size.\n   * @type {number}\n   */\n  this.FIELD_DROPDOWN_SVG_ARROW_SIZE = 12;\n\n  /**\n   * A dropdown field's SVG arrow datauri.\n   * @type {string}\n   */\n  this.FIELD_DROPDOWN_SVG_ARROW_DATAURI =\n    'data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllci' +\n    'AxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaG' +\n    'VpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLW' +\n    'Fycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuND' +\n    'EsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTD' +\n    'AuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNz' +\n    'FDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMC' +\n    'wxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNz' +\n    'lhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYz' +\n    'AuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMz' +\n    'dBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=';\n\n  /**\n   * Whether or not to show a box shadow around the widget div. This is only a\n   * feature of full block fields.\n   * @type {boolean}\n   */\n  this.FIELD_TEXTINPUT_BOX_SHADOW = false;\n\n  /**\n   * Whether or not the colour field should display its colour value on the\n   * entire block.\n   * @type {boolean}\n   */\n  this.FIELD_COLOUR_FULL_BLOCK = false;\n\n  /**\n   * A colour field's default width.\n   * @type {number}\n   */\n  this.FIELD_COLOUR_DEFAULT_WIDTH = 26;\n\n  /**\n   * A colour field's default height.\n   * @type {number}\n   */\n  this.FIELD_COLOUR_DEFAULT_HEIGHT = this.FIELD_BORDER_RECT_HEIGHT;\n\n  /**\n   * A checkbox field's X offset.\n   * @type {number}\n   */\n  this.FIELD_CHECKBOX_X_OFFSET = this.FIELD_BORDER_RECT_X_PADDING - 3;\n\n  /**\n   * A random identifier used to ensure a unique ID is used for each\n   * filter/pattern for the case of multiple Blockly instances on a page.\n   * @type {string}\n   * @package\n   */\n  this.randomIdentifier = String(Math.random()).substring(2);\n\n  /**\n   * The ID of the emboss filter, or the empty string if no filter is set.\n   * @type {string}\n   * @package\n   */\n  this.embossFilterId = '';\n\n  /**\n   * The <filter> element to use for highlighting, or null if not set.\n   * @type {SVGElement}\n   * @private\n   */\n  this.embossFilter_ = null;\n\n  /**\n   * The ID of the disabled pattern, or the empty string if no pattern is set.\n   * @type {string}\n   * @package\n   */\n  this.disabledPatternId = '';\n\n  /**\n   * The <pattern> element to use for disabled blocks, or null if not set.\n   * @type {SVGElement}\n   * @private\n   */\n  this.disabledPattern_ = null;\n\n  /**\n   * The ID of the debug filter, or the empty string if no pattern is set.\n   * @type {string}\n   * @package\n   */\n  this.debugFilterId = '';\n\n  /**\n   * The <filter> element to use for a debug highlight, or null if not set.\n   * @type {SVGElement}\n   * @private\n   */\n  this.debugFilter_ = null;\n\n  /**\n   * The <style> element to use for injecting renderer specific CSS.\n   * @type {HTMLStyleElement}\n   * @private\n   */\n  this.cssNode_ = null;\n\n  /**\n   * Cursor colour.\n   * @type {string}\n   * @package\n   */\n  this.CURSOR_COLOUR = '#cc0a0a';\n\n  /**\n   * Immovable marker colour.\n   * @type {string}\n   * @package\n   */\n  this.MARKER_COLOUR = '#4286f4';\n\n  /**\n   * Width of the horizontal cursor.\n   * @type {number}\n   * @package\n   */\n  this.CURSOR_WS_WIDTH = 100;\n\n  /**\n   * Height of the horizontal cursor.\n   * @type {number}\n   * @package\n   */\n  this.WS_CURSOR_HEIGHT = 5;\n\n  /**\n   * Padding around a stack.\n   * @type {number}\n   * @package\n   */\n  this.CURSOR_STACK_PADDING = 10;\n\n  /**\n   * Padding around a block.\n   * @type {number}\n   * @package\n   */\n  this.CURSOR_BLOCK_PADDING = 2;\n\n  /**\n   * Stroke of the cursor.\n   * @type {number}\n   * @package\n   */\n  this.CURSOR_STROKE_WIDTH = 4;\n\n  /**\n   * Whether text input and colour fields fill up the entire source block.\n   * @type {boolean}\n   * @package\n   */\n  this.FULL_BLOCK_FIELDS = false;\n\n  /**\n   * The main colour of insertion markers, in hex.  The block is rendered a\n   * transparent grey by changing the fill opacity in CSS.\n   * @type {string}\n   * @package\n   */\n  this.INSERTION_MARKER_COLOUR = '#000000';\n\n  /**\n   * The insertion marker opacity.\n   * @type {number}\n   * @package\n   */\n  this.INSERTION_MARKER_OPACITY = 0.2;\n\n  /**\n   * Enum for connection shapes.\n   * @enum {number}\n   */\n  this.SHAPES = {\n    PUZZLE: 1,\n    NOTCH: 2\n  };\n};\n\n/**\n * Initialize shape objects based on the constants set in the constructor.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.init = function() {\n\n  /**\n   * An object containing sizing and path information about collapsed block\n   * indicators.\n   * @type {!Object}\n   */\n  this.JAGGED_TEETH = this.makeJaggedTeeth();\n\n  /**\n   * An object containing sizing and path information about notches.\n   * @type {!Object}\n   */\n  this.NOTCH = this.makeNotch();\n\n  /**\n   * An object containing sizing and path information about start hats\n   * @type {!Object}\n   */\n  this.START_HAT = this.makeStartHat();\n\n  /**\n   * An object containing sizing and path information about puzzle tabs.\n   * @type {!Object}\n   */\n  this.PUZZLE_TAB = this.makePuzzleTab();\n\n  /**\n   * An object containing sizing and path information about inside corners\n   * @type {!Object}\n   */\n  this.INSIDE_CORNERS = this.makeInsideCorners();\n\n  /**\n   * An object containing sizing and path information about outside corners.\n   * @type {!Object}\n   */\n  this.OUTSIDE_CORNERS = this.makeOutsideCorners();\n};\n\n/**\n * Refresh constants properties that depend on the theme.\n * @param {!Blockly.Theme} theme The current workspace theme.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.setTheme = function(\n    theme) {\n\n  /**\n   * The block styles map.\n   * @type {Object.<string, Blockly.Theme.BlockStyle>}\n   * @package\n   */\n  this.blockStyles = {};\n\n  var blockStyles = theme.blockStyles;\n  for (var key in blockStyles) {\n    this.blockStyles[key] = this.validatedBlockStyle_(blockStyles[key]);\n  }\n\n  this.setDynamicProperties_(theme);\n};\n\n/**\n * Sets dynamic properties that depend on other values or theme properties.\n * @param {!Blockly.Theme} theme The current workspace theme.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.setDynamicProperties_ =\n    function(theme) {\n    /* eslint-disable indent */\n  this.setFontConstants_(theme);\n  this.setComponentConstants_(theme);\n\n  this.ADD_START_HATS = theme.startHats != null ? theme.startHats :\n      this.ADD_START_HATS;\n}; /* eslint-enable indent */\n\n/**\n * Set constants related to fonts.\n * @param {!Blockly.Theme} theme The current workspace theme.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.setFontConstants_ = function(\n    theme) {\n  this.FIELD_TEXT_FONTFAMILY =\n      theme.fontStyle && theme.fontStyle['family'] != undefined ?\n      theme.fontStyle['family'] : this.FIELD_TEXT_FONTFAMILY;\n  this.FIELD_TEXT_FONTWEIGHT =\n      theme.fontStyle && theme.fontStyle['weight'] != undefined ?\n      theme.fontStyle['weight'] : this.FIELD_TEXT_FONTWEIGHT;\n  this.FIELD_TEXT_FONTSIZE =\n      theme.fontStyle && theme.fontStyle['size'] != undefined ?\n      theme.fontStyle['size'] : this.FIELD_TEXT_FONTSIZE;\n\n  var fontMetrics = Blockly.utils.dom.measureFontMetrics('Hg',\n      this.FIELD_TEXT_FONTSIZE + 'pt',\n      this.FIELD_TEXT_FONTWEIGHT,\n      this.FIELD_TEXT_FONTFAMILY);\n\n  this.FIELD_TEXT_HEIGHT = fontMetrics.height;\n  this.FIELD_TEXT_BASELINE = fontMetrics.baseline;\n};\n\n/**\n * Set constants from a theme's component styles.\n * @param {!Blockly.Theme} theme The current workspace theme.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.setComponentConstants_ =\n    function(theme) {\n    /* eslint-disable indent */\n  this.CURSOR_COLOUR = theme.getComponentStyle('cursorColour') ||\n    this.CURSOR_COLOUR;\n  this.MARKER_COLOUR = theme.getComponentStyle('markerColour') ||\n    this.MARKER_COLOUR;\n  this.INSERTION_MARKER_COLOUR =\n    theme.getComponentStyle('insertionMarkerColour') ||\n    this.INSERTION_MARKER_COLOUR;\n  this.INSERTION_MARKER_OPACITY =\n    Number(theme.getComponentStyle('insertionMarkerOpacity')) ||\n    this.INSERTION_MARKER_OPACITY;\n}; /* eslint-enable indent */\n\n/**\n * Get or create a block style based on a single colour value.  Generate a name\n * for the style based on the colour.\n * @param {string} colour #RRGGBB colour string.\n * @return {{style: !Blockly.Theme.BlockStyle, name: string}} An object\n *     containing the style and an autogenerated name for that style.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.getBlockStyleForColour =\n    function(colour) {\n    /* eslint-disable indent */\n  var name = 'auto_' + colour;\n  if (!this.blockStyles[name]) {\n    this.blockStyles[name] = this.createBlockStyle_(colour);\n  }\n  return {style: this.blockStyles[name], name: name};\n}; /* eslint-enable indent */\n\n/**\n * Gets the BlockStyle for the given block style name.\n * @param {?string} blockStyleName The name of the block style.\n * @return {!Blockly.Theme.BlockStyle} The named block style, or a default style\n *     if no style with the given name was found.\n */\nBlockly.blockRendering.ConstantProvider.prototype.getBlockStyle = function(\n    blockStyleName) {\n  return this.blockStyles[blockStyleName || ''] ||\n      (blockStyleName && blockStyleName.indexOf('auto_') == 0 ?\n        this.getBlockStyleForColour(blockStyleName.substring(5)).style :\n        this.createBlockStyle_('#000000'));\n};\n\n/**\n * Create a block style object based on the given colour.\n * @param {string} colour #RRGGBB colour string.\n * @return {!Blockly.Theme.BlockStyle} A populated block style based on the\n *     given colour.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.createBlockStyle_ = function(\n    colour) {\n  return this.validatedBlockStyle_({\n    'colourPrimary': colour\n  });\n};\n\n/**\n * Get a full block style object based on the input style object.  Populate\n * any missing values.\n * @param {{\n *     colourPrimary:string,\n *     colourSecondary:(string|undefined),\n *     colourTertiary:(string|undefined),\n *     hat:(string|undefined)\n * }} blockStyle A full or partial block style object.\n\n * @return {!Blockly.Theme.BlockStyle} A full block style object, with all\n *     required properties populated.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.validatedBlockStyle_ =\n    function(blockStyle) {\n    /* eslint-disable indent */\n  // Make a new object with all of the same properties.\n  var valid = /** @type {!Blockly.Theme.BlockStyle} */ ({});\n  if (blockStyle) {\n    Blockly.utils.object.mixin(valid, blockStyle);\n  }\n  // Validate required properties.\n  var parsedColour = Blockly.utils.parseBlockColour(\n      valid['colourPrimary'] || '#000');\n  valid.colourPrimary = parsedColour.hex;\n  valid.colourSecondary = valid['colourSecondary'] ?\n      Blockly.utils.parseBlockColour(valid['colourSecondary']).hex :\n      this.generateSecondaryColour_(valid.colourPrimary);\n  valid.colourTertiary = valid['colourTertiary'] ?\n      Blockly.utils.parseBlockColour(valid['colourTertiary']).hex :\n      this.generateTertiaryColour_(valid.colourPrimary);\n\n  valid.hat = valid['hat'] || '';\n  return valid;\n}; /* eslint-enable indent */\n\n/**\n * Generate a secondary colour from the passed in primary colour.\n * @param {string} colour Primary colour.\n * @return {string} The generated secondary colour.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.generateSecondaryColour_ =\n    function(colour) {\n    /* eslint-disable indent */\n  return Blockly.utils.colour.blend('#fff', colour, 0.6) || colour;\n}; /* eslint-enable indent */\n\n/**\n * Generate a tertiary colour from the passed in primary colour.\n * @param {string} colour Primary colour.\n * @return {string} The generated tertiary colour.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.generateTertiaryColour_ =\n    function(colour) {\n    /* eslint-disable indent */\n  return Blockly.utils.colour.blend('#fff', colour, 0.3) || colour;\n}; /* eslint-enable indent */\n\n\n/**\n * Dispose of this constants provider.\n * Delete all DOM elements that this provider created.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.dispose = function() {\n  if (this.embossFilter_) {\n    Blockly.utils.dom.removeNode(this.embossFilter_);\n  }\n  if (this.disabledPattern_) {\n    Blockly.utils.dom.removeNode(this.disabledPattern_);\n  }\n  if (this.debugFilter_) {\n    Blockly.utils.dom.removeNode(this.debugFilter_);\n  }\n  this.cssNode_ = null;\n};\n\n/**\n * @return {!Object} An object containing sizing and path information about\n *     collapsed block indicators.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.makeJaggedTeeth = function() {\n  var height = this.JAGGED_TEETH_HEIGHT;\n  var width = this.JAGGED_TEETH_WIDTH;\n\n  var mainPath =\n      Blockly.utils.svgPaths.line(\n          [\n            Blockly.utils.svgPaths.point(width, height / 4),\n            Blockly.utils.svgPaths.point(-width * 2, height / 2),\n            Blockly.utils.svgPaths.point(width, height / 4)\n          ]);\n  return {\n    height: height,\n    width: width,\n    path: mainPath\n  };\n};\n\n/**\n * @return {!Object} An object containing sizing and path information about\n *     start hats.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.makeStartHat = function() {\n  var height = this.START_HAT_HEIGHT;\n  var width = this.START_HAT_WIDTH;\n\n  var mainPath =\n      Blockly.utils.svgPaths.curve('c',\n          [\n            Blockly.utils.svgPaths.point(30, -height),\n            Blockly.utils.svgPaths.point(70, -height),\n            Blockly.utils.svgPaths.point(width, 0)\n          ]);\n  return {\n    height: height,\n    width: width,\n    path: mainPath\n  };\n};\n\n/**\n * @return {!Object} An object containing sizing and path information about\n *     puzzle tabs.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.makePuzzleTab = function() {\n  var width = this.TAB_WIDTH;\n  var height = this.TAB_HEIGHT;\n\n  // The main path for the puzzle tab is made out of a few curves (c and s).\n  // Those curves are defined with relative positions.  The 'up' and 'down'\n  // versions of the paths are the same, but the Y sign flips.  Forward and back\n  // are the signs to use to move the cursor in the direction that the path is\n  // being drawn.\n  function makeMainPath(up) {\n    var forward = up ? -1 : 1;\n    var back = -forward;\n\n    var overlap = 2.5;\n    var halfHeight = height / 2;\n    var control1Y = halfHeight + overlap;\n    var control2Y = halfHeight + 0.5;\n    var control3Y = overlap; // 2.5\n\n    var endPoint1 = Blockly.utils.svgPaths.point(-width, forward * halfHeight);\n    var endPoint2 = Blockly.utils.svgPaths.point(width, forward * halfHeight);\n\n    return Blockly.utils.svgPaths.curve('c',\n        [\n          Blockly.utils.svgPaths.point(0, forward * control1Y),\n          Blockly.utils.svgPaths.point(-width, back * control2Y),\n          endPoint1\n        ]) +\n        Blockly.utils.svgPaths.curve('s',\n            [\n              Blockly.utils.svgPaths.point(width, back * control3Y),\n              endPoint2\n            ]);\n  }\n\n  // c 0,-10  -8,8  -8,-7.5  s 8,2.5  8,-7.5\n  var pathUp = makeMainPath(true);\n  // c 0,10  -8,-8  -8,7.5  s 8,-2.5  8,7.5\n  var pathDown = makeMainPath(false);\n\n  return {\n    type: this.SHAPES.PUZZLE,\n    width: width,\n    height: height,\n    pathDown: pathDown,\n    pathUp: pathUp\n  };\n};\n\n/**\n * @return {!Object} An object containing sizing and path information about\n *     notches.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.makeNotch = function() {\n  var width = this.NOTCH_WIDTH;\n  var height = this.NOTCH_HEIGHT;\n  var innerWidth = 3;\n  var outerWidth = (width - innerWidth) / 2;\n  function makeMainPath(dir) {\n    return Blockly.utils.svgPaths.line(\n        [\n          Blockly.utils.svgPaths.point(dir * outerWidth, height),\n          Blockly.utils.svgPaths.point(dir * innerWidth, 0),\n          Blockly.utils.svgPaths.point(dir * outerWidth, -height)\n        ]);\n  }\n  var pathLeft = makeMainPath(1);\n  var pathRight = makeMainPath(-1);\n\n  return {\n    type: this.SHAPES.NOTCH,\n    width: width,\n    height: height,\n    pathLeft: pathLeft,\n    pathRight: pathRight\n  };\n};\n\n/**\n * @return {!Object} An object containing sizing and path information about\n *     inside corners.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.makeInsideCorners = function() {\n  var radius = this.CORNER_RADIUS;\n\n  var innerTopLeftCorner = Blockly.utils.svgPaths.arc('a', '0 0,0', radius,\n      Blockly.utils.svgPaths.point(-radius, radius));\n\n  var innerBottomLeftCorner = Blockly.utils.svgPaths.arc('a', '0 0,0', radius,\n      Blockly.utils.svgPaths.point(radius, radius));\n\n  return {\n    width: radius,\n    height: radius,\n    pathTop: innerTopLeftCorner,\n    pathBottom: innerBottomLeftCorner\n  };\n};\n\n/**\n * @return {!Object} An object containing sizing and path information about\n *     outside corners.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.makeOutsideCorners = function() {\n  var radius = this.CORNER_RADIUS;\n  /**\n   * SVG path for drawing the rounded top-left corner.\n   * @const\n   */\n  var topLeft =\n      Blockly.utils.svgPaths.moveBy(0, radius) +\n      Blockly.utils.svgPaths.arc('a', '0 0,1', radius,\n          Blockly.utils.svgPaths.point(radius, -radius));\n\n  /**\n   * SVG path for drawing the rounded top-right corner.\n   * @const\n   */\n  var topRight =\n      Blockly.utils.svgPaths.arc('a', '0 0,1', radius,\n          Blockly.utils.svgPaths.point(radius, radius));\n\n  /**\n   * SVG path for drawing the rounded bottom-left corner.\n   * @const\n   */\n  var bottomLeft = Blockly.utils.svgPaths.arc('a', '0 0,1', radius,\n      Blockly.utils.svgPaths.point(-radius, -radius));\n\n  /**\n   * SVG path for drawing the rounded bottom-right corner.\n   * @const\n   */\n  var bottomRight = Blockly.utils.svgPaths.arc('a', '0 0,1', radius,\n      Blockly.utils.svgPaths.point(-radius, radius));\n\n  return {\n    topLeft: topLeft,\n    topRight: topRight,\n    bottomRight: bottomRight,\n    bottomLeft: bottomLeft,\n    rightHeight: radius\n  };\n};\n\n/**\n * Get an object with connection shape and sizing information based on the type\n * of the connection.\n * @param {!Blockly.RenderedConnection} connection The connection to find a\n *     shape object for\n * @return {!Object} The shape object for the connection.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.shapeFor = function(\n    connection) {\n  switch (connection.type) {\n    case Blockly.INPUT_VALUE:\n    case Blockly.OUTPUT_VALUE:\n      return this.PUZZLE_TAB;\n    case Blockly.PREVIOUS_STATEMENT:\n    case Blockly.NEXT_STATEMENT:\n      return this.NOTCH;\n    default:\n      throw Error('Unknown connection type');\n  }\n};\n\n/**\n * Create any DOM elements that this renderer needs (filters, patterns, etc).\n * @param {!SVGElement} svg The root of the workspace's SVG.\n * @param {string} tagName The name to use for the CSS style tag.\n * @param {string} selector The CSS selector to use.\n * @suppress {strictModuleDepCheck} Debug renderer only included in playground.\n * @package\n */\nBlockly.blockRendering.ConstantProvider.prototype.createDom = function(svg,\n    tagName, selector) {\n  this.injectCSS_(tagName, selector);\n\n  /*\n  <defs>\n    ... filters go here ...\n  </defs>\n  */\n  var defs = Blockly.utils.dom.createSvgElement('defs', {}, svg);\n  /*\n    <filter id=\"blocklyEmbossFilter837493\">\n      <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"1\" result=\"blur\" />\n      <feSpecularLighting in=\"blur\" surfaceScale=\"1\" specularConstant=\"0.5\"\n                          specularExponent=\"10\" lighting-color=\"white\"\n                          result=\"specOut\">\n        <fePointLight x=\"-5000\" y=\"-10000\" z=\"20000\" />\n      </feSpecularLighting>\n      <feComposite in=\"specOut\" in2=\"SourceAlpha\" operator=\"in\"\n                   result=\"specOut\" />\n      <feComposite in=\"SourceGraphic\" in2=\"specOut\" operator=\"arithmetic\"\n                   k1=\"0\" k2=\"1\" k3=\"1\" k4=\"0\" />\n    </filter>\n  */\n  var embossFilter = Blockly.utils.dom.createSvgElement('filter',\n      {'id': 'blocklyEmbossFilter' + this.randomIdentifier}, defs);\n  Blockly.utils.dom.createSvgElement('feGaussianBlur',\n      {'in': 'SourceAlpha', 'stdDeviation': 1, 'result': 'blur'}, embossFilter);\n  var feSpecularLighting = Blockly.utils.dom.createSvgElement('feSpecularLighting',\n      {\n        'in': 'blur',\n        'surfaceScale': 1,\n        'specularConstant': 0.5,\n        'specularExponent': 10,\n        'lighting-color': 'white',\n        'result': 'specOut'\n      },\n      embossFilter);\n  Blockly.utils.dom.createSvgElement('fePointLight',\n      {'x': -5000, 'y': -10000, 'z': 20000}, feSpecularLighting);\n  Blockly.utils.dom.createSvgElement('feComposite',\n      {\n        'in': 'specOut',\n        'in2': 'SourceAlpha',\n        'operator': 'in',\n        'result': 'specOut'\n      }, embossFilter);\n  Blockly.utils.dom.createSvgElement('feComposite',\n      {\n        'in': 'SourceGraphic',\n        'in2': 'specOut',\n        'operator': 'arithmetic',\n        'k1': 0,\n        'k2': 1,\n        'k3': 1,\n        'k4': 0\n      }, embossFilter);\n  this.embossFilterId = embossFilter.id;\n  this.embossFilter_ = embossFilter;\n\n  /*\n    <pattern id=\"blocklyDisabledPattern837493\" patternUnits=\"userSpaceOnUse\"\n             width=\"10\" height=\"10\">\n      <rect width=\"10\" height=\"10\" fill=\"#aaa\" />\n      <path d=\"M 0 0 L 10 10 M 10 0 L 0 10\" stroke=\"#cc0\" />\n    </pattern>\n  */\n  var disabledPattern = Blockly.utils.dom.createSvgElement('pattern',\n      {\n        'id': 'blocklyDisabledPattern' + this.randomIdentifier,\n        'patternUnits': 'userSpaceOnUse',\n        'width': 10,\n        'height': 10\n      }, defs);\n  Blockly.utils.dom.createSvgElement('rect',\n      {'width': 10, 'height': 10, 'fill': '#aaa'}, disabledPattern);\n  Blockly.utils.dom.createSvgElement('path',\n      {'d': 'M 0 0 L 10 10 M 10 0 L 0 10', 'stroke': '#cc0'}, disabledPattern);\n  this.disabledPatternId = disabledPattern.id;\n  this.disabledPattern_ = disabledPattern;\n\n  if (Blockly.blockRendering.Debug) {\n    var debugFilter = Blockly.utils.dom.createSvgElement('filter',\n        {\n          'id': 'blocklyDebugFilter' + this.randomIdentifier,\n          'height': '160%',\n          'width': '180%',\n          y: '-30%',\n          x: '-40%'\n        },\n        defs);\n    // Set all gaussian blur pixels to 1 opacity before applying flood\n    var debugComponentTransfer = Blockly.utils.dom.createSvgElement(\n        'feComponentTransfer', {'result': 'outBlur'}, debugFilter);\n    Blockly.utils.dom.createSvgElement('feFuncA',\n        {\n          'type': 'table', 'tableValues': '0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1'\n        },\n        debugComponentTransfer);\n    // Color the highlight\n    Blockly.utils.dom.createSvgElement('feFlood',\n        {\n          'flood-color': '#ff0000',\n          'flood-opacity': 0.5,\n          'result': 'outColor'\n        },\n        debugFilter);\n    Blockly.utils.dom.createSvgElement('feComposite',\n        {\n          'in': 'outColor', 'in2': 'outBlur',\n          'operator': 'in', 'result': 'outGlow'\n        },\n        debugFilter);\n    this.debugFilterId = debugFilter.id;\n    this.debugFilter_ = debugFilter;\n  }\n};\n\n/**\n * Inject renderer specific CSS into the page.\n * @param {string} tagName The name of the style tag to use.\n * @param {string} selector The CSS selector to use.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.injectCSS_ = function(\n    tagName, selector) {\n  var cssArray = this.getCSS_(selector);\n  var cssNodeId = 'blockly-renderer-style-' + tagName;\n  this.cssNode_ =\n    /** @type {!HTMLStyleElement} */ (document.getElementById(cssNodeId));\n  var text = cssArray.join('\\n');\n  if (this.cssNode_) {\n    // Already injected, update if the theme changed.\n    this.cssNode_.firstChild.textContent = text;\n    return;\n  }\n  // Inject CSS tag at start of head.\n  var cssNode =\n    /** @type {!HTMLStyleElement} */ (document.createElement('style'));\n  cssNode.id = cssNodeId;\n  var cssTextNode = document.createTextNode(text);\n  cssNode.appendChild(cssTextNode);\n  document.head.insertBefore(cssNode, document.head.firstChild);\n  this.cssNode_ = cssNode;\n};\n\n/**\n * Get any renderer specific CSS to inject when the renderer is initialized.\n * @param {string} selector CSS selector to use.\n * @return {!Array.<string>} Array of CSS strings.\n * @protected\n */\nBlockly.blockRendering.ConstantProvider.prototype.getCSS_ = function(selector) {\n  return [\n    /* eslint-disable indent */\n    // Text.\n    selector + ' .blocklyText, ',\n    selector + ' .blocklyFlyoutLabelText {',\n      'font: ' + this.FIELD_TEXT_FONTWEIGHT + ' ' +\n          this.FIELD_TEXT_FONTSIZE + 'pt ' + this.FIELD_TEXT_FONTFAMILY + ';',\n    '}',\n\n    // Fields.\n    selector + ' .blocklyText {',\n      'fill: #fff;',\n    '}',\n    selector + ' .blocklyNonEditableText>rect,',\n    selector + ' .blocklyEditableText>rect {',\n      'fill: ' + this.FIELD_BORDER_RECT_COLOUR + ';',\n      'fill-opacity: .6;',\n      'stroke: none;',\n    '}',\n    selector + ' .blocklyNonEditableText>text,',\n    selector + ' .blocklyEditableText>text {',\n      'fill: #000;',\n    '}',\n\n    // Flyout labels.\n    selector + ' .blocklyFlyoutLabelText {',\n      'fill: #000;',\n    '}',\n\n    // Bubbles.\n    selector + ' .blocklyText.blocklyBubbleText {',\n      'fill: #000;',\n    '}',\n\n    // Editable field hover.\n    selector + ' .blocklyEditableText:not(.editing):hover>rect {',\n      'stroke: #fff;',\n      'stroke-width: 2;',\n    '}',\n\n    // Text field input.\n    selector + ' .blocklyHtmlInput {',\n      'font-family: ' + this.FIELD_TEXT_FONTFAMILY + ';',\n      'font-weight: ' + this.FIELD_TEXT_FONTWEIGHT + ';',\n    '}',\n\n    // Selection highlight.\n    selector + ' .blocklySelected>.blocklyPath {',\n      'stroke: #fc3;',\n      'stroke-width: 3px;',\n    '}',\n\n    // Connection highlight.\n    selector + ' .blocklyHighlightedConnectionPath {',\n      'stroke: #fc3;',\n    '}',\n\n    // Replaceable highlight.\n    selector + ' .blocklyReplaceable .blocklyPath {',\n      'fill-opacity: .5;',\n    '}',\n    selector + ' .blocklyReplaceable .blocklyPathLight,',\n    selector + ' .blocklyReplaceable .blocklyPathDark {',\n      'display: none;',\n    '}',\n\n    // Insertion marker.\n    selector + ' .blocklyInsertionMarker>.blocklyPath {',\n      'fill-opacity: ' + this.INSERTION_MARKER_OPACITY + ';',\n      'stroke: none;',\n    '}',\n    /* eslint-enable indent */\n  ];\n};\n"],"file":"constants.min.js"}