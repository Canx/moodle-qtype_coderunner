'use strict';goog.provide("Blockly.geras.Highlighter");goog.require("Blockly.blockRendering.BottomRow");goog.require("Blockly.blockRendering.InputRow");goog.require("Blockly.blockRendering.Measurable");goog.require("Blockly.blockRendering.RenderInfo");goog.require("Blockly.blockRendering.Row");goog.require("Blockly.blockRendering.SpacerRow");goog.require("Blockly.blockRendering.TopRow");goog.require("Blockly.blockRendering.Types");goog.require("Blockly.utils.svgPaths");Blockly.geras.Highlighter=function(a){this.info_=a;this.steps_="";this.inlineSteps_="";this.RTL_=this.info_.RTL;var b=a.getRenderer();this.constants_=b.getConstants();this.highlightConstants_=b.getHighlightConstants();this.highlightOffset_=this.highlightConstants_.OFFSET;this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER;this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER;this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB;this.notchPaths_=this.highlightConstants_.NOTCH;this.startPaths_=this.highlightConstants_.START_HAT;this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH};Blockly.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_};Blockly.geras.Highlighter.prototype.drawTopCorner=function(a){this.steps_+=Blockly.utils.svgPaths.moveBy(a.xPos,this.info_.startY);for(var b=0,c;c=a.elements[b];b++){if(Blockly.blockRendering.Types.isLeftSquareCorner(c)){this.steps_+=this.highlightConstants_.START_POINT}else if(Blockly.blockRendering.Types.isLeftRoundedCorner(c)){this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_)}else if(Blockly.blockRendering.Types.isPreviousConnection(c)){this.steps_+=this.notchPaths_.pathLeft}else if(Blockly.blockRendering.Types.isHat(c)){this.steps_+=this.startPaths_.path(this.RTL_)}else if(Blockly.blockRendering.Types.isSpacer(c)&&0!=c.width){this.steps_+=Blockly.utils.svgPaths.lineOnAxis("H",c.xPos+c.width-this.highlightOffset_)}}var d=a.xPos+a.width-this.highlightOffset_;this.steps_+=Blockly.utils.svgPaths.lineOnAxis("H",d)};Blockly.geras.Highlighter.prototype.drawJaggedEdge_=function(a){if(this.info_.RTL){var b=a.height-this.jaggedTeethPaths_.height-this.highlightOffset_;this.steps_+=this.jaggedTeethPaths_.pathLeft+Blockly.utils.svgPaths.lineOnAxis("v",b)}};Blockly.geras.Highlighter.prototype.drawValueInput=function(a){var b=a.getLastInput();if(this.RTL_){var c=a.height-b.connectionHeight;this.steps_+=Blockly.utils.svgPaths.moveTo(b.xPos+b.width-this.highlightOffset_,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+Blockly.utils.svgPaths.lineOnAxis("v",c)}else{this.steps_+=Blockly.utils.svgPaths.moveTo(b.xPos+b.width,a.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}};Blockly.geras.Highlighter.prototype.drawStatementInput=function(a){var b=a.getLastInput();if(this.RTL_){var c=a.height-2*this.insideCornerPaths_.height;this.steps_+=Blockly.utils.svgPaths.moveTo(b.xPos,a.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+Blockly.utils.svgPaths.lineOnAxis("v",c)+this.insideCornerPaths_.pathBottom(this.RTL_)+Blockly.utils.svgPaths.lineTo(a.width-b.xPos-this.insideCornerPaths_.width,0)}else{this.steps_+=Blockly.utils.svgPaths.moveTo(b.xPos,a.yPos+a.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+Blockly.utils.svgPaths.lineTo(a.width-b.xPos-this.insideCornerPaths_.width,0)}};Blockly.geras.Highlighter.prototype.drawRightSideRow=function(a){var b=a.xPos+a.width-this.highlightOffset_;if(a.followsStatement){this.steps_+=Blockly.utils.svgPaths.lineOnAxis("H",b)}if(this.RTL_){this.steps_+=Blockly.utils.svgPaths.lineOnAxis("H",b);if(a.height>this.highlightOffset_){this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",a.yPos+a.height-this.highlightOffset_)}}};Blockly.geras.Highlighter.prototype.drawBottomRow=function(a){if(this.RTL_){this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",a.baseline-this.highlightOffset_)}else{var b=this.info_.bottomRow.elements[0];if(Blockly.blockRendering.Types.isLeftSquareCorner(b)){this.steps_+=Blockly.utils.svgPaths.moveTo(a.xPos+this.highlightOffset_,a.baseline-this.highlightOffset_)}else if(Blockly.blockRendering.Types.isLeftRoundedCorner(b)){this.steps_+=Blockly.utils.svgPaths.moveTo(a.xPos,a.baseline);this.steps_+=this.outsideCornerPaths_.bottomLeft()}}};Blockly.geras.Highlighter.prototype.drawLeft=function(){var a=this.info_.outputConnection;if(a){var b=a.connectionOffsetY+a.height;if(this.RTL_){this.steps_+=Blockly.utils.svgPaths.moveTo(this.info_.startX,b)}else{var c=this.info_.startX+this.highlightOffset_,d=this.info_.bottomRow.baseline-this.highlightOffset_;this.steps_+=Blockly.utils.svgPaths.moveTo(c,d);this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",b)}this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)}if(!this.RTL_){var e=this.info_.topRow;if(Blockly.blockRendering.Types.isLeftRoundedCorner(e.elements[0])){this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height)}else{this.steps_+=Blockly.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_)}}};Blockly.geras.Highlighter.prototype.drawInlineInput=function(a){var b=this.highlightOffset_,c=a.xPos+a.connectionWidth,d=a.centerline-a.height/2,e=a.width-a.connectionWidth,f=d+b;if(this.RTL_){var g=a.connectionOffsetY-b,h=a.height-(a.connectionOffsetY+a.connectionHeight)+b;this.inlineSteps_+=Blockly.utils.svgPaths.moveTo(c-b,f)+Blockly.utils.svgPaths.lineOnAxis("v",g)+this.puzzleTabPaths_.pathDown(this.RTL_)+Blockly.utils.svgPaths.lineOnAxis("v",h)+Blockly.utils.svgPaths.lineOnAxis("h",e)}else{this.inlineSteps_+=Blockly.utils.svgPaths.moveTo(a.xPos+a.width+b,f)+Blockly.utils.svgPaths.lineOnAxis("v",a.height)+Blockly.utils.svgPaths.lineOnAxis("h",-e)+Blockly.utils.svgPaths.moveTo(c,d+a.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}};
//# sourceMappingURL=highlighter.min.js.map
