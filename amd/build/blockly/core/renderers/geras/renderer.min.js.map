{"version":3,"sources":["../../../../../src/blockly/core/renderers/geras/renderer.js"],"names":["goog","provide","require","Blockly","geras","Renderer","name","superClass_","constructor","call","highlightConstants_","utils","object","inherits","blockRendering","prototype","init","theme","opt_rendererOverrides","makeHighlightConstants_","refreshDom","svg","getHighlightConstants","makeConstants_","ConstantProvider","makeRenderInfo_","block","RenderInfo","makeDrawer_","info","Drawer","makePathObject","root","style","PathObject","getConstants","HighlightConstantProvider","register"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Geras renderer.\n * @author fenichel@google.com (Rachel Fenichel)\n */\n'use strict';\n\ngoog.provide('Blockly.geras.Renderer');\n\ngoog.require('Blockly.blockRendering');\ngoog.require('Blockly.blockRendering.Renderer');\ngoog.require('Blockly.geras.ConstantProvider');\ngoog.require('Blockly.geras.Drawer');\ngoog.require('Blockly.geras.HighlightConstantProvider');\ngoog.require('Blockly.geras.PathObject');\ngoog.require('Blockly.geras.RenderInfo');\ngoog.require('Blockly.utils.object');\n\n\n/**\n * The geras renderer.\n * @param {string} name The renderer name.\n * @package\n * @constructor\n * @extends {Blockly.blockRendering.Renderer}\n */\nBlockly.geras.Renderer = function(name) {\n  Blockly.geras.Renderer.superClass_.constructor.call(this, name);\n\n  /**\n   * The renderer's highlight constant provider.\n   * @type {Blockly.geras.HighlightConstantProvider}\n   * @private\n   */\n  this.highlightConstants_ = null;\n};\nBlockly.utils.object.inherits(Blockly.geras.Renderer,\n    Blockly.blockRendering.Renderer);\n\n/**\n * Initialize the renderer.  Geras has a highlight provider in addition to\n * the normal constant provider.\n * @package\n * @override\n */\nBlockly.geras.Renderer.prototype.init = function(theme,\n    opt_rendererOverrides) {\n  Blockly.geras.Renderer.superClass_.init.call(this, theme,\n      opt_rendererOverrides);\n  this.highlightConstants_ = this.makeHighlightConstants_();\n  this.highlightConstants_.init();\n};\n\n/**\n * @override\n */\nBlockly.geras.Renderer.prototype.refreshDom = function(svg, theme) {\n  Blockly.geras.Renderer.superClass_.refreshDom.call(this, svg, theme);\n  this.getHighlightConstants().init();\n};\n\n/**\n * @override\n */\nBlockly.geras.Renderer.prototype.makeConstants_ = function() {\n  return new Blockly.geras.ConstantProvider();\n};\n\n/**\n * Create a new instance of the renderer's render info object.\n * @param {!Blockly.BlockSvg} block The block to measure.\n * @return {!Blockly.geras.RenderInfo} The render info object.\n * @protected\n * @override\n */\nBlockly.geras.Renderer.prototype.makeRenderInfo_ = function(block) {\n  return new Blockly.geras.RenderInfo(this, block);\n};\n\n/**\n * Create a new instance of the renderer's drawer.\n * @param {!Blockly.BlockSvg} block The block to render.\n * @param {!Blockly.blockRendering.RenderInfo} info An object containing all\n *   information needed to render this block.\n * @return {!Blockly.geras.Drawer} The drawer.\n * @protected\n * @override\n */\nBlockly.geras.Renderer.prototype.makeDrawer_ = function(block, info) {\n  return new Blockly.geras.Drawer(block,\n      /** @type {!Blockly.geras.RenderInfo} */ (info));\n};\n\n/**\n * Create a new instance of a renderer path object.\n * @param {!SVGElement} root The root SVG element.\n * @param {!Blockly.Theme.BlockStyle} style The style object to use for\n *     colouring.\n * @return {!Blockly.geras.PathObject} The renderer path object.\n * @package\n * @override\n */\nBlockly.geras.Renderer.prototype.makePathObject = function(root, style) {\n  return new Blockly.geras.PathObject(root, style,\n      /** @type {!Blockly.geras.ConstantProvider} */ (this.getConstants()));\n};\n\n/**\n * Create a new instance of the renderer's highlight constant provider.\n * @return {!Blockly.geras.HighlightConstantProvider} The highlight constant\n *     provider.\n * @protected\n */\nBlockly.geras.Renderer.prototype.makeHighlightConstants_ = function() {\n  return new Blockly.geras.HighlightConstantProvider(\n      /** @type {!Blockly.blockRendering.ConstantProvider} */\n      (this.getConstants()));\n};\n\n/**\n * Get the renderer's highlight constant provider.  We assume that when this is\n * called, the renderer has already been initialized.\n * @return {!Blockly.geras.HighlightConstantProvider} The highlight constant\n *     provider.\n * @package\n */\nBlockly.geras.Renderer.prototype.getHighlightConstants = function() {\n  return (\n    /** @type {!Blockly.geras.HighlightConstantProvider} */\n    (this.highlightConstants_));\n};\n\nBlockly.blockRendering.register('geras', Blockly.geras.Renderer);\n"],"file":"renderer.min.js"}