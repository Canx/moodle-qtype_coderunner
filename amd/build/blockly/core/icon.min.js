'use strict';goog.provide("Blockly.Icon");goog.require("Blockly.utils");goog.require("Blockly.utils.Coordinate");goog.require("Blockly.utils.dom");goog.require("Blockly.utils.Size");Blockly.Icon=function(a){this.block_=a};Blockly.Icon.prototype.collapseHidden=!0;Blockly.Icon.prototype.SIZE=17;Blockly.Icon.prototype.bubble_=null;Blockly.Icon.prototype.iconXY_=null;Blockly.Icon.prototype.createIcon=function(){if(this.iconGroup_){return}this.iconGroup_=Blockly.utils.dom.createSvgElement("g",{class:"blocklyIconGroup"},null);if(this.block_.isInFlyout){Blockly.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")}this.drawIcon_(this.iconGroup_);this.block_.getSvgRoot().appendChild(this.iconGroup_);Blockly.bindEventWithChecks_(this.iconGroup_,"mouseup",this,this.iconClick_);this.updateEditable()};Blockly.Icon.prototype.dispose=function(){Blockly.utils.dom.removeNode(this.iconGroup_);this.iconGroup_=null;this.setVisible(!1);this.block_=null};Blockly.Icon.prototype.updateEditable=function(){};Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_};Blockly.Icon.prototype.iconClick_=function(a){if(this.block_.workspace.isDragging()){return}if(!this.block_.isInFlyout&&!Blockly.utils.isRightButton(a)){this.setVisible(!this.isVisible())}};Blockly.Icon.prototype.applyColour=function(){if(this.isVisible()){this.bubble_.setColour(this.block_.style.colourPrimary)}};Blockly.Icon.prototype.setIconLocation=function(a){this.iconXY_=a;if(this.isVisible()){this.bubble_.setAnchorLocation(a)}};Blockly.Icon.prototype.computeIconLocation=function(){var a=this.block_.getRelativeToSurfaceXY(),b=Blockly.utils.getRelativeXY(this.iconGroup_),c=new Blockly.utils.Coordinate(a.x+b.x+this.SIZE/2,a.y+b.y+this.SIZE/2);if(!Blockly.utils.Coordinate.equals(this.getIconLocation(),c)){this.setIconLocation(c)}};Blockly.Icon.prototype.getIconLocation=function(){return this.iconXY_};Blockly.Icon.prototype.getCorrectedSize=function(){return new Blockly.utils.Size(Blockly.Icon.prototype.SIZE,Blockly.Icon.prototype.SIZE-2)};Blockly.Icon.prototype.drawIcon_;
//# sourceMappingURL=icon.min.js.map
