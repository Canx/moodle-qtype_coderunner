'use strict';goog.provide("Blockly.registry");goog.requireType("Blockly.blockRendering.Renderer");goog.requireType("Blockly.Field");goog.requireType("Blockly.IToolbox");goog.requireType("Blockly.Theme");goog.requireType("Blockly.utils.toolbox");Blockly.registry.typeMap_={};Blockly.registry.DEFAULT="default";Blockly.registry.Type=function(a){this.name_=a};Blockly.registry.Type.prototype.toString=function(){return this.name_};Blockly.registry.Type.RENDERER=new Blockly.registry.Type("renderer");Blockly.registry.Type.FIELD=new Blockly.registry.Type("field");Blockly.registry.Type.TOOLBOX=new Blockly.registry.Type("toolbox");Blockly.registry.Type.THEME=new Blockly.registry.Type("theme");Blockly.registry.register=function(a,b,c){if(!(a instanceof Blockly.registry.Type)&&"string"!=typeof a||""==(a+"").trim()){throw Error("Invalid type \""+a+"\". The type must be a non-empty string or a Blockly.registry.Type.")}a=(a+"").toLowerCase();if("string"!=typeof b||""==b.trim()){throw Error("Invalid name \""+b+"\". The name must be a non-empty string.")}b=b.toLowerCase();if(!c){throw Error("Can not register a null value")}var d=Blockly.registry.typeMap_[a];if(!d){d=Blockly.registry.typeMap_[a]={}}Blockly.registry.validate_(a,c);if(d[b]){throw Error("Name \""+b+"\" with type \""+a+"\" already registered.")}d[b]=c};Blockly.registry.validate_=function(a,b){switch(a){case Blockly.registry.Type.FIELD+"":if("function"!=typeof b.fromJson){throw Error("Type \""+a+"\" must have a fromJson function")}break;}};Blockly.registry.unregister=function(a,b){a=(a+"").toLowerCase();b=b.toLowerCase();var c=Blockly.registry.typeMap_[a];if(!c){console.warn("No type \""+a+"\" found");return}if(!c[b]){console.warn("No name \""+b+"\" with type \""+a+"\" found");return}delete Blockly.registry.typeMap_[a][b]};Blockly.registry.getItem_=function(a,b){a=(a+"").toLowerCase();b=b.toLowerCase();var c=Blockly.registry.typeMap_[a];if(!c){console.warn("No type \""+a+"\" found");return null}if(!c[b]){console.warn("No name \""+b+"\" with type \""+a+"\" found");return null}return c[b]};Blockly.registry.getClass=function(a,b){return Blockly.registry.getItem_(a,b)};Blockly.registry.getObject=function(a,b){return Blockly.registry.getItem_(a,b)};Blockly.registry.getClassFromOptions=function(a,b){var c=a.toString(),d=b.plugins[c]||Blockly.registry.DEFAULT;if("function"==typeof d){return d}return Blockly.registry.getClass(a,d)};
//# sourceMappingURL=registry.min.js.map
