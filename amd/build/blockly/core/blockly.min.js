'use strict';goog.provide("Blockly");goog.require("Blockly.constants");goog.require("Blockly.Events");goog.require("Blockly.Events.Ui");goog.require("Blockly.inject");goog.require("Blockly.navigation");goog.require("Blockly.Procedures");goog.require("Blockly.Tooltip");goog.require("Blockly.Touch");goog.require("Blockly.utils");goog.require("Blockly.utils.colour");goog.require("Blockly.utils.Size");goog.require("Blockly.Variables");goog.require("Blockly.WidgetDiv");goog.require("Blockly.WorkspaceSvg");goog.require("Blockly.Xml");Blockly.VERSION="uncompiled";Blockly.mainWorkspace=null;Blockly.selected=null;Blockly.draggingConnections=[];Blockly.clipboardXml_=null;Blockly.clipboardSource_=null;Blockly.clipboardTypeCounts_=null;Blockly.cache3dSupported_=null;Blockly.parentContainer=null;Blockly.EventData;Blockly.svgSize=function(a){a=a;return new Blockly.utils.Size(a.cachedWidth_,a.cachedHeight_)};Blockly.resizeSvgContents=function(a){a.resizeContents()};Blockly.svgResize=function(a){var b=a;while(b.options.parentWorkspace){b=b.options.parentWorkspace}var c=b.getParentSvg(),d=c.parentNode;if(!d){return}var e=d.offsetWidth,f=d.offsetHeight;if(c.cachedWidth_!=e){c.setAttribute("width",e+"px");c.cachedWidth_=e}if(c.cachedHeight_!=f){c.setAttribute("height",f+"px");c.cachedHeight_=f}b.resize()};Blockly.onKeyDown=function(a){var b=Blockly.mainWorkspace;if(!b){return}if(Blockly.utils.isTargetInput(a)||b.rendered&&!b.isVisible()){return}if(b.options.readOnly){Blockly.navigation.onKeyPress(a);return}var c=!1;if(a.keyCode==Blockly.utils.KeyCodes.ESC){Blockly.hideChaff();Blockly.navigation.onBlocklyAction(Blockly.navigation.ACTION_EXIT)}else if(!Blockly.Gesture.inProgress()&&Blockly.navigation.onKeyPress(a)){return}else if(a.keyCode==Blockly.utils.KeyCodes.BACKSPACE||a.keyCode==Blockly.utils.KeyCodes.DELETE){a.preventDefault();if(Blockly.Gesture.inProgress()){return}if(Blockly.selected&&Blockly.selected.isDeletable()){c=!0}}else if(a.altKey||a.ctrlKey||a.metaKey){if(Blockly.Gesture.inProgress()){return}if(Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isMovable()){if(a.keyCode==Blockly.utils.KeyCodes.C){Blockly.hideChaff();Blockly.copy_(Blockly.selected)}else if(a.keyCode==Blockly.utils.KeyCodes.X&&!Blockly.selected.workspace.isFlyout){Blockly.copy_(Blockly.selected);c=!0}}if(a.keyCode==Blockly.utils.KeyCodes.V){if(Blockly.clipboardXml_){var d=Blockly.clipboardSource_;if(d.isFlyout){d=d.targetWorkspace}if(Blockly.clipboardTypeCounts_&&d.isCapacityAvailable(Blockly.clipboardTypeCounts_)){Blockly.Events.setGroup(!0);d.paste(Blockly.clipboardXml_);Blockly.Events.setGroup(!1)}}}else if(a.keyCode==Blockly.utils.KeyCodes.Z){Blockly.hideChaff();b.undo(a.shiftKey)}else if(a.ctrlKey&&a.keyCode==Blockly.utils.KeyCodes.Y){Blockly.hideChaff();b.undo(!0)}}if(c&&!Blockly.selected.workspace.isFlyout){Blockly.Events.setGroup(!0);Blockly.hideChaff();var e=Blockly.selected;e.dispose(!0,!0);Blockly.Events.setGroup(!1)}};Blockly.copy_=function(a){var b=a.toCopyData();Blockly.clipboardXml_=b.xml;Blockly.clipboardSource_=b.source;Blockly.clipboardTypeCounts_=b.typeCounts};Blockly.duplicate=function(a){var b=Blockly.clipboardXml_,c=Blockly.clipboardSource_;Blockly.copy_(a);a.workspace.paste(Blockly.clipboardXml_);Blockly.clipboardXml_=b;Blockly.clipboardSource_=c};Blockly.onContextMenu_=function(a){if(!Blockly.utils.isTargetInput(a)){a.preventDefault()}};Blockly.hideChaff=function(a){Blockly.Tooltip.hide();Blockly.WidgetDiv.hide();Blockly.DropDownDiv.hideWithoutAnimation();if(!a){var b=Blockly.getMainWorkspace();if(b.trashcan&&b.trashcan.flyout){b.trashcan.flyout.hide()}var c=b.getToolbox();if(c&&c.getFlyout()&&c.getFlyout().autoClose){c.clearSelection()}}};Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace};Blockly.alert=function(a,b){alert(a);if(b){b()}};Blockly.confirm=function(a,b){b(confirm(a))};Blockly.prompt=function(a,b,c){c(prompt(a,b))};Blockly.jsonInitFactory_=function(a){return function(){this.jsonInit(a)}};Blockly.defineBlocksWithJsonArray=function(a){for(var b=0,c;b<a.length;b++){c=a[b];if(!c){console.warn("Block definition #"+b+" in JSON array is "+c+". Skipping.")}else{var d=c.type;if(null==d||""===d){console.warn("Block definition #"+b+" in JSON array is missing a type attribute. Skipping.")}else{if(Blockly.Blocks[d]){console.warn("Block definition #"+b+" in JSON array overwrites prior definition of \""+d+"\".")}Blockly.Blocks[d]={init:Blockly.jsonInitFactory_(c)}}}}};Blockly.bindEventWithChecks_=function(a,b,c,d,e,f){var g=!1,h=function(a){for(var b=Blockly.Touch.splitEventByTouches(a),f=0,h;h=b[f];f++){if(!e&&!Blockly.Touch.shouldHandleEvent(h)){continue}Blockly.Touch.setClientFromTouch(h);if(c){d.call(c,h)}else{d(h)}g=!0}},j=[];if(Blockly.utils.global.PointerEvent&&b in Blockly.Touch.TOUCH_MAP){for(var k=0,l;l=Blockly.Touch.TOUCH_MAP[b][k];k++){a.addEventListener(l,h,!1);j.push([a,l,h])}}else{a.addEventListener(b,h,!1);j.push([a,b,h]);if(b in Blockly.Touch.TOUCH_MAP){for(var m=function(a){h(a);if(g&&!f){a.preventDefault()}},k=0,l;l=Blockly.Touch.TOUCH_MAP[b][k];k++){a.addEventListener(l,m,!1);j.push([a,l,m])}}}return j};Blockly.bindEvent_=function(a,b,c,d){var f=function(a){if(c){d.call(c,a)}else{d(a)}},g=[];if(Blockly.utils.global.PointerEvent&&b in Blockly.Touch.TOUCH_MAP){for(var h=0,e;e=Blockly.Touch.TOUCH_MAP[b][h];h++){a.addEventListener(e,f,!1);g.push([a,e,f])}}else{a.addEventListener(b,f,!1);g.push([a,b,f]);if(b in Blockly.Touch.TOUCH_MAP){for(var j=function(a){if(a.changedTouches&&1==a.changedTouches.length){var b=a.changedTouches[0];a.clientX=b.clientX;a.clientY=b.clientY}f(a);a.preventDefault()},h=0,e;e=Blockly.Touch.TOUCH_MAP[b][h];h++){a.addEventListener(e,j,!1);g.push([a,e,j])}}}return g};Blockly.unbindEvent_=function(a){while(a.length){var b=a.pop(),c=b[0],d=b[1],e=b[2];c.removeEventListener(d,e,!1)}return e};Blockly.isNumber=function(a){return /^\s*-?\d+(\.\d+)?\s*$/.test(a)};Blockly.hueToHex=function(a){return Blockly.utils.colour.hsvToHex(a,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)};Blockly.checkBlockColourConstants=function(){Blockly.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0);Blockly.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210);Blockly.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0);Blockly.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120);Blockly.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0);Blockly.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230);Blockly.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0);Blockly.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160);Blockly.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0);Blockly.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260);Blockly.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0);Blockly.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20);Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0);Blockly.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330);Blockly.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310);Blockly.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)};Blockly.checkBlockColourConstant_=function(a,b,c){for(var d="Blockly",e=Blockly,f=0;f<b.length;++f){d+="."+b[f];if(e){e=e[b[f]]}}if(e&&e!==c){var g=c===void 0?"%1 has been removed. Use Blockly.Msg[\"%2\"].":"%1 is deprecated and unused. Override Blockly.Msg[\"%2\"].",h=g.replace("%1",d).replace("%2",a);console.warn(h)}};Blockly.setParentContainer=function(a){Blockly.parentContainer=a};
//# sourceMappingURL=blockly.min.js.map
