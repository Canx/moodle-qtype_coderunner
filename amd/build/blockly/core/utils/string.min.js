'use strict';goog.provide("Blockly.utils.string");Blockly.utils.string.startsWith=function(a,b){return 0==a.lastIndexOf(b,0)};Blockly.utils.string.shortestStringLength=function(a){if(!a.length){return 0}return a.reduce(function(c,a){return c.length<a.length?c:a}).length};Blockly.utils.string.commonWordPrefix=function(a,b){if(!a.length){return 0}else if(1==a.length){return a[0].length}for(var c=0,d=b||Blockly.utils.string.shortestStringLength(a),e=0,f;e<d;e++){f=a[0][e];for(var g=1;g<a.length;g++){if(f!=a[g][e]){return c}}if(" "==f){c=e+1}}for(var g=1,f;g<a.length;g++){f=a[g][e];if(f&&" "!=f){return c}}return d};Blockly.utils.string.commonWordSuffix=function(a,b){if(!a.length){return 0}else if(1==a.length){return a[0].length}for(var c=0,d=b||Blockly.utils.string.shortestStringLength(a),e=0,f;e<d;e++){f=a[0].substr(-e-1,1);for(var g=1;g<a.length;g++){if(f!=a[g].substr(-e-1,1)){return c}}if(" "==f){c=e+1}}for(var g=1,f;g<a.length;g++){f=a[g].charAt(a[g].length-e-1);if(f&&" "!=f){return c}}return d};Blockly.utils.string.wrap=function(a,b){for(var c=a.split("\n"),d=0;d<c.length;d++){c[d]=Blockly.utils.string.wrapLine_(c[d],b)}return c.join("\n")};Blockly.utils.string.wrapLine_=function(a,b){if(a.length<=b){return a}for(var c=a.trim().split(/\s+/),d=0;d<c.length;d++){if(c[d].length>b){b=c[d].length}}var e,f=-Infinity,g,h=1;do{e=f;g=a;for(var j=[],k=c.length/h,l=1,d=0;d<c.length-1;d++){if(l<(d+1.5)/k){l++;j[d]=!0}else{j[d]=!1}}j=Blockly.utils.string.wrapMutate_(c,j,b);f=Blockly.utils.string.wrapScore_(c,j,b);a=Blockly.utils.string.wrapToText_(c,j);h++}while(f>e);return g};Blockly.utils.string.wrapScore_=function(a,b,c){for(var d=[0],e=[],f=0;f<a.length;f++){d[d.length-1]+=a[f].length;if(!0===b[f]){d.push(0);e.push(a[f].charAt(a[f].length-1))}else if(!1===b[f]){d[d.length-1]++}}for(var g=Math.max.apply(Math,d),h=0,f=0;f<d.length;f++){h-=2*Math.pow(Math.abs(c-d[f]),1.5);h-=Math.pow(g-d[f],1.5);if(-1!=".?!".indexOf(e[f])){h+=c/3}else if(-1!=",;)]}".indexOf(e[f])){h+=c/4}}if(1<d.length&&d[d.length-1]<=d[d.length-2]){h+=.5}return h};Blockly.utils.string.wrapMutate_=function(a,b,c){for(var d=Blockly.utils.string.wrapScore_(a,b,c),e,f=0;f<b.length-1;f++){if(b[f]==b[f+1]){continue}var g=[].concat(b);g[f]=!g[f];g[f+1]=!g[f+1];var h=Blockly.utils.string.wrapScore_(a,g,c);if(h>d){d=h;e=g}}if(e){return Blockly.utils.string.wrapMutate_(a,e,c)}return b};Blockly.utils.string.wrapToText_=function(a,b){for(var c=[],d=0;d<a.length;d++){c.push(a[d]);if(b[d]!==void 0){c.push(b[d]?"\n":" ")}}return c.join("")};
//# sourceMappingURL=string.min.js.map
