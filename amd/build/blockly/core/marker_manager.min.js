'use strict';goog.provide("Blockly.MarkerManager");goog.require("Blockly.Cursor");goog.require("Blockly.Marker");Blockly.MarkerManager=function(a){this.cursor_=null;this.cursorSvg_=null;this.markers_={};this.workspace_=a};Blockly.MarkerManager.prototype.registerMarker=function(a,b){if(this.markers_[a]){this.unregisterMarker(a)}b.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,b));this.setMarkerSvg(b.getDrawer().createDom());this.markers_[a]=b};Blockly.MarkerManager.prototype.unregisterMarker=function(a){var b=this.markers_[a];if(b){b.dispose();delete this.markers_[a]}else{throw Error("Marker with id "+a+" does not exist. Can only unregistermarkers that exist.")}};Blockly.MarkerManager.prototype.getCursor=function(){return this.cursor_};Blockly.MarkerManager.prototype.getMarker=function(a){return this.markers_[a]};Blockly.MarkerManager.prototype.setCursor=function(a){if(this.cursor_&&this.cursor_.getDrawer()){this.cursor_.getDrawer().dispose()}this.cursor_=a;if(this.cursor_){var b=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_);this.cursor_.setDrawer(b);this.setCursorSvg(this.cursor_.getDrawer().createDom())}};Blockly.MarkerManager.prototype.setCursorSvg=function(a){if(!a){this.cursorSvg_=null;return}this.workspace_.getBlockCanvas().appendChild(a);this.cursorSvg_=a};Blockly.MarkerManager.prototype.setMarkerSvg=function(a){if(!a){this.markerSvg_=null;return}if(this.workspace_.getBlockCanvas()){if(this.cursorSvg_){this.workspace_.getBlockCanvas().insertBefore(a,this.cursorSvg_)}else{this.workspace_.getBlockCanvas().appendChild(a)}}};Blockly.MarkerManager.prototype.updateMarkers=function(){if(this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_){this.workspace_.getCursor().draw()}};Blockly.MarkerManager.prototype.dispose=function(){for(var a=Object.keys(this.markers_),b=0,c;c=a[b];b++){this.unregisterMarker(c)}this.markers_=null;this.cursor_.dispose();this.cursor_=null};
//# sourceMappingURL=marker_manager.min.js.map
