{"version":3,"sources":["../../../src/blockly/core/zoom_controls.js"],"names":["goog","provide","require","Blockly","ZoomControls","workspace","workspace_","prototype","WIDTH_","HEIGHT_","MARGIN_BOTTOM_","MARGIN_SIDE_","svgGroup_","left_","top_","createDom","utils","dom","createSvgElement","rnd","Math","random","substring","createZoomOutSvg_","createZoomInSvg_","isMovable","createZoomResetSvg_","init","verticalSpacing","verticalSpacing_","dispose","removeNode","position","metrics","getMetrics","toolboxPosition","TOOLBOX_AT_LEFT","horizontalLayout","RTL","viewWidth","absoluteLeft","Scrollbar","scrollbarThickness","TOOLBOX_AT_BOTTOM","zoomInGroup_","setAttribute","zoomResetGroup_","viewHeight","absoluteTop","zoomOutGroup_","ws","clip","zoomoutSvg","SPRITE","width","height","setAttributeNS","XLINK_NS","options","pathToMedia","url","bindEventWithChecks_","e","markFocused","zoomCenter","Touch","clearTouchIdentifier","stopPropagation","preventDefault","zoominSvg","zoomresetSvg","setScale","zoomOptions","startScale","beginCanvasTransition","scrollCenter","setTimeout","endCanvasTransition","bind","Css","register"],"mappings":"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","sourcesContent":["/**\n * @license\n * Copyright 2015 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview Object representing a zoom icons.\n * @author carloslfu@gmail.com (Carlos Galarza)\n */\n'use strict';\n\ngoog.provide('Blockly.ZoomControls');\n\ngoog.require('Blockly.Css');\ngoog.require('Blockly.Scrollbar');\ngoog.require('Blockly.Touch');\ngoog.require('Blockly.utils.dom');\n\n\n/**\n * Class for a zoom controls.\n * @param {!Blockly.WorkspaceSvg} workspace The workspace to sit in.\n * @constructor\n */\nBlockly.ZoomControls = function(workspace) {\n  /**\n   * @type {!Blockly.WorkspaceSvg}\n   * @private\n   */\n  this.workspace_ = workspace;\n};\n\n/**\n * Width of the zoom controls.\n * @type {number}\n * @private\n */\nBlockly.ZoomControls.prototype.WIDTH_ = 32;\n\n/**\n * Height of the zoom controls.\n * @type {number}\n * @private\n */\nBlockly.ZoomControls.prototype.HEIGHT_ = 110;\n\n/**\n * Distance between zoom controls and bottom edge of workspace.\n * @type {number}\n * @private\n */\nBlockly.ZoomControls.prototype.MARGIN_BOTTOM_ = 20;\n\n/**\n * Distance between zoom controls and right edge of workspace.\n * @type {number}\n * @private\n */\nBlockly.ZoomControls.prototype.MARGIN_SIDE_ = 20;\n\n/**\n * The SVG group containing the zoom controls.\n * @type {SVGElement}\n * @private\n */\nBlockly.ZoomControls.prototype.svgGroup_ = null;\n\n/**\n * Left coordinate of the zoom controls.\n * @type {number}\n * @private\n */\nBlockly.ZoomControls.prototype.left_ = 0;\n\n/**\n * Top coordinate of the zoom controls.\n * @type {number}\n * @private\n */\nBlockly.ZoomControls.prototype.top_ = 0;\n\n/**\n * Create the zoom controls.\n * @return {!SVGElement} The zoom controls SVG group.\n */\nBlockly.ZoomControls.prototype.createDom = function() {\n  this.svgGroup_ =\n      Blockly.utils.dom.createSvgElement('g', {}, null);\n\n  // Each filter/pattern needs a unique ID for the case of multiple Blockly\n  // instances on a page.  Browser behaviour becomes undefined otherwise.\n  // https://neil.fraser.name/news/2015/11/01/\n  var rnd = String(Math.random()).substring(2);\n  this.createZoomOutSvg_(rnd);\n  this.createZoomInSvg_(rnd);\n  if (this.workspace_.isMovable()) {\n    // If we zoom to the center and the workspace isn't movable we could\n    // loose blocks at the edges of the workspace.\n    this.createZoomResetSvg_(rnd);\n  }\n  return this.svgGroup_;\n};\n\n/**\n * Initialize the zoom controls.\n * @param {number} verticalSpacing Vertical distances from workspace edge to the\n *    same edge of the controls.\n * @return {number} Vertical distance from workspace edge to the opposite\n *    edge of the controls.\n */\nBlockly.ZoomControls.prototype.init = function(verticalSpacing) {\n  this.verticalSpacing_ = this.MARGIN_BOTTOM_ + verticalSpacing;\n  return this.verticalSpacing_ + this.HEIGHT_;\n};\n\n/**\n * Dispose of this zoom controls.\n * Unlink from all DOM elements to prevent memory leaks.\n */\nBlockly.ZoomControls.prototype.dispose = function() {\n  if (this.svgGroup_) {\n    Blockly.utils.dom.removeNode(this.svgGroup_);\n  }\n};\n\n/**\n * Position the zoom controls.\n * It is positioned in the opposite corner to the corner the\n * categories/toolbox starts at.\n */\nBlockly.ZoomControls.prototype.position = function() {\n  // Not yet initialized.\n  if (!this.verticalSpacing_) {\n    return;\n  }\n  var metrics = this.workspace_.getMetrics();\n  if (!metrics) {\n    // There are no metrics available (workspace is probably not visible).\n    return;\n  }\n  if (metrics.toolboxPosition == Blockly.TOOLBOX_AT_LEFT ||\n      (this.workspace_.horizontalLayout && !this.workspace_.RTL)) {\n    // Toolbox starts in the left corner.\n    this.left_ = metrics.viewWidth + metrics.absoluteLeft -\n        this.WIDTH_ - this.MARGIN_SIDE_ - Blockly.Scrollbar.scrollbarThickness;\n  } else {\n    // Toolbox starts in the right corner.\n    this.left_ = this.MARGIN_SIDE_ + Blockly.Scrollbar.scrollbarThickness;\n  }\n\n  if (metrics.toolboxPosition == Blockly.TOOLBOX_AT_BOTTOM) {\n    this.top_ = this.verticalSpacing_;\n    this.zoomInGroup_.setAttribute('transform', 'translate(0, 34)');\n    if (this.zoomResetGroup_) {\n      this.zoomResetGroup_.setAttribute('transform', 'translate(0, 77)');\n    }\n  } else {\n    this.top_ = metrics.viewHeight + metrics.absoluteTop -\n        this.HEIGHT_ - this.verticalSpacing_;\n    this.zoomInGroup_.setAttribute('transform', 'translate(0, 43)');\n    this.zoomOutGroup_.setAttribute('transform', 'translate(0, 77)');\n  }\n\n  this.svgGroup_.setAttribute('transform',\n      'translate(' + this.left_ + ',' + this.top_ + ')');\n};\n\n/**\n * Create the zoom in icon and its event handler.\n * @param {string} rnd The random string to use as a suffix in the clip path's\n *     ID.  These IDs must be unique in case there are multiple Blockly\n *     instances on the same page.\n * @private\n */\nBlockly.ZoomControls.prototype.createZoomOutSvg_ = function(rnd) {\n  /* This markup will be generated and added to the .svgGroup_:\n  <g class=\"blocklyZoom\">\n    <clipPath id=\"blocklyZoomoutClipPath837493\">\n      <rect width=\"32\" height=\"32></rect>\n    </clipPath>\n    <image width=\"96\" height=\"124\" x=\"-64\" y=\"-92\" xlink:href=\"media/sprites.png\"\n        clip-path=\"url(#blocklyZoomoutClipPath837493)\"></image>\n  </g>\n  */\n  var ws = this.workspace_;\n  this.zoomOutGroup_ = Blockly.utils.dom.createSvgElement('g',\n      {'class': 'blocklyZoom'}, this.svgGroup_);\n  var clip = Blockly.utils.dom.createSvgElement('clipPath',\n      {\n        'id': 'blocklyZoomoutClipPath' + rnd\n      },\n      this.zoomOutGroup_);\n  Blockly.utils.dom.createSvgElement('rect',\n      {\n        'width': 32,\n        'height': 32,\n      },\n      clip);\n  var zoomoutSvg = Blockly.utils.dom.createSvgElement('image',\n      {\n        'width': Blockly.SPRITE.width,\n        'height': Blockly.SPRITE.height,\n        'x': -64,\n        'y': -92,\n        'clip-path': 'url(#blocklyZoomoutClipPath' + rnd + ')'\n      },\n      this.zoomOutGroup_);\n  zoomoutSvg.setAttributeNS(Blockly.utils.dom.XLINK_NS, 'xlink:href',\n      ws.options.pathToMedia + Blockly.SPRITE.url);\n\n  // Attach listener.\n  Blockly.bindEventWithChecks_(zoomoutSvg, 'mousedown', null, function(e) {\n    ws.markFocused();\n    ws.zoomCenter(-1);\n    Blockly.Touch.clearTouchIdentifier();  // Don't block future drags.\n    e.stopPropagation();  // Don't start a workspace scroll.\n    e.preventDefault();  // Stop double-clicking from selecting text.\n  });\n};\n\n/**\n * Create the zoom out icon and its event handler.\n * @param {string} rnd The random string to use as a suffix in the clip path's\n *     ID.  These IDs must be unique in case there are multiple Blockly\n *     instances on the same page.\n * @private\n */\nBlockly.ZoomControls.prototype.createZoomInSvg_ = function(rnd) {\n  /* This markup will be generated and added to the .svgGroup_:\n  <g class=\"blocklyZoom\">\n    <clipPath id=\"blocklyZoominClipPath837493\">\n      <rect width=\"32\" height=\"32\"></rect>\n    </clipPath>\n    <image width=\"96\" height=\"124\" x=\"-32\" y=\"-92\" xlink:href=\"media/sprites.png\"\n        clip-path=\"url(#blocklyZoominClipPath837493)\"></image>\n  </g>\n  */\n  var ws = this.workspace_;\n  this.zoomInGroup_ = Blockly.utils.dom.createSvgElement('g',\n      {'class': 'blocklyZoom'}, this.svgGroup_);\n  var clip = Blockly.utils.dom.createSvgElement('clipPath',\n      {\n        'id': 'blocklyZoominClipPath' + rnd\n      },\n      this.zoomInGroup_);\n  Blockly.utils.dom.createSvgElement('rect',\n      {\n        'width': 32,\n        'height': 32,\n      },\n      clip);\n  var zoominSvg = Blockly.utils.dom.createSvgElement('image',\n      {\n        'width': Blockly.SPRITE.width,\n        'height': Blockly.SPRITE.height,\n        'x': -32,\n        'y': -92,\n        'clip-path': 'url(#blocklyZoominClipPath' + rnd + ')'\n      },\n      this.zoomInGroup_);\n  zoominSvg.setAttributeNS(Blockly.utils.dom.XLINK_NS, 'xlink:href',\n      ws.options.pathToMedia + Blockly.SPRITE.url);\n\n  // Attach listener.\n  Blockly.bindEventWithChecks_(zoominSvg, 'mousedown', null, function(e) {\n    ws.markFocused();\n    ws.zoomCenter(1);\n    Blockly.Touch.clearTouchIdentifier();  // Don't block future drags.\n    e.stopPropagation();  // Don't start a workspace scroll.\n    e.preventDefault();  // Stop double-clicking from selecting text.\n  });\n};\n\n/**\n * Create the zoom reset icon and its event handler.\n * @param {string} rnd The random string to use as a suffix in the clip path's\n *     ID.  These IDs must be unique in case there are multiple Blockly\n *     instances on the same page.\n * @private\n */\nBlockly.ZoomControls.prototype.createZoomResetSvg_ = function(rnd) {\n  /* This markup will be generated and added to the .svgGroup_:\n  <g class=\"blocklyZoom\">\n    <clipPath id=\"blocklyZoomresetClipPath837493\">\n      <rect width=\"32\" height=\"32\"></rect>\n    </clipPath>\n    <image width=\"96\" height=\"124\" x=\"-32\" y=\"-92\" xlink:href=\"media/sprites.png\"\n        clip-path=\"url(#blocklyZoomresetClipPath837493)\"></image>\n  </g>\n  */\n  var ws = this.workspace_;\n  this.zoomResetGroup_ = Blockly.utils.dom.createSvgElement('g',\n      {'class': 'blocklyZoom'}, this.svgGroup_);\n  var clip = Blockly.utils.dom.createSvgElement('clipPath',\n      {\n        'id': 'blocklyZoomresetClipPath' + rnd\n      },\n      this.zoomResetGroup_);\n  Blockly.utils.dom.createSvgElement('rect',\n      {\n        'width': 32,\n        'height': 32\n      },\n      clip);\n  var zoomresetSvg = Blockly.utils.dom.createSvgElement('image',\n      {\n        'width': Blockly.SPRITE.width,\n        'height': Blockly.SPRITE.height,\n        'y': -92,\n        'clip-path': 'url(#blocklyZoomresetClipPath' + rnd + ')'\n      },\n      this.zoomResetGroup_);\n  zoomresetSvg.setAttributeNS(Blockly.utils.dom.XLINK_NS, 'xlink:href',\n      ws.options.pathToMedia + Blockly.SPRITE.url);\n\n  // Attach event listeners.\n  Blockly.bindEventWithChecks_(zoomresetSvg, 'mousedown', null, function(e) {\n    ws.markFocused();\n    ws.setScale(ws.options.zoomOptions.startScale);\n    ws.beginCanvasTransition();\n    ws.scrollCenter();\n    setTimeout(ws.endCanvasTransition.bind(ws), 500);\n    Blockly.Touch.clearTouchIdentifier();  // Don't block future drags.\n    e.stopPropagation();  // Don't start a workspace scroll.\n    e.preventDefault();  // Stop double-clicking from selecting text.\n  });\n};\n\n/**\n * CSS for zoom controls.  See css.js for use.\n */\nBlockly.Css.register([\n  /* eslint-disable indent */\n  '.blocklyZoom>image, .blocklyZoom>svg>image {',\n    'opacity: .4;',\n  '}',\n\n  '.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {',\n    'opacity: .6;',\n  '}',\n\n  '.blocklyZoom>image:active, .blocklyZoom>svg>image:active {',\n    'opacity: .8;',\n  '}'\n  /* eslint-enable indent */\n]);\n"],"file":"zoom_controls.min.js"}