define ("qtype_coderunner/ui_blockly",["jquery","require","core/url","qtype_coderunner/blockly/browser"],function(a,b,c,d){function e(a,e,f,g){var h,i,j,k;k=this;i=g.locale;j=g.toolbox;h=document.getElementById(a);this.textArea=h;this.blocklyDiv=document.createElement("div");this.blocklyDiv.id="blockly_"+a;this.blocklyDiv.class="coderunner_blockly";this.blocklyDiv.tabindex=1;this.blocklyDiv.style.height=f+"px";this.blocklyDiv.style.width=e+"px";h.parentNode.insertBefore(this.blocklyDiv,h);k.fail=!1;try{if(i){b(["./blockly/msg/"+i],function(a){l(a)})}else{l()}}catch(a){k.fail=!0;console.log(a)}var l=function(a){if(a&&"en"!=i){d.setLocale(a)}k.workspace=d.inject(k.blocklyDiv,{toolbox:j,media:c.relativeUrl("question/type/coderunner/amd/src/blockly/media/","",!1)});if(""!=h.value){var b=d.Xml.textToDom(h.value);d.Xml.domToWorkspace(b,k.workspace)}}}e.prototype.getElement=function(){return this.blocklyDiv};e.prototype.failed=function(){return this.fail};e.prototype.failMessage=function(){};e.prototype.sync=function(){var a=d.Xml.workspaceToDom(this.workspace),b=d.Python.workspaceToCode(this.workspace),c=d.Xml.textToDom("<code><![CDATA["+b+"]]></code>");a.appendChild(c);this.textArea.value=new XMLSerializer().serializeToString(a)};e.prototype.destroy=function(){if(this.workspace){this.workspace.dispose()}if(this.blocklyDiv){this.blocklyDiv.parentNode.removeChild(this.blocklyDiv);this.blocklyDiv=null}};e.prototype.resize=function(a,b){this.blocklyDiv.style.height=b+"px";this.blocklyDiv.style.width=a+"px";if(this.workspace){d.svgResize(this.workspace)}};e.prototype.hasFocus=function(){};return{Constructor:e}});
//# sourceMappingURL=ui_blockly.min.js.map
